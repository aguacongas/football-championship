!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!_[e]||!S[e])return;for(var n in S[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--g&&0===v&&T()}(e,n),t&&t(e,n)};var n,r=!0,i="1110def195ee379212d8",o=1e4,a={},s=[],u=[];function c(e){var t=N[e];if(!t)return A;var r=function(r){return t.hot.active?(N[r]?-1===N[r].parents.indexOf(e)&&N[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),A(r)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var o in A)Object.prototype.hasOwnProperty.call(A,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(e){return"ready"===d&&f("prepare"),v++,A.e(e).then(t,function(e){throw t(),e});function t(){v--,"prepare"===d&&(b[e]||I(e),0===v&&0===g&&T())}},r.t=function(e,t){return 1&t&&(e=r(e)),A.t(e,-2&t)},r}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:C,status:function(e){if(!e)return d;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:a[e]};return n=void 0,t}var p=[],d="idle";function f(e){d=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var h,m,y,g=0,v=0,b={},S={},_={};function E(e){return+e+""===e?+e:e}function w(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=o,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=A.p+""+i+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;S={},b={},_=e.c,y=e.h,f("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});m={};return I(0),"prepare"===d&&0===v&&0===g&&T(),t});var t}function I(e){_[e]?(S[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=A.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function T(){f("ready");var e=h;if(h=null,e)if(r)Promise.resolve().then(function(){return C(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(E(n));e.resolve(t)}}function C(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var n,r,o,u,c;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((u=N[o])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var s=0;s<u.parents.length;s++){var c=u.parents[s],l=N[c];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([c]),moduleId:o,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[o]?(n[c]||(n[c]=[]),p(n[c],[o])):(delete n[c],t.push(c),r.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var h={},g=[],v={},b=function(){console.warn("[HMR] unexpected require("+w.moduleId+") to disposed module")};for(var S in m)if(Object.prototype.hasOwnProperty.call(m,S)){var w;c=E(S);var I=!1,T=!1,C=!1,k="";switch((w=m[S]?l(c):{type:"disposed",moduleId:S}).chain&&(k="\nUpdate propagation: "+w.chain.join(" -> ")),w.type){case"self-declined":t.onDeclined&&t.onDeclined(w),t.ignoreDeclined||(I=new Error("Aborted because of self decline: "+w.moduleId+k));break;case"declined":t.onDeclined&&t.onDeclined(w),t.ignoreDeclined||(I=new Error("Aborted because of declined dependency: "+w.moduleId+" in "+w.parentId+k));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(w),t.ignoreUnaccepted||(I=new Error("Aborted because "+c+" is not accepted"+k));break;case"accepted":t.onAccepted&&t.onAccepted(w),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(w),C=!0;break;default:throw new Error("Unexception type "+w.type)}if(I)return f("abort"),Promise.reject(I);if(T)for(c in v[c]=m[c],p(g,w.outdatedModules),w.outdatedDependencies)Object.prototype.hasOwnProperty.call(w.outdatedDependencies,c)&&(h[c]||(h[c]=[]),p(h[c],w.outdatedDependencies[c]));C&&(p(g,[w.moduleId]),v[c]=b)}var P,R=[];for(r=0;r<g.length;r++)c=g[r],N[c]&&N[c].hot._selfAccepted&&R.push({module:c,errorHandler:N[c].hot._selfAccepted});f("dispose"),Object.keys(_).forEach(function(e){!1===_[e]&&function(e){delete installedChunks[e]}(e)});for(var O,x,D=g.slice();D.length>0;)if(c=D.pop(),u=N[c]){var U={},M=u.hot._disposeHandlers;for(o=0;o<M.length;o++)(n=M[o])(U);for(a[c]=U,u.hot.active=!1,delete N[c],delete h[c],o=0;o<u.children.length;o++){var q=N[u.children[o]];q&&((P=q.parents.indexOf(c))>=0&&q.parents.splice(P,1))}}for(c in h)if(Object.prototype.hasOwnProperty.call(h,c)&&(u=N[c]))for(x=h[c],o=0;o<x.length;o++)O=x[o],(P=u.children.indexOf(O))>=0&&u.children.splice(P,1);for(c in f("apply"),i=y,v)Object.prototype.hasOwnProperty.call(v,c)&&(e[c]=v[c]);var L=null;for(c in h)if(Object.prototype.hasOwnProperty.call(h,c)&&(u=N[c])){x=h[c];var B=[];for(r=0;r<x.length;r++)if(O=x[r],n=u.hot._acceptedDependencies[O]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:x[r],error:e}),t.ignoreErrored||L||(L=e)}}}for(r=0;r<R.length;r++){var F=R[r];c=F.module,s=[c];try{A(c)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||L||(L=n),L||(L=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||L||(L=e)}}return L?(f("fail"),Promise.reject(L)):(f("idle"),new Promise(function(e){e(g)}))}var N={};function A(t){if(N[t])return N[t].exports;var n=N[t]={i:t,l:!1,exports:{},hot:l(t),parents:(u=s,s=[],u),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}A.m=e,A.c=N,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)A.d(n,r,function(t){return e[t]}.bind(null,r));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A.h=function(){return i},c(263)(A.s=263)}([function(e,t,n){var r={util:n(3)};({}).toString(),e.exports=r,r.util.update(r,{VERSION:"2.329.0",Signers:{},Protocol:{Json:n(26),Query:n(40),Rest:n(19),RestJson:n(42),RestXml:n(43)},XML:{Builder:n(92),Parser:null},JSON:{Builder:n(27),Parser:n(28)},Model:{Api:n(44),Operation:n(45),Shape:n(16),Paginator:n(46),ResourceWaiter:n(47)},apiLoader:n(97)}),n(48),n(98),n(101),n(51),n(102),n(106),n(108),n(109),n(110),n(116),r.events=new r.SequentialExecutor},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(6),a=n(22);r(n(18));var s=n(156);t.ClientDevice=s.default;var u=n(6);t.ConsoleLogger=u.ConsoleLogger,t.Logger=u.ConsoleLogger,r(n(158));var c=n(159);t.Hub=c.default;var l=n(160);t.I18n=l.default;var p=n(14);t.JS=p.default;var d=n(162);t.Signer=d.default;var f=n(163);t.Parser=f.default;var h=n(58);t.FacebookOAuth=h.FacebookOAuth,t.GoogleOAuth=h.GoogleOAuth,r(n(166));var m=n(167);t.Credentials=m.default;var y=n(168);t.ServiceWorker=y.default;var g=n(31);t.StorageHelper=g.default,t.MemoryStorage=g.MemoryStorage;var v=n(59);t.Platform=v.default;var b=n(59);t.Constants={userAgent:b.default.userAgent},t.default=a.default;var S=new o.ConsoleLogger("Core");i.AWS.util?i.AWS.util.userAgent=function(){return t.Constants.userAgent}:i.AWS.config?i.AWS.config.update({customUserAgent:t.Constants.userAgent}):S.warn("No AWS.config")},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(123),i=n(124),o=n(125);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var p=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){p=!1;break}if(p)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return V(F(t,e.length-n),e,n,r)}function S(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return S(e,t,n,r)}function E(e,t,n,r){return V(j(t),e,n,r)}function w(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),p=0;p<s;++p)if(c[p]!==l[p]){o=c[p],a=l[p];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:F(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(13))},function(e,t,n){(function(t,r){var i,o={environment:"nodejs",engine:function(){if(o.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=t.platform+"/"+t.version;return t.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+t.env.AWS_EXECUTION_ENV),e},userAgent:function(){var e=o.environment,t="aws-sdk-"+e+"/"+n(0).VERSION;return"nodejs"===e&&(t+=" "+o.engine()),t},isBrowser:function(){return t&&t.browser},isNode:function(){return!o.isBrowser()},uriEscape:function(e){var t=encodeURIComponent(e);return t=(t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return o.arrayEach(e.split("/"),function(e){t.push(o.uriEscape(e))}),t.join("/")},urlParse:function(e){return o.url.parse(e)},urlFormat:function(e){return o.url.format(e)},queryStringParse:function(e){return o.querystring.parse(e)},queryParamsToString:function(e){var t=[],n=o.uriEscape,r=Object.keys(e).sort();return o.arrayEach(r,function(r){var i=e[r],a=n(r),s=a+"=";if(Array.isArray(i)){var u=[];o.arrayEach(i,function(e){u.push(n(e))}),s=a+"="+u.sort().join("&"+a+"=")}else null!=i&&(s=a+"="+n(i));t.push(s)}),t.join("&")},readFileSync:function(e){return o.isBrowser()?null:n(30).readFileSync(e,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw o.error(new Error("Cannot base64 encode number "+e));return null==e?e:("function"==typeof o.Buffer.from&&o.Buffer.from!==Uint8Array.from?o.Buffer.from(e):new o.Buffer(e)).toString("base64")},decode:function(e){if("number"==typeof e)throw o.error(new Error("Cannot base64 decode number "+e));return null==e?e:"function"==typeof o.Buffer.from&&o.Buffer.from!==Uint8Array.from?o.Buffer.from(e,"base64"):new o.Buffer(e,"base64")}},buffer:{toStream:function(e){o.Buffer.isBuffer(e)||(e=new o.Buffer(e));var t=new o.stream.Readable,n=0;return t._read=function(r){if(n>=e.length)return t.push(null);var i=n+r;i>e.length&&(i=e.length),t.push(e.slice(n,i)),n=i},t},concat:function(e){var t,n,r=0,i=0;for(n=0;n<e.length;n++)r+=e[n].length;for(t=new o.Buffer(r),n=0;n<e.length;n++)e[n].copy(t,i),i+=e[n].length;return t}},string:{byteLength:function(e){if(null==e)return 0;if("string"==typeof e&&(e=new o.Buffer(e)),"number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)return n(30).lstatSync(e.path).size;throw o.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,n={};return o.arrayEach(e.split(/\r?\n/),function(e){var r=(e=e.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)t=r[1];else if(t){var i=e.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(n[t]=n[t]||{},n[t][i[1]]=i[2])}}),n}},fn:{noop:function(){},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0);t.pop()(e.apply(null,t))}}},date:{getDate:function(){return i||(i=n(0)),i.config.systemClockOffset?new Date((new Date).getTime()+i.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=o.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=o.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=o.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),o.date[t](o.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw o.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=o.crypto.crc32Table,n=-1;"string"==typeof e&&(e=new o.Buffer(e));for(var r=0;r<e.length;r++){n=n>>>8^t[255&(n^e.readUInt8(r))]}return(-1^n)>>>0},hmac:function(e,t,n,r){return n||(n="binary"),"buffer"===n&&(n=void 0),r||(r="sha256"),"string"==typeof t&&(t=new o.Buffer(t)),o.crypto.lib.createHmac(r,e).update(t).digest(n)},md5:function(e,t,n){return o.crypto.hash("md5",e,t,n)},sha256:function(e,t,n){return o.crypto.hash("sha256",e,t,n)},hash:function(e,t,n,r){var i=o.crypto.createHash(e);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof t&&(t=new o.Buffer(t));var a=o.arraySliceFn(t),s=o.Buffer.isBuffer(t);if(o.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(s=!0),r&&"object"==typeof t&&"function"==typeof t.on&&!s)t.on("data",function(e){i.update(e)}),t.on("error",function(e){r(e)}),t.on("end",function(){r(null,i.digest(n))});else{if(!r||!a||s||"undefined"==typeof FileReader){o.isBrowser()&&"object"==typeof t&&!s&&(t=new o.Buffer(new Uint8Array(t)));var u=i.update(t).digest(n);return r&&r(null,u),u}var c=0,l=new FileReader;l.onerror=function(){r(new Error("Failed to read data."))},l.onload=function(){var e=new o.Buffer(new Uint8Array(l.result));i.update(e),c+=e.length,l._continueReading()},l._continueReading=function(){if(c>=t.size)r(null,i.digest(n));else{var e=c+524288;e>t.size&&(e=t.size),l.readAsArrayBuffer(a.call(t,c,e))}},l._continueReading()}},toHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push(("0"+e.charCodeAt(n).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return o.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,n,e[n])===o.abort)break}},arrayEach:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,e[n],parseInt(n,10))===o.abort)break}},update:function(e,t){return o.each(t,function(t,n){e[t]=n}),e},merge:function(e,t){return o.update(o.copy(e),t)},copy:function(e){if(null==e)return e;var t={};for(var n in e)t[n]=e[n];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=o.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),n=t.match(/^\s*function (.+)\(/);return n?n[1]:t},error:function(e,t){var n=null;return"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&((n=o.copy(e)).message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==typeof t&&null!==t&&(o.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.time=new Date,n&&(e.originalError=n),e},inherit:function(e,t){var n=null;if(void 0===t)t=e,e=Object,n={};else{var r=function(){};r.prototype=e.prototype,n=new r}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=n,o.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var n in arguments[t].prototype){var r=arguments[t].prototype[n];"constructor"!==n&&(e.prototype[n]=r)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&o.arrayEach(t,function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})})},property:function(e,t,n,r,i){var o={configurable:!0,enumerable:void 0===r||r};"function"!=typeof n||i?(o.value=n,o.writable=!0):o.get=n,Object.defineProperty(e,t,o)},memoizedProperty:function(e,t,n,r){var i=null;o.property(e,t,function(){return null===i&&(i=n()),i},r)},hoistPayloadMember:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n],i=r.output;if(i.payload&&!r.hasEventOutput){var a=i.members[i.payload],s=e.data[i.payload];"structure"===a.type&&o.each(s,function(t,n){o.property(e.data,t,n,!1)})}},computeSha256:function(e,t){if(o.isNode()){var r=o.stream.Stream,i=n(30);if(e instanceof r){if("string"!=typeof e.path)return t(new Error("Non-file stream objects are not supported with SigV4"));var a={};"number"==typeof e.start&&(a.start=e.start),"number"==typeof e.end&&(a.end=e.end),e=i.createReadStream(e.path,a)}}o.crypto.sha256(e,"hex",function(e,n){e?t(e):t(null,n)})},isClockSkewed:function(e){if(e)return o.property(i.config,"isClockSkewed",Math.abs((new Date).getTime()-e)>=3e5,!1),i.config.isClockSkewed},applyClockOffset:function(e){e&&(i.config.systemClockOffset=e-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(e,t){var n=!1;void 0===t&&i&&i.config&&(t=i.config.getPromisesDependency()),void 0===t&&"undefined"!=typeof Promise&&(t=Promise),"function"!=typeof t&&(n=!0),Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var o=e[r];n?o.deletePromisesFromClass&&o.deletePromisesFromClass():o.addPromisesToClass&&o.addPromisesToClass(t)}},promisifyMethod:function(e,t){return function(){var n=this;return new t(function(t,r){n[e](function(e,n){e?r(e):t(n)})})}},isDualstackAvailable:function(e){if(!e)return!1;var t=n(117);return"string"!=typeof e&&(e=e.serviceIdentifier),!("string"!=typeof e||!t.hasOwnProperty(e))&&!!t[e].dualstackAvailable},calculateRetryDelay:function(e,t){t||(t={});var n=t.customBackoff||null;if("function"==typeof n)return n(e);var r="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*r)},handleRequestWithRetries:function(e,t,n){t||(t={});var r=i.HttpClient.getInstance(),a=t.httpOptions||{},s=0,u=function(e){var r=t.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&s<r){s++;var i=o.calculateRetryDelay(s,t.retryDelayOptions);setTimeout(c,i+(e.retryAfter||0))}else n(e)},c=function(){var t="";r.handleRequest(e,a,function(e){e.on("data",function(e){t+=e.toString()}),e.on("end",function(){var r=e.statusCode;if(r<300)n(null,t);else{var i=1e3*parseInt(e.headers["retry-after"],10)||0,a=o.error(new Error,{retryable:r>=500||429===r});i&&a.retryable&&(a.retryAfter=i),u(a)}})},u)};i.util.defer(c)},uuid:{v4:function(){return n(118).v4()}},convertPayloadToString:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n].output||{};r.payload&&e.data[r.payload]&&(e.data[r.payload]=e.data[r.payload].toString())},defer:function(e){"object"==typeof t&&"function"==typeof t.nextTick?t.nextTick(e):"function"==typeof r?r(e):setTimeout(e,0)},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};e.exports=o}).call(this,n(10),n(89).setImmediate)},function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var t=t,n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,u=i/s,c=(u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0))*o,l=e.min(4*c,i);if(c){for(var p=0;p<c;p+=o)this._doProcessBlock(r,p);var d=r.splice(0,c);n.sigBytes-=l}return new a.init(d,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r=n||"@@iterator";function i(e){return!!s(e)}function o(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function a(e){var t=s(e);if(t)return t.call(e)}function s(e){if(null!=e){var t=n&&e[n]||e["@@iterator"];if("function"==typeof t)return t}}function u(e){if(null!=e){var t=a(e);if(t)return t;if(o(e))return new c(e)}}function c(e){this._o=e,this._i=0}t.$$iterator=r,t.isIterable=i,t.isArrayLike=o,t.isCollection=function(e){return Object(e)===e&&(o(e)||i(e))},t.getIterator=a,t.getIteratorMethod=s,t.createIterator=u,c.prototype[r]=function(){return this},c.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}},t.forEach=function(e,t,n){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,n);var r=0,i=a(e);if(i){for(var s;!(s=i.next()).done;)if(t.call(n,s.value,r++,e),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(o(e))for(;r<e.length;r++)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}};var l="function"==typeof Symbol&&Symbol.asyncIterator,p=l||"@@asyncIterator";function d(e){var t=f(e);if(t)return t.call(e)}function f(e){if(null!=e){var t=l&&e[l]||e["@@asyncIterator"];if("function"==typeof t)return t}}function h(e){if(null!=e){var t=d(e);if(t)return t;var n=u(e);if(n)return new m(n)}}function m(e){this._i=e}t.$$asyncIterator=p,t.isAsyncIterable=function(e){return!!f(e)},t.getAsyncIterator=d,t.getAsyncIteratorMethod=f,t.createAsyncIterator=h,m.prototype[p]=function(){return this},m.prototype.next=function(){var e=this._i.next();return Promise.resolve(e.value).then(function(t){return{value:t,done:e.done}})},t.forAwaitEach=function(e,t,n){var r=h(e);if(r){var i=0;return new Promise(function(o,a){!function s(){return r.next().then(function(r){return r.done?o():Promise.resolve(t.call(n,r.value,i++,e)).then(s).catch(a),null}).catch(a),null}()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(155))},function(e,t,n){"use strict";(function(e){t.a=function(e,t){return e instanceof t}}).call(this,n(10))},function(e,t,n){"use strict";var r=n(74),i=n(230),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86);t.Analytics=r.default,t.AnalyticsClass=r.AnalyticsClass,t.AWSPinpointProvider=r.AWSPinpointProvider,t.AWSKinesisProvider=r.AWSKinesisProvider;var i=n(66);t.Auth=i.default,t.AuthClass=i.AuthClass;var o=n(204);t.Storage=o.default,t.StorageClass=o.StorageClass;var a=n(213);t.API=a.default,t.APIClass=a.APIClass,t.graphqlOperation=a.graphqlOperation;var s=n(247);t.PubSub=s.default,t.PubSubClass=s.PubSubClass;var u=n(32);t.Cache=u.default;var c=n(252);t.Interactions=c.default,t.InteractionsClass=c.InteractionsClass;var l=n(258);t.UI=l.default;var p=n(259);t.XR=p.default,t.XRClass=p.XRClass;var d=n(1);t.Logger=d.ConsoleLogger,t.Hub=d.Hub,t.JS=d.JS,t.ClientDevice=d.ClientDevice,t.Signer=d.Signer,t.I18n=d.I18n,t.ServiceWorker=d.ServiceWorker,t.default=d.default,d.default.Auth=i.default,d.default.Analytics=r.default,d.default.API=a.default,d.default.Storage=o.default,d.default.I18n=d.I18n,d.default.Cache=u.default,d.default.PubSub=s.default,d.default.Logger=d.ConsoleLogger,d.default.ServiceWorker=d.ServiceWorker,d.default.Interactions=c.default,d.default.UI=l.default,d.default.XR=p.default},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,p=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(t){var r=n(3);r.crypto.lib=n(121),r.Buffer=n(2).Buffer,r.url=n(17),r.querystring=n(56),r.realClock=n(134),r.environment="js",r.createEventStream=n(135).createEventStream;var i=n(0);e.exports=i,n(49),n(50),n(141),n(145),n(146),n(151),i.XML.Parser=n(152),n(153),void 0===t&&(t={browser:!0})}).call(this,n(10))},function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=t+"="+i+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var f=l[d].split("="),h=f.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=f[0].replace(p,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(p,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/png",ext:"png"},{type:"image/gif",ext:"gif"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/bmp",ext:"bmp"},{type:"image/x-icon",ext:"ico"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/svg+xml",ext:"svg"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],r=function(){function t(){}return t.isEmpty=function(e){return 0===Object.keys(e).length},t.sortByField=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort(function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i?-1*r:i<o?-1*r:i>o?1*r:0}),!0},t.objectLessAttributes=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach(function(e){delete n[e]})),n},t.filenameToContentType=function(e,t){void 0===t&&(t="application/octet-stream");var r=e.toLowerCase(),i=n.filter(function(e){return r.endsWith("."+e.ext)});return i.length>0?i[0].type:t},t.isTextFile=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},t.generateRandomString=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},t.makeQuerablePromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then(function(e){return r=!0,t=!1,e},function(e){throw n=!0,t=!1,e});return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},t.browserOrNode=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==e&&null!=e.versions&&null!=e.versions.node}},t.transferKeyToLowerCase=function(e,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!t.isStrictObject(e))return e;var i={};for(var o in e){if(e.hasOwnProperty(o))i[n.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=r.includes(o)?e[o]:t.transferKeyToLowerCase(e[o],n,r)}return i},t.transferKeyToUpperCase=function(e,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!t.isStrictObject(e))return e;var i={};for(var o in e){if(e.hasOwnProperty(o))i[n.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=r.includes(o)?e[o]:t.transferKeyToUpperCase(e[o],n,r)}return i},t.isStrictObject=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},t}();t.default=r}).call(this,n(10))},function(e,t,n){var r;e.exports=(r=n(4),n(24),n(199),r.HmacSHA256)},function(e,t,n){var r=n(41),i=n(3);function o(e,t,n){null!=n&&i.property.apply(this,arguments)}function a(e,t){e.constructor.prototype[t]||i.memoizedProperty.apply(this,arguments)}function s(e,t,n){t=t||{},o(this,"shape",e.shape),o(this,"api",t.api,!1),o(this,"type",e.type),o(this,"enum",e.enum),o(this,"min",e.min),o(this,"max",e.max),o(this,"pattern",e.pattern),o(this,"location",e.location||this.location||"body"),o(this,"name",this.name||e.xmlName||e.queryName||e.locationName||n),o(this,"isStreaming",e.streaming||this.isStreaming||!1),o(this,"isComposite",e.isComposite||!1),o(this,"isShape",!0,!1),o(this,"isQueryName",Boolean(e.queryName),!1),o(this,"isLocationName",Boolean(e.locationName),!1),o(this,"isIdempotent",!0===e.idempotencyToken),o(this,"isJsonValue",!0===e.jsonvalue),o(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),o(this,"isEventStream",Boolean(e.eventstream),!1),o(this,"isEvent",Boolean(e.event),!1),o(this,"isEventPayload",Boolean(e.eventpayload),!1),o(this,"isEventHeader",Boolean(e.eventheader),!1),o(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),t.documentation&&(o(this,"documentation",e.documentation),o(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&o(this,"isXmlAttribute",e.xmlAttribute||!1),o(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function u(e){s.apply(this,arguments),o(this,"isComposite",!0),e.flattened&&o(this,"flattened",e.flattened||!1)}function c(e,t){var n=this,i=null,c=!this.isShape;u.apply(this,arguments),c&&(o(this,"defaultValue",function(){return{}}),o(this,"members",{}),o(this,"memberNames",[]),o(this,"required",[]),o(this,"isRequired",function(){return!1})),e.members&&(o(this,"members",new r(e.members,t,function(e,n){return s.create(n,t,e)})),a(this,"memberNames",function(){return e.xmlOrder||Object.keys(e.members)}),e.event&&(a(this,"eventPayloadMemberName",function(){for(var e=n.members,t=n.memberNames,r=0,i=t.length;r<i;r++)if(e[t[r]].isEventPayload)return t[r]}),a(this,"eventHeaderMemberNames",function(){for(var e=n.members,t=n.memberNames,r=[],i=0,o=t.length;i<o;i++)e[t[i]].isEventHeader&&r.push(t[i]);return r}))),e.required&&(o(this,"required",e.required),o(this,"isRequired",function(t){if(!i){i={};for(var n=0;n<e.required.length;n++)i[e.required[n]]=!0}return i[t]},!1,!0)),o(this,"resultWrapper",e.resultWrapper||null),e.payload&&o(this,"payload",e.payload),"string"==typeof e.xmlNamespace?o(this,"xmlNamespaceUri",e.xmlNamespace):"object"==typeof e.xmlNamespace&&(o(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),o(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function l(e,t){var n=this,r=!this.isShape;if(u.apply(this,arguments),r&&o(this,"defaultValue",function(){return[]}),e.member&&a(this,"member",function(){return s.create(e.member,t)}),this.flattened){var i=this.name;a(this,"name",function(){return n.member.name||i})}}function p(e,t){var n=!this.isShape;u.apply(this,arguments),n&&(o(this,"defaultValue",function(){return{}}),o(this,"key",s.create({type:"string"},t)),o(this,"value",s.create({type:"string"},t))),e.key&&a(this,"key",function(){return s.create(e.key,t)}),e.value&&a(this,"value",function(){return s.create(e.value,t)})}function d(){s.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function f(){s.apply(this,arguments),this.toType=i.base64.decode,this.toWireFormat=i.base64.encode}function h(){f.apply(this,arguments)}function m(){s.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}s.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},s.types={structure:c,list:l,map:p,boolean:m,timestamp:function(e){var t=this;if(s.apply(this,arguments),e.timestampFormat)o(this,"timestampFormat",e.timestampFormat);else if(t.isTimestampFormatSet&&this.timestampFormat)o(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)o(this,"timestampFormat","rfc822");else if("querystring"===this.location)o(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":o(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":o(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?i.date.parseTimestamp(e):null},this.toWireFormat=function(e){return i.date.format(e,t.timestampFormat)}},float:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType},integer:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType},string:d,base64:h,binary:f},s.resolve=function(e,t){if(e.shape){var n=t.api.shapes[e.shape];if(!n)throw new Error("Cannot find shape reference: "+e.shape);return n}return null},s.create=function(e,t,n){if(e.isShape)return e;var r=s.resolve(e,t);if(r){var i=Object.keys(e);t.documentation||(i=i.filter(function(e){return!e.match(/documentation/)}));var o=function(){r.constructor.call(this,e,t,n)};return o.prototype=r,new o}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(s.normalizedTypes[e.type]&&(e.type=s.normalizedTypes[e.type]),s.types[e.type])return new s.types[e.type](e,t,n);throw new Error("Unrecognized shape type: "+a)},s.shapes={StructureShape:c,ListShape:l,MapShape:p,StringShape:d,BooleanShape:m,Base64Shape:h},e.exports=s},function(e,t,n){"use strict";var r=n(129),i=n(131);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),p=["%","/","?",";","#"].concat(l),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(56);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var S=u.exec(b);if(S)return this.path=b,this.href=b,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===b.substr(0,2);!w||_&&y[_]||(b=b.substr(2),this.slashes=!0)}if(!y[_]&&(w||_&&!g[_])){for(var I,T,C=-1,N=0;N<d.length;N++){-1!==(A=b.indexOf(d[N]))&&(-1===C||A<C)&&(C=A)}-1!==(T=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(I=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(I)),C=-1;for(N=0;N<p.length;N++){var A;-1!==(A=b.indexOf(p[N]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var P=this.hostname.split(/\./),R=(N=0,P.length);N<R;N++){var O=P[N];if(O&&!O.match(f)){for(var x="",D=0,U=O.length;D<U;D++)O.charCodeAt(D)>127?x+="x":x+=O[D];if(!x.match(f)){var M=P.slice(0,N),q=P.slice(N+1),L=O.match(h);L&&(M.push(L[1]),q.unshift(L[2])),q.length&&(b="/"+q.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(N=0,R=l.length;N<R;N++){var j=l[N];if(-1!==b.indexOf(j)){var V=encodeURIComponent(j);V===j&&(V=escape(j)),b=b.split(j).join(V)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var p=Object.keys(e),d=0;d<p.length;d++){var f=p[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=S||b||n.host&&e.pathname,E=_,w=n.pathname&&n.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===w[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(I)n.hostname=n.host=w.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=w.slice(-1)[0],C=(n.host||e.host||w.length>1)&&("."===T||".."===T)||""===T,N=0,A=w.length;A>=0;A--)"."===(T=w[A])?w.splice(A,1):".."===T?(w.splice(A,1),N++):N&&(w.splice(A,1),N--);if(!_&&!E)for(;N--;N)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),C&&"/"!==w.join("/").substr(-1)&&w.push("");var k,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);I&&(n.hostname=n.host=P?"":w.length?w.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(_=_||n.host&&w.length)&&!P&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.AWS=r},function(e,t,n){var r=n(3);function i(e,t,n,i){var o=[e,t].join("/");o=o.replace(/\/+/g,"/");var a={},s=!1;if(r.each(n.members,function(e,t){var n=i[e];if(null!=n)if("uri"===t.location){var u=new RegExp("\\{"+t.name+"(\\+)?\\}");o=o.replace(u,function(e,t){return(t?r.uriEscapePath:r.uriEscape)(String(n))})}else"querystring"===t.location&&(s=!0,"list"===t.type?a[t.name]=n.map(function(e){return r.uriEscape(t.member.toWireFormat(e).toString())}):"map"===t.type?r.each(n,function(e,t){Array.isArray(t)?a[e]=t.map(function(e){return r.uriEscape(String(e))}):a[e]=r.uriEscape(String(t))}):a[t.name]=r.uriEscape(t.toWireFormat(n).toString()))}),s){o+=o.indexOf("?")>=0?"&":"?";var u=[];r.arrayEach(Object.keys(a).sort(),function(e){Array.isArray(a[e])||(a[e]=[a[e]]);for(var t=0;t<a[e].length;t++)u.push(r.uriEscape(String(e))+"="+a[e][t])}),o+=u.join("&")}return o}e.exports={buildRequest:function(e){!function(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}(e),function(e){var t=e.service.api.operations[e.operation],n=t.input,r=i(e.httpRequest.endpoint.path,t.httpPath,n,e.params);e.httpRequest.path=r}(e),function(e){var t=e.service.api.operations[e.operation];r.each(t.input.members,function(t,n){var i=e.params[t];null!=i&&("headers"===n.location&&"map"===n.type?r.each(i,function(t,r){e.httpRequest.headers[n.name+t]=r}):"header"===n.location&&(i=n.toWireFormat(i).toString(),n.isJsonValue&&(i=r.base64.encode(i)),e.httpRequest.headers[n.name]=i))})}(e)},extractError:function(){},extractData:function(e){var t=e.request,n={},i=e.httpResponse,o=t.service.api.operations[t.operation].output,a={};r.each(i.headers,function(e,t){a[e.toLowerCase()]=t}),r.each(o.members,function(e,t){var o=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){n[e]={};var s=t.isLocationName?t.name:"",u=new RegExp("^"+s+"(.+)","i");r.each(i.headers,function(t,r){var i=t.match(u);null!==i&&(n[e][i[1]]=r)})}else if("header"===t.location){if(void 0!==a[o]){var c=t.isJsonValue?r.base64.decode(a[o]):a[o];n[e]=t.toType(c)}}else"statusCode"===t.location&&(n[e]=parseInt(i.statusCode,10))}),e.data=n},generateURI:i}},function(e,t,n){var r=n(2).Buffer;"undefined"!=typeof ArrayBuffer&&void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return i.indexOf(Object.prototype.toString.call(e))>-1});var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"];e.exports={isEmptyData:function(e){return"string"==typeof e?0===e.length:0===e.byteLength},convertToBuffer:function(e){return"string"==typeof e&&(e=new r(e,"utf8")),ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.sts={},r.STS=i.defineService("sts",["2011-06-15"]),n(142),Object.defineProperty(o.services.sts,"2011-06-15",{get:function(){var e=n(143);return e.paginators=n(144).pagination,e},enumerable:!0,configurable:!0}),e.exports=r.STS},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=new r.ConsoleLogger("Amplify"),o=function(){function e(){}return e.register=function(t){i.debug("component registered in amplify",t),this._components.push(t),"function"==typeof t.getModuleName?e[t.getModuleName()]=t:i.debug("no getModuleName method for component",t)},e.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),i.debug("amplify config",this._config),this._components.map(function(e){e.configure(t._config)}),this._config):this._config},e.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e._components=[],e._config={},e.Auth=null,e.Analytics=null,e.API=null,e.Storage=null,e.I18n=null,e.Cache=null,e.PubSub=null,e.Interactions=null,e.Pushnotification=null,e.UI=null,e.XR=null,e.Logger=r.ConsoleLogger,e.ServiceWorker=null,e}();t.default=o},function(e,t,n){e.exports=n(226).Observable},function(e,t,n){var r;e.exports=(r=n(4),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],p=n[6],d=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var h=c[f-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=c[f-2],g=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[f]=m+c[f-7]+g+c[f-16]}var v=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&p)+u[f]+c[f];d=p,p=l,l=s,s=a+S|0,a=o,o=i,i=r,r=S+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},function(e,t,n){var r,i,o;e.exports=(r=n(4),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=(s|u)<<24-i%4*8,i++}return o.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(e,t,n){var r=n(3),i=n(27),o=n(28);e.exports={buildRequest:function(e){var t=e.httpRequest,n=e.service.api,r=n.targetPrefix+"."+n.operations[e.operation].name,o=n.jsonVersion||"1.0",a=n.operations[e.operation].input,s=new i;1===o&&(o="1.0"),t.body=s.build(e.params||{},a),t.headers["Content-Type"]="application/x-amz-json-"+o,t.headers["X-Amz-Target"]=r},extractError:function(e){var t={},n=e.httpResponse;if(t.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof t.code&&(t.code=t.code.split(":")[0]),n.body.length>0)try{var i=JSON.parse(n.body.toString());(i.__type||i.code)&&(t.code=(i.__type||i.code).split("#").pop()),"RequestEntityTooLarge"===t.code?t.message="Request body must be less than 1 MB":t.message=i.message||i.Message||null}catch(i){t.statusCode=n.statusCode,t.message=n.statusMessage}else t.statusCode=n.statusCode,t.message=n.statusCode.toString();e.error=r.error(new Error,t)},extractData:function(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var n=e.request.service.api.operations[e.request.operation].output||{},r=new o;e.data=r.parse(t,n)}}}},function(e,t,n){var r=n(3);function i(){}function o(e,t){if(t&&null!=e)switch(t.type){case"structure":return function(e,t){var n={};return r.each(e,function(e,r){var i=t.members[e];if(i){if("body"!==i.location)return;var a=i.isLocationName?i.name:e,s=o(r,i);void 0!==s&&(n[a]=s)}}),n}(e,t);case"map":return function(e,t){var n={};return r.each(e,function(e,r){var i=o(r,t.value);void 0!==i&&(n[e]=i)}),n}(e,t);case"list":return function(e,t){var n=[];return r.arrayEach(e,function(e){var r=o(e,t.member);void 0!==r&&n.push(r)}),n}(e,t);default:return function(e,t){return t.toWireFormat(e)}(e,t)}}i.prototype.build=function(e,t){return JSON.stringify(o(e,t))},e.exports=i},function(e,t,n){var r=n(3);function i(){}function o(e,t){if(t&&void 0!==e)switch(t.type){case"structure":return function(e,t){if(null==e)return;var n={},i=t.members;return r.each(i,function(t,r){var i=r.isLocationName?r.name:t;if(Object.prototype.hasOwnProperty.call(e,i)){var a=o(e[i],r);void 0!==a&&(n[t]=a)}}),n}(e,t);case"map":return function(e,t){if(null==e)return;var n={};return r.each(e,function(e,r){var i=o(r,t.value);n[e]=void 0===i?null:i}),n}(e,t);case"list":return function(e,t){if(null==e)return;var n=[];return r.arrayEach(e,function(e){var r=o(e,t.member);void 0===r?n.push(null):n.push(r)}),n}(e,t);default:return function(e,t){return t.toType(e)}(e,t)}}i.prototype.parse=function(e,t){return o(JSON.parse(e),t)},e.exports=i},function(e,t,n){!function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===r(e[o],i[o]))return!1;return!0}if(!0===n(e)){var a={};for(var s in e)if(hasOwnProperty.call(e,s)){if(!1===r(e[s],i[s]))return!1;a[s]=!0}for(var u in i)if(hasOwnProperty.call(i,u)&&!0!==a[u])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}var o;o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var a=0,s=1,u=2,c=3,l=4,p=6,d=8,f=9,h={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},m={"<":!0,">":!0,"=":!0,"!":!0},y={" ":!0,"\t":!0,"\n":!0};function g(e){return e>="0"&&e<="9"||"-"===e}function v(){}v.prototype={tokenize:function(e){var t,n,r,i,o=[];for(this._current=0;this._current<e.length;)if((i=e[this._current])>="a"&&i<="z"||i>="A"&&i<="Z"||"_"===i)t=this._current,n=this._consumeUnquotedIdentifier(e),o.push({type:"UnquotedIdentifier",value:n,start:t});else if(void 0!==h[e[this._current]])o.push({type:h[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(g(e[this._current]))r=this._consumeNumber(e),o.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),o.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),o.push({type:"QuotedIdentifier",value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),o.push({type:"Literal",value:n,start:t});else if("`"===e[this._current]){t=this._current;var a=this._consumeLiteral(e);o.push({type:"Literal",value:a,start:t})}else if(void 0!==m[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==y[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:"And",value:"&&",start:t})):o.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:"Or",value:"||",start:t})):o.push({type:"Pipe",value:"|",start:t})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;g(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var a=o(e.slice(n,this._current));return a=a.replace("\\`","`"),t=this._looksLikeJSON(a)?JSON.parse(a):JSON.parse('"'+a+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var b={};function S(){}function _(e){this.runtime=e}function E(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[d]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[u,c]},{types:[s]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[u]},{types:[u]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[u,c,l]}]},map:{_func:this._functionMap,_signature:[{types:[p]},{types:[c]}]},max:{_func:this._functionMax,_signature:[{types:[d,f]}]},merge:{_func:this._functionMerge,_signature:[{types:[l],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[c]},{types:[p]}]},sum:{_func:this._functionSum,_signature:[{types:[d]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[u]},{types:[u]}]},min:{_func:this._functionMin,_signature:[{types:[d,f]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[c]},{types:[p]}]},type:{_func:this._functionType,_signature:[{types:[s]}]},keys:{_func:this._functionKeys,_signature:[{types:[l]}]},values:{_func:this._functionValues,_signature:[{types:[l]}]},sort:{_func:this._functionSort,_signature:[{types:[f,d]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[c]},{types:[p]}]},join:{_func:this._functionJoin,_signature:[{types:[u]},{types:[f]}]},reverse:{_func:this._functionReverse,_signature:[{types:[u,c]}]},to_array:{_func:this._functionToArray,_signature:[{types:[s]}]},to_string:{_func:this._functionToString,_signature:[{types:[s]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[s]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[s],variadic:!0}]}}}b.EOF=0,b.UnquotedIdentifier=0,b.QuotedIdentifier=0,b.Rbracket=0,b.Rparen=0,b.Comma=0,b.Rbrace=0,b.Number=0,b.Current=0,b.Expref=0,b.Pipe=1,b.Or=2,b.And=3,b.EQ=5,b.GT=5,b.LT=5,b.GTE=5,b.LTE=5,b.NE=5,b.Flatten=9,b.Star=20,b.Filter=21,b.Dot=40,b.Not=45,b.Lbrace=50,b.Lbracket=55,b.Lparen=60,S.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new v).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<b[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var r={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return r;case"Not":return{type:"NotExpression",children:[t=this.expression(b.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(b.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(b.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(b.Expref)]};case"Lparen":for(var i=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),i.push(n);return this._match("Rparen"),i[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var r=b.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(b.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(b.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(b.And)]};case"Lparen":for(var i,o=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(i);return this._match("Rparen"),{type:"Function",name:o,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(b.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var u=this._lookaheadToken(0);return"Number"===u.type||"Colon"===u.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(b.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(b.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(b[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(b[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:r}}},_.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var a,s,u,c,l,p,d,f,h;switch(e.type){case"Field":return null===o?null:n(o)?void 0===(p=o[e.name])?null:p:null;case"Subexpression":for(u=this.visit(e.children[0],o),h=1;h<e.children.length;h++)if(null===(u=this.visit(e.children[1],u)))return null;return u;case"IndexExpression":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(u=o[m])&&(u=null),u;case"Slice":if(!t(o))return null;var y=e.children.slice(0),g=this.computeSliceParams(o.length,y),v=g[0],b=g[1],S=g[2];if(u=[],S>0)for(h=v;h<b;h+=S)u.push(o[h]);else for(h=v;h>b;h+=S)u.push(o[h]);return u;case"Projection":var _=this.visit(e.children[0],o);if(!t(_))return null;for(f=[],h=0;h<_.length;h++)null!==(s=this.visit(e.children[1],_[h]))&&f.push(s);return f;case"ValueProjection":if(!n(_=this.visit(e.children[0],o)))return null;f=[];var E=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(_);for(h=0;h<E.length;h++)null!==(s=this.visit(e.children[1],E[h]))&&f.push(s);return f;case"FilterProjection":if(!t(_=this.visit(e.children[0],o)))return null;var w=[],I=[];for(h=0;h<_.length;h++)i(a=this.visit(e.children[2],_[h]))||w.push(_[h]);for(var T=0;T<w.length;T++)null!==(s=this.visit(e.children[1],w[T]))&&I.push(s);return I;case"Comparator":switch(c=this.visit(e.children[0],o),l=this.visit(e.children[1],o),e.name){case"EQ":u=r(c,l);break;case"NE":u=!r(c,l);break;case"GT":u=c>l;break;case"GTE":u=c>=l;break;case"LT":u=c<l;break;case"LTE":u=c<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return u;case"Flatten":var C=this.visit(e.children[0],o);if(!t(C))return null;var N=[];for(h=0;h<C.length;h++)t(s=C[h])?N.push.apply(N,s):N.push(s);return N;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(f=[],h=0;h<e.children.length;h++)f.push(this.visit(e.children[h],o));return f;case"MultiSelectHash":if(null===o)return null;var A;for(f={},h=0;h<e.children.length;h++)f[(A=e.children[h]).name]=this.visit(A.value,o);return f;case"OrExpression":return i(a=this.visit(e.children[0],o))&&(a=this.visit(e.children[1],o)),a;case"AndExpression":return!0===i(c=this.visit(e.children[0],o))?c:this.visit(e.children[1],o);case"NotExpression":return i(c=this.visit(e.children[0],o));case"Literal":return e.value;case"Pipe":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Current":return o;case"Function":var k=[];for(h=0;h<e.children.length;h++)k.push(this.visit(e.children[h],o));return this.runtime.callFunction(e.name,k);case"ExpressionReference":var P=e.children[0];return P.jmespathType="Expref",P;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,i),r=null===r?s?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},E.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,i,o,a;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var s=0;s<n.length;s++){a=!1,i=n[s].types,o=this._getTypeName(t[s]);for(var u=0;u<i.length;u++)if(this._typeMatches(o,i[u],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(t===s)return!0;if(t!==f&&t!==d&&t!==c)return e===t;if(t===c)return e===c;if(e===c){var r;t===d?r=a:t===f&&(r=u);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return u;case"[object Number]":return a;case"[object Array]":return c;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?p:l}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===u){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case a:return"number";case u:return"string";case c:return"array";case l:return"object";case 5:return"boolean";case p:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===c?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===u?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===a?e[0]:n!==u||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([a,u].indexOf(i)<0)throw new Error("TypeError");for(var o=this,s=[],c=0;c<t.length;c++)s.push([c,t[c]]);s.sort(function(e,t){var a=n.visit(r,e[1]),s=n.visit(r,t[1]);if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));return a>s?1:a<s?-1:e[0]-t[0]});for(var l=0;l<s.length;l++)t[l]=s[l][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,u]),s=-1/0,c=0;c<i.length;c++)(n=o(i[c]))>s&&(s=n,t=i[c]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,u]),s=1/0,c=0;c<i.length;c++)(n=o(i[c]))<s&&(s=n,t=i[c]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(a)}return o}}},e.tokenize=function(e){return(new v).tokenize(e)},e.compile=function(e){return(new S).parse(e)},e.search=function(e,t){var n=new S,r=new E,i=new _(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)},e.strictDeepEqual=r}(t)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}();t.MemoryStorage=i;var o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=i}}return e.prototype.getStorage=function(){return this.storageWindow},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(175);t.BrowserStorageCache=i.default;var o=n(178);t.InMemoryCache=o.default,t.default=i.default,r.default.register(i.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(176));var r=n(177);t.CacheList=r.default},function(e,t,n){var r=n(179),i=n(180),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1).JS.browserOrNode().isBrowser&&window.Element?window.Element.prototype:null,i=r?r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector:null;function o(e,t){if("string"!=typeof t)return!1;if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,o=void 0;o=n[r];r++)if(o===e)return!0;return!1}t.default=function(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||o(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||o(e,r))return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=o;var r=n(72),i=n(73);function o(e,t,n,r,a,s,u){var c=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,l=n;if(!l&&c){var p=c[0];l=p&&p.loc&&p.loc.source}var d=r;!d&&c&&(d=c.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),d&&0===d.length&&(d=void 0);var f=void 0;if(r&&n){var h=n;f=r.map(function(e){return(0,i.getLocation)(h,e)})}else c&&(f=c.reduce(function(e,t){return t.loc&&e.push((0,i.getLocation)(t.loc.source,t.loc.start)),e},[]));Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:f||void 0,enumerable:!0},path:{value:a||void 0,enumerable:!0},nodes:{value:c||void 0},source:{value:l||void 0},positions:{value:d||void 0},originalError:{value:s},extensions:{value:u||s&&s.extensions}}),s&&s.stack?Object.defineProperty(this,"stack",{value:s.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}o.prototype=Object.create(Error.prototype,{constructor:{value:o},name:{value:"GraphQLError"},toString:{value:function(){return(0,r.printError)(this)}}})},function(e,t,n){"use strict";(function(t){var r=n(8),i=n(232),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(75):void 0!==t&&(s=n(75)),s),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(o)}),e.exports=u}).call(this,n(10))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(251),l=n(34),p=n(23),d=n(80),f=new(n(1).ConsoleLogger)("MqttOverWSProvider");function h(e,t){for(var n=e.split("/"),r=n.length,i=t.split("/"),o=0;o<r;++o){var a=n[o],s=i[o];if("#"===a)return i.length>=r;if("+"!==a&&a!==s)return!1}return r===i.length}t.mqttTopicMatch=h;var m=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return a(this,void 0,void 0,function(){var n;return s(this,function(r){return(n=this.promises.get(e))?[2,n]:(n=t(e),this.promises.set(e,n),[2,n])})})},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),y="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",g=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,o({},t,{clientId:t.clientId||l.v4()}))||this;return n._clientsQueue=new m,n._topicObservers=new Map,n}return i(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[y]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=e.clientId,n=e.errorCode,r=u(e,["clientId","errorCode"]);0!==n&&f.warn(t,JSON.stringify(o({errorCode:n},r),null,2))},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return a(this,void 0,void 0,function(){var e,r=this;return s(this,function(i){switch(i.label){case 0:return f.debug("Creating new MQTT client",n),(e=new c.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=u(e,["errorCode"]);r.onDisconnect(o({clientId:n,errorCode:t},i))},[4,new Promise(function(t,n){e.connect({useSSL:!0,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})})];case 1:return i.sent(),[2,e]}})})},t.prototype.connect=function(e,t){return void 0===t&&(t={}),a(this,void 0,void 0,function(){var n=this;return s(this,function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,function(e){return n.newClient(o({},t,{clientId:e}))})];case 1:return[2,r.sent()]}})})},t.prototype.disconnect=function(e){return a(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e,function(){return null})];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}})})},t.prototype.publish=function(e,t){return a(this,void 0,void 0,function(){var n,r,i,o;return s(this,function(a){switch(a.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=a.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=a.sent(),f.debug("Publishing to topic(s)",n.join(","),r),n.forEach(function(e){return o.send(e,r)}),[2]}})})},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach(function(t,r){h(r,e)&&n.push(t)});var r=JSON.parse(t);"object"==typeof r&&(r[y]=e),n.forEach(function(e){e.forEach(function(e){return e.next(r)})})}catch(e){f.warn("Error handling message",e,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return f.debug("Subscribing to topic(s)",r.join(",")),new p(function(e){var i;r.forEach(function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)});var o=t.clientId,u=void 0===o?n.clientId:o;return a(n,void 0,void 0,function(){var e,n,o;return s(this,function(a){switch(a.label){case 0:return void 0!==(e=t.url)?[3,2]:[4,this.endpoint];case 1:return o=a.sent(),[3,3];case 2:o=e,a.label=3;case 3:return n=o,[4,this.connect(u,{url:n})];case 4:return i=a.sent(),r.forEach(function(e){i.subscribe(e)}),[2]}})}),function(){return f.debug("Unsubscribing from topic(s)",r.join(",")),i&&(r.forEach(function(e){i.isConnected()&&i.unsubscribe(e);var t=n._topicObservers.get(e)||new Set;t.forEach(function(e){return e.complete()}),t.clear()}),n.disconnect(u)),null}})},t}(d.AbstractPubSubProvider);t.MqttOverWSProvider=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(Error);t.XRError=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRNoSceneConfiguredError=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRSceneNotFoundError=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRSceneNotLoadedError=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRNoDomElement=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRSceneLoadFailure=l;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o);t.XRProviderNotConfigured=p},function(e,t,n){var r=n(0),i=n(3),o=n(91),a=n(16);e.exports={buildRequest:function(e){var t=e.service.api.operations[e.operation],n=e.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:e.service.api.apiVersion,Action:t.name},(new o).serialize(e.params,t.input,function(e,t){n.params[e]=t}),n.body=i.queryParamsToString(n.params)},extractError:function(e){var t,n=e.httpResponse.body.toString();if(n.match("<UnknownOperationException"))t={Code:"UnknownOperation",Message:"Unknown operation "+e.request.operation};else try{t=(new r.XML.Parser).parse(n)}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.requestId&&!e.requestId&&(e.requestId=t.requestId),t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t=e.request,n=t.service.api.operations[t.operation].output||{},o=n;if(o.resultWrapper){var s=a.create({type:"structure"});s.members[o.resultWrapper]=n,s.memberNames=[o.resultWrapper],i.property(n,"name",n.resultWrapper),n=s}var u=new r.XML.Parser;if(n&&n.members&&!n.members._XAMZRequestId){var c=a.create({type:"string"},{api:{protocol:"query"}},"requestId");n.members._XAMZRequestId=c}var l=u.parse(e.httpResponse.body.toString(),n);e.requestId=l._XAMZRequestId||l.requestId,l._XAMZRequestId&&delete l._XAMZRequestId,o.resultWrapper&&l[o.resultWrapper]&&(i.update(l,l[o.resultWrapper]),delete l[o.resultWrapper]),e.data=l}}},function(e,t,n){var r=n(3).memoizedProperty;function i(e,t,n,i){r(this,i(e),function(){return n(e,t)})}e.exports=function(e,t,n,r){for(var o in r=r||String,e)Object.prototype.hasOwnProperty.call(e,o)&&i.call(this,o,e[o],n,r)}},function(e,t,n){var r=n(3),i=n(19),o=n(26),a=n(27),s=n(28);function u(e,t){e.service.api.operations[e.operation].input;if(!e.httpRequest.headers["Content-Type"]){var n=t?"binary/octet-stream":"application/json";e.httpRequest.headers["Content-Type"]=n}}e.exports={buildRequest:function(e){i.buildRequest(e),["GET","HEAD","DELETE"].indexOf(e.httpRequest.method)<0&&function(e){var t=new a,n=e.service.api.operations[e.operation].input;if(n.payload){var r,i=n.members[n.payload];if(void 0===(r=e.params[n.payload]))return;"structure"===i.type?(e.httpRequest.body=t.build(r,i),u(e)):(e.httpRequest.body=r,("binary"===i.type||i.isStreaming)&&u(e,!0))}else e.httpRequest.body=t.build(e.params,n),u(e)}(e)},extractError:function(e){o.extractError(e)},extractData:function(e){i.extractData(e);var t=e.request,n=t.service.api.operations[t.operation],a=t.service.api.operations[t.operation].output||{};if(n.hasEventOutput,a.payload){var u=a.members[a.payload],c=e.httpResponse.body;if(u.isEventStream)l=new s,e.data[payload]=r.createEventStream(2===AWS.HttpClient.streamsApiVersion?e.httpResponse.stream:c,l,u);else if("structure"===u.type||"list"===u.type){var l=new s;e.data[a.payload]=l.parse(c,u)}else"binary"===u.type||u.isStreaming?e.data[a.payload]=c:e.data[a.payload]=u.toType(c)}else{var p=e.data;o.extractData(e),e.data=r.merge(p,e.data)}}}},function(e,t,n){var r=n(0),i=n(3),o=n(19);e.exports={buildRequest:function(e){o.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&function(e){var t=e.service.api.operations[e.operation].input,n=new r.XML.Builder,o=e.params,a=t.payload;if(a){var s=t.members[a];if(void 0===(o=o[a]))return;if("structure"===s.type){var u=s.name;e.httpRequest.body=n.toXML(o,s,u,!0)}else e.httpRequest.body=o}else e.httpRequest.body=n.toXML(o,t,t.name||t.shape||i.string.upperFirst(e.operation)+"Request")}(e)},extractError:function(e){var t;o.extractError(e);try{t=(new r.XML.Parser).parse(e.httpResponse.body.toString())}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t;o.extractData(e);var n=e.request,a=e.httpResponse.body,s=n.service.api.operations[n.operation],u=s.output,c=(s.hasEventOutput,u.payload);if(c){var l=u.members[c];l.isEventStream?(t=new r.XML.Parser,e.data[c]=i.createEventStream(2===r.HttpClient.streamsApiVersion?e.httpResponse.stream:e.httpResponse.body,t,l)):"structure"===l.type?(t=new r.XML.Parser,e.data[c]=t.parse(a.toString(),l)):"binary"===l.type||l.isStreaming?e.data[c]=a:e.data[c]=l.toType(a)}else if(a.length>0){var p=(t=new r.XML.Parser).parse(a.toString(),u);i.update(e.data,p)}}}},function(e,t,n){var r=n(41),i=n(45),o=n(16),a=n(46),s=n(47),u=n(3),c=u.property,l=u.memoizedProperty;e.exports=function(e,t){e=e||{},(t=t||{}).api=this,e.metadata=e.metadata||{},c(this,"isApi",!0,!1),c(this,"apiVersion",e.metadata.apiVersion),c(this,"endpointPrefix",e.metadata.endpointPrefix),c(this,"signingName",e.metadata.signingName),c(this,"globalEndpoint",e.metadata.globalEndpoint),c(this,"signatureVersion",e.metadata.signatureVersion),c(this,"jsonVersion",e.metadata.jsonVersion),c(this,"targetPrefix",e.metadata.targetPrefix),c(this,"protocol",e.metadata.protocol),c(this,"timestampFormat",e.metadata.timestampFormat),c(this,"xmlNamespaceUri",e.metadata.xmlNamespace),c(this,"abbreviation",e.metadata.serviceAbbreviation),c(this,"fullName",e.metadata.serviceFullName),c(this,"serviceId",e.metadata.serviceId),l(this,"className",function(){var t=e.metadata.serviceAbbreviation||e.metadata.serviceFullName;return t?("ElasticLoadBalancing"===(t=t.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""))&&(t="ELB"),t):null}),c(this,"operations",new r(e.operations,t,function(e,n){return new i(e,n,t)},u.string.lowerFirst)),c(this,"shapes",new r(e.shapes,t,function(e,n){return o.create(n,t)})),c(this,"paginators",new r(e.paginators,t,function(e,n){return new a(e,n,t)})),c(this,"waiters",new r(e.waiters,t,function(e,n){return new s(e,n,t)},u.string.lowerFirst)),t.documentation&&(c(this,"documentation",e.documentation),c(this,"documentationUrl",e.documentationUrl))}},function(e,t,n){var r=n(16),i=n(3),o=i.property,a=i.memoizedProperty;e.exports=function(e,t,n){var i=this;n=n||{},o(this,"name",t.name||e),o(this,"api",n.api,!1),t.http=t.http||{},o(this,"httpMethod",t.http.method||"POST"),o(this,"httpPath",t.http.requestUri||"/"),o(this,"authtype",t.authtype||""),a(this,"input",function(){return t.input?r.create(t.input,n):new r.create({type:"structure"},n)}),a(this,"output",function(){return t.output?r.create(t.output,n):new r.create({type:"structure"},n)}),a(this,"errors",function(){var e=[];if(!t.errors)return null;for(var i=0;i<t.errors.length;i++)e.push(r.create(t.errors[i],n));return e}),a(this,"paginator",function(){return n.api.paginators[e]}),n.documentation&&(o(this,"documentation",t.documentation),o(this,"documentationUrl",t.documentationUrl)),a(this,"idempotentMembers",function(){var e=[],t=i.input,n=t.members;if(!t.members)return e;for(var r in n)n.hasOwnProperty(r)&&!0===n[r].isIdempotent&&e.push(r);return e}),a(this,"hasEventOutput",function(){return function(e){var t=e.members,n=e.payload;if(!e.members)return!1;if(n){var r=t[n];return r.isEventStream}for(var i in t)if(!t.hasOwnProperty(i)&&!0===t[i].isEventStream)return!0;return!1}(i.output)})}},function(e,t,n){var r=n(3).property;e.exports=function(e,t){r(this,"inputToken",t.input_token),r(this,"limitKey",t.limit_key),r(this,"moreResults",t.more_results),r(this,"outputToken",t.output_token),r(this,"resultKey",t.result_key)}},function(e,t,n){var r=n(3),i=r.property;e.exports=function(e,t,n){n=n||{},i(this,"name",e),i(this,"api",n.api,!1),t.operation&&i(this,"operation",r.string.lowerFirst(t.operation));var o=this;["type","description","delay","maxAttempts","acceptors"].forEach(function(e){var n=t[e];n&&i(o,e,n)})}},function(e,t,n){var r=n(0);r.SequentialExecutor=r.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t,n){return this._events[e]?n?this._events[e].unshift(t):this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t,n){return t._isAsync=!0,this.on(e,t,n)},removeListener:function(e,t){var n=this._events[e];if(n){for(var r=n.length,i=-1,o=0;o<r;++o)n[o]===t&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,n){n||(n=function(){});var r=this.listeners(e),i=r.length;return this.callListeners(r,t,n),i>0},callListeners:function(e,t,n,i){var o=this,a=i||null;function s(i){if(i&&(a=r.util.error(a||new Error,i),o._haltHandlersOnError))return n.call(o,a);o.callListeners(e,t,n,a)}for(;e.length>0;){var u=e.shift();if(u._isAsync)return void u.apply(o,t.concat([s]));try{u.apply(o,t)}catch(e){a=r.util.error(a||new Error,e)}if(a&&o._haltHandlersOnError)return void n.call(o,a)}n.call(o,a)},addListeners:function(e){var t=this;return e._events&&(e=e._events),r.util.each(e,function(e,n){"function"==typeof n&&(n=[n]),r.util.arrayEach(n,function(n){t.on(e,n)})}),t},addNamedListener:function(e,t,n,r){return this[e]=n,this.addListener(t,n,r),this},addNamedAsyncListener:function(e,t,n){return n._isAsync=!0,this.addNamedListener(e,t,n)},addNamedListeners:function(e){var t=this;return e(function(){t.addNamedListener.apply(t,arguments)},function(){t.addNamedAsyncListener.apply(t,arguments)}),this}}),r.SequentialExecutor.prototype.addListener=r.SequentialExecutor.prototype.on,e.exports=r.SequentialExecutor},function(e,t,n){var r=n(0);r.Credentials=r.util.inherit({constructor:function(){if(r.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=r.util.date.getDate().getTime(),t=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&t>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(e){var t=this;this.needsRefresh()?this.refresh(function(n){n||(t.expired=!1),e&&e(n)}):e&&e()},refresh:function(e){this.expired=!1,e()}}),r.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=r.util.promisifyMethod("get",e),this.prototype.refreshPromise=r.util.promisifyMethod("refresh",e)},r.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},r.util.addPromises(r.Credentials)},function(e,t,n){var r=n(0);r.CredentialProviderChain=r.util.inherit(r.Credentials,{constructor:function(e){this.providers=e||r.CredentialProviderChain.defaultProviders.slice(0)},resolve:function(e){if(0===this.providers.length)return e(new Error("No providers")),this;var t=0,n=this.providers.slice(0);return function r(i,o){if(!i&&o||t===n.length)e(i,o);else{var a=n[t++];(o="function"==typeof a?a.call():a).get?o.get(function(e){r(e,e?null:o)}):r(null,o)}}(),this}}),r.CredentialProviderChain.defaultProviders=[],r.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=r.util.promisifyMethod("resolve",e)},r.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},r.util.addPromises(r.CredentialProviderChain)},function(e,t,n){var r=n(0),i=r.util.inherit;r.Endpoint=i({constructor:function(e,t){if(r.util.hideProperties(this,["slashes","auth","hash","search","query"]),null==e)throw new Error("Invalid endpoint: "+e);if("string"!=typeof e)return r.util.copy(e);e.match(/^http/)||(e=((t&&void 0!==t.sslEnabled?t.sslEnabled:r.config.sslEnabled)?"https":"http")+"://"+e);r.util.update(this,r.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),r.HttpRequest=i({constructor:function(e,t){e=new r.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=t,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=r.util.userAgent()},getUserAgentHeaderName:function(){return(r.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=r.util.queryStringParse(e),r.util.queryParamsToString(e)):""}}),r.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),r.HttpClient=i({}),r.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},function(e,t,n){var r=n(0),i=r.util.inherit;r.Signers.V3=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){var n=r.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=n,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,n)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return r.util.arrayEach(this.headersToSign(),function(t){e.push(t.toLowerCase())}),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return r.util.arrayEach(this.headersToSign(),function(n){t.push(n.toLowerCase().trim()+":"+String(e[n]).trim())}),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return r.util.each(this.request.headers,function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)}),e},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),r.util.crypto.sha256(e.join("\n"))}}),e.exports=r.Signers.V3},function(e,t,n){var r=n(0),i={},o=[],a="aws4_request";e.exports={createScope:function(e,t,n){return[e.substr(0,8),t,n,a].join("/")},getSigningKey:function(e,t,n,s,u){var c=[r.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),t,n,s].join("_");if((u=!1!==u)&&c in i)return i[c];var l=r.util.crypto.hmac("AWS4"+e.secretAccessKey,t,"buffer"),p=r.util.crypto.hmac(l,n,"buffer"),d=r.util.crypto.hmac(p,s,"buffer"),f=r.util.crypto.hmac(d,a,"buffer");return u&&(i[c]=f,o.push(c),o.length>50&&delete i[o.shift()]),f},emptyCache:function(){i={},o=[]}}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(13))},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t,n){"use strict";t.decode=t.parse=n(132),t.encode=t.stringify=n(133)},function(e,t,n){var r=n(0).util.Buffer;e.exports={toBuffer:function(e,t){return"function"==typeof r.from&&r.from!==Uint8Array.from?r.from(e,t):new r(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(164),i=n(165),o=new r.default;t.GoogleOAuth=o;var a=new i.default;t.FacebookOAuth=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170),i={userAgent:"aws-amplify/"+r.version+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch(i.product=navigator.product||"",i.navigator=navigator||null,navigator.product){case"ReactNative":i.userAgent="aws-amplify/"+r.version+" react-native",i.isReactNative=!0;break;default:i.userAgent="aws-amplify/"+r.version+" js",i.isReactNative=!1}t.default=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(171),c=n(173),l=n(32),p=n(34),d="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",f=function(e,t){s.Hub.dispatch("analytics",{event:e,data:t},"Analytics",d)},h=new s.ConsoleLogger("AWSPinpointProvider"),m=1e3,y=100,g=5e3,v=5,b=function(){function e(e){this._endpointGenerating=!0,this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||m,this._config.flushSize=this._config.flushSize||y,this._config.flushInterval=this._config.flushInterval||g,this._config.resendLimit=this._config.resendLimit||v,this._clientInfo=s.ClientDevice.clientInfo()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval,i=this;this._timer=setInterval(function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=0;r<t;r+=1){var o=e._buffer.shift();if(i._sendFromBuffer(o),e._endpointGenerating)break}},r)},e.prototype._putToBuffer=function(e){var t=this._config.bufferSize;return this._buffer.length<t?(this._buffer.push(e),Promise.resolve(!0)):(h.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:switch(t=e.event,n=e.config,n.appId,n.region,r=n.resendLimit,i=!0,t.name){case"_session.start":return[3,1];case"_session.stop":return[3,3];case"_update_endpoint":return[3,5]}return[3,7];case 1:return[4,this._startSession(e)];case 2:return i=o.sent(),[3,9];case 3:return[4,this._stopSession(e)];case 4:return i=o.sent(),[3,9];case 5:return[4,this._updateEndpoint(e)];case 6:return i=o.sent(),[3,9];case 7:return[4,this._recordCustomEvent(e)];case 8:return i=o.sent(),[3,9];case 9:return i||(e.resendLimits="number"==typeof e.resendLimits?e.resendLimits:r,e.resendLimits>0?(h.debug("resending event "+e.eventName+" with "+e.resendLimits+" retry times left"),e.resendLimits-=1,this._putToBuffer(e)):h.debug("retry times used up for event "+e.eventName)),[2]}})})},e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;h.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._config.appId&&!this._config.disabled){if(this._config.endpointId)f("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then(function(e){h.debug("setting endpoint id from the cache",e),t._config.endpointId=e,f("pinpointProvider_configured",null)}).catch(function(e){h.debug("Failed to generate endpointId",e)})}this._setupTimer()}else this._timer&&clearInterval(this._timer);return this._config},e.prototype.record=function(e){return i(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return[4,this._getCredentials()];case 1:return(t=r.sent())&&this._config.appId&&this._config.region?(n=(new Date).getTime(),this._generateSession(e),e.event.eventId=p.v1(),Object.assign(e,{timestamp:n,config:this._config,credentials:t}),e.event.immediate?[2,this._send(e)]:[2,this._putToBuffer(e)]):(h.debug("cannot send events without credentials, applicationId or region"),[2,Promise.resolve(!1)])}})})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||p.v1();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=p.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case"_session.stop":var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||p.v1(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||p.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(t=e.event,e.config,t.name){case"_session.start":return[2,this._startSession(e)];case"_session.stop":return[2,this._stopSession(e)];case"_update_endpoint":return[2,this._updateEndpoint(e)];default:return[2,this._recordCustomEvent(e)]}return[2]})})},e.prototype._generateBatchItemContext=function(e){var t=e.event,n=e.timestamp,r=e.config,i=(e.credentials,t.name),o=t.attributes,a=t.metrics,s=t.eventId,u=t.session,c=r.appId,l=r.endpointId,p={ApplicationId:c,EventsRequest:{BatchItem:{}}};p.EventsRequest.BatchItem[l]={};var d=p.EventsRequest.BatchItem[l];return d.Endpoint={},d.Events={},d.Events[s]={EventType:i,Timestamp:new Date(n).toISOString(),Attributes:o,Metrics:a,Session:u},p},e.prototype._pinpointPutEvents=function(e){return i(this,void 0,void 0,function(){var t=this;return o(this,function(n){return h.debug("pinpoint put events with params",e),[2,new Promise(function(n,r){var i=t.pinpointClient.putEvents(e);i.on("build",function(){i.httpRequest.path=i.httpRequest.path+"/legacy"}),i.send(function(e,r){e?(h.error("record event failed. ",e),h.warn('If you have not updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" yet, please do it. This action is not necessary for now but in order to avoid breaking changes in the future, please update it as soon as possible.'),n(!1)):(t._endpointGenerating=!1,h.debug("record event success. ",r),n(!0))})})]})})},e.prototype._startSession=function(e){return i(this,void 0,void 0,function(){var t,n,r;return o(this,function(i){return e.event,e.timestamp,t=e.config,n=e.credentials,this._initClients(t,n),h.debug("record session start"),r=this._generateBatchItemContext(e),[2,this._pinpointPutEvents(r)]})})},e.prototype._stopSession=function(e){return i(this,void 0,void 0,function(){var t,n,r;return o(this,function(i){return e.event,e.timestamp,t=e.config,n=e.credentials,this._initClients(t,n),h.debug("record session stop"),r=this._generateBatchItemContext(e),[2,this._pinpointPutEvents(r)]})})},e.prototype._recordCustomEvent=function(e){return i(this,void 0,void 0,function(){var t,n,r;return o(this,function(i){return e.event,e.timestamp,t=e.config,n=e.credentials,this._initClients(t,n),h.debug("record event with params"),r=this._generateBatchItemContext(e),[2,this._pinpointPutEvents(r)]})})},e.prototype._updateEndpoint=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,a,u,c,l,p=this;return o(this,function(o){return e.timestamp,t=e.config,n=e.credentials,r=e.event,i=t.appId,t.region,a=t.endpointId,this._initClients(t,n),u=this._endpointRequest(t,s.JS.transferKeyToLowerCase(r,[],["attributes","userAttributes","Attributes","UserAttributes"])),c={ApplicationId:i,EndpointId:a,EndpointRequest:u},l=this,h.debug("updateEndpoint with params: ",c),[2,new Promise(function(e,t){l.pinpointClient.updateEndpoint(c,function(t,n){return t?(h.debug("updateEndpoint failed",t),"Exceeded maximum endpoint per user count 10"===t.message&&p._removeUnusedEndpoints(i,u.User.UserId).then(function(){return h.debug("Remove the unused endpoints successfully"),p._endpointGenerating=!1,e(!1)}).catch(function(t){return h.warn("Failed to remove unused endpoints with error: "+t),h.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:GetUserEndpoints" in order to get endpoints info of the user'),e(!1)}),e(!1)):(p._endpointGenerating=!1,h.debug("updateEndpoint success",n),e(!0))})})]})})},e.prototype._removeUnusedEndpoints=function(e,t){return i(this,void 0,void 0,function(){var n=this;return o(this,function(r){return[2,new Promise(function(r,i){n.pinpointClient.getUserEndpoints({ApplicationId:e,UserId:t},function(o,a){if(o)return h.debug("Failed to get endpoints associated with the userId: "+t+" with error",o),i(o);var s=a.EndpointsResponse.Item;h.debug("get endpoints associated with the userId: "+t+" with data",s);for(var u=s[0],c=1;c<s.length;c++){var l=Date.parse(u.EffectiveDate),p=Date.parse(s[c].EffectiveDate);if(isNaN(l))break;if(isNaN(p)){u=s[c];break}p<l&&(u=s[c])}var d={ApplicationId:e,EndpointId:u.Id,EndpointRequest:{User:{UserId:""}}};n.pinpointClient.updateEndpoint(d,function(e,t){return e?(h.debug("Failed to update the endpoint",e),i(e)):(h.debug("The old endpoint is updated with an empty string for user id"),r(t))})})})]})})},e.prototype._initClients=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){return h.debug("init clients"),this.mobileAnalytics&&this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId?(h.debug("no change for aws credentials, directly return from init"),[2]):(this._config.credentials=t,n=e.region,h.debug("init clients with credentials",t),this.mobileAnalytics=new u({credentials:t,region:n}),this.pinpointClient=new c({region:n,credentials:t}),s.Platform.isReactNative&&this.pinpointClient.customizeRequests(function(e){e.on("build",function(e){e.httpRequest.headers["user-agent"]=s.Platform.userAgent})}),[2])})})},e.prototype._getEndpointId=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,l.default.getItem(e)];case 1:return t=n.sent(),h.debug("endpointId from cache",t,"type",typeof t),t||(t=p.v1(),l.default.setItem(e,t)),[2,t]}})})},e.prototype._endpointRequest=function(e,t){var n=e.credentials,i=this._clientInfo||{},o=e.clientContext||{},u=e.endpoint||{},c={appVersion:i.appVersion,make:i.make,model:i.model,modelVersion:i.version,platform:i.platform},l=(o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName,a(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),d=t.address?"android"===i.platform?"GCM":"APNS":void 0,f=r({channelType:d,requestId:p.v1(),effectiveDate:(new Date).toISOString()},u,t,{attributes:r({},u.attributes,t.attributes),demographic:r({},c,l,u.demographic,t.demographic),location:r({},u.location,t.location),metrics:r({},u.metrics,t.metrics),user:{userId:t.userId||u.userId||n.identityId,userAttributes:r({},u.userAttributes,t.userAttributes)}}),h=(f.userId,f.userAttributes,f.name,f.session,f.eventId,f.immediate,a(f,["userId","userAttributes","name","session","eventId","immediate"]));return s.JS.transferKeyToUpperCase(h,[],["metrics","userAttributes","attributes"])},e.prototype._getCredentials=function(){return s.Credentials.get().then(function(e){return e?(h.debug("set credentials for analytics",e),s.Credentials.shear(e)):null}).catch(function(e){return h.debug("ensure credentials error",e),null})},e.category="Analytics",e.providerName="AWSPinpoint",e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=new(n(1).ConsoleLogger)("StorageCache"),o=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){r.isInteger(this.config.capacityInBytes)||(i.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=r.defaultConfig.capacityInBytes),r.isInteger(this.config.itemMaxSize)||(i.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=r.defaultConfig.itemMaxSize),r.isInteger(this.config.defaultTTL)||(i.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=r.defaultConfig.defaultTTL),r.isInteger(this.config.defaultPriority)||(i.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=r.defaultConfig.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(i.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=r.defaultConfig.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(i.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=r.defaultConfig.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(i.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=r.defaultConfig.warningThreshold);this.config.capacityInBytes>5242880&&(i.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=r.defaultConfig.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var i={key:e,data:t,timestamp:r.getCurrTime(),visitedTime:r.getCurrTime(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return i.byteSize=r.getByteLength(JSON.stringify(i)),i.byteSize=r.getByteLength(JSON.stringify(i)),i},e.prototype.configure=function(e){return e?(e.keyPrefix&&i.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}();t.default=o},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=n(65);t.default=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var o,a=(n?[e]:[]).concat(i.default(e)),s=0;o=a[s];s++)if(r.default(o,t))return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(197);t.AuthClass=r.default,t.CognitoHostedUIIdentityProvider=r.CognitoHostedUIIdentityProvider;var i=n(85);t.CognitoUser=i.CognitoUser,t.CookieStorage=i.CookieStorage;var o=n(1),a=new o.ConsoleLogger("Auth"),s=null;s||(a.debug("Create Auth Instance"),s=new r.default(null));var u=s;o.default.register(u),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon"}(t.CognitoHostedUIIdentityProvider||(t.CognitoHostedUIIdentityProvider={})),t.isFederatedSignInOptions=function(e){return e&&e.hasOwnProperty("provider")},t.isFederatedSignInOptionsCustom=function(e){return e&&e.hasOwnProperty("customProvider")},t.isCognitoHostedOpts=function(e){return void 0!==e.redirectSignIn},t.isUsernamePasswordOpts=function(e){return!!e.username}},function(e,t,n){var r;e.exports=(r=n(4),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(206),s=new o.ConsoleLogger("AWSS3Provider"),u="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",c=function(e,t,n,r,i){e&&o.Hub.dispatch("storage",{event:t,data:{attrs:n,metrics:r},message:i},"Storage",u)},l=function(){function e(e){this._config=e||{},s.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(s.debug("configure Storage",e),!e)return this._config;var t=o.Parser.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||s.debug("Do not have bucket yet"),this._config},e.prototype.get=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u,l,p,d,f;return i(this,function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:return i.sent()?(n=Object.assign({},this._config,t),r=n.bucket,n.region,n.credentials,n.level,o=n.download,a=n.track,u=n.expires,l=this._prefix(n),p=l+e,d=this._createS3(n),s.debug("get "+e+" from "+p),f={Bucket:r,Key:p},!0===o?[2,new Promise(function(t,n){d.getObject(f,function(r,i){r?(c(a,"download",{method:"get",result:"failed"},null,"Download failed with "+r.message),n(r)):(c(a,"download",{method:"get",result:"success"},{fileSize:Number(i.Body.length)},"Download success for "+e),t(i))})})]:(u&&(f.Expires=u),[2,new Promise(function(t,n){try{var r=d.getSignedUrl("getObject",f);c(a,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+r),t(r)}catch(t){s.warn("get signed url error",t),c(a,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),n(t)}})])):[2,Promise.reject("No credentials")]}})})},e.prototype.put=function(e,t,n){return r(this,void 0,void 0,function(){var r,o,a,u,l,p,d,f,h,m,y,g,v,b,S,_,E,w,I,T,C,N;return i(this,function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())return[2,Promise.reject("No credentials")];r=Object.assign({},this._config,n),o=r.bucket,r.region,r.credentials,r.level,a=r.track,u=r.progressCallback,l=r.contentType,p=r.contentDisposition,d=r.cacheControl,f=r.expires,h=r.metadata,m=r.tagging,y=r.serverSideEncryption,g=r.SSECustomerAlgorithm,v=r.SSECustomerKey,b=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,_=l||"binary/octet-stream",E=this._prefix(r),w=E+e,I=this._createS3(r),s.debug("put "+e+" to "+w),T={Bucket:o,Key:w,Body:t,ContentType:_},d&&(T.CacheControl=d),p&&(T.ContentDisposition=p),f&&(T.Expires=f),h&&(T.Metadata=h),m&&(T.Tagging=m),y&&(T.ServerSideEncryption=y,g&&(T.SSECustomerAlgorithm=g),v&&(T.SSECustomerKey=v),b&&(T.SSECustomerKeyMD5=b),S&&(T.SSEKMSKeyId=S)),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,I.upload(T).on("httpUploadProgress",function(e){u&&("function"==typeof u?u(e):s.warn("progressCallback should be a function, not a "+typeof u))}).promise()];case 3:return C=i.sent(),s.debug("upload result",C),c(a,"upload",{method:"put",result:"success"},null,"Upload success for "+e),[2,{key:C.Key.substr(E.length)}];case 4:throw N=i.sent(),s.warn("error uploading",N),c(a,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),N;case 5:return[2]}})})},e.prototype.remove=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u,l,p;return i(this,function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:return i.sent()?(n=Object.assign({},this._config,t),r=n.bucket,n.region,n.credentials,n.level,o=n.track,a=this._prefix(n),u=a+e,l=this._createS3(n),s.debug("remove "+e+" from "+u),p={Bucket:r,Key:u},[2,new Promise(function(t,n){l.deleteObject(p,function(r,i){r?(c(o,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+r),n(r)):(c(o,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),t(i))})})]):[2,Promise.reject("No credentials")]}})})},e.prototype.list=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u,l,p;return i(this,function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:return i.sent()?(n=Object.assign({},this._config,t),r=n.bucket,n.region,n.credentials,n.level,n.download,o=n.track,a=this._prefix(n),u=a+e,l=this._createS3(n),s.debug("list "+e+" from "+u),p={Bucket:r,Prefix:u},[2,new Promise(function(e,t){l.listObjects(p,function(n,r){if(n)s.warn("list error",n),c(o,"list",{method:"list",result:"failed"},null,"Listing items failed: "+n.message),t(n);else{var i=r.Contents.map(function(e){return{key:e.Key.substr(a.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}});c(o,"list",{method:"list",result:"success"},null,i.length+" items returned from list operation"),s.debug("list",i),e(i)}})})]):[2,Promise.reject("No credentials")]}})})},e.prototype._ensureCredentials=function(){var e=this;return o.Credentials.get().then(function(t){if(!t)return!1;var n=o.Credentials.shear(t);return s.debug("set credentials for storage",n),e._config.credentials=n,!0}).catch(function(e){return s.warn("ensure credentials error",e),!1})},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",a=(void 0!==r.protected?r.protected:"protected/")+i+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return a;default:return s}},e.prototype._createS3=function(e){var t=e.bucket,n=e.region,r=e.credentials;return new a({apiVersion:"2006-03-01",params:{Bucket:t},signatureVersion:"v4",region:n,credentials:r})},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return r.GraphQLError}});var i=n(219);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return i.syntaxError}});var o=n(220);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return o.locatedError}});var a=n(72);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return a.printError}});var s=n(221);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return s.formatError}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(i(e.loc.source,(0,r.getLocation)(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(i(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var r=n(73);function i(e,t){var n=t.line,r=e.locationOffset.line-1,i=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),s=n+r,u=t.column+i,c=(s-1).toString(),l=s.toString(),p=(s+1).toString(),d=p.length,f=e.body.split(/\r\n|[\n\r]/g);return f[0]=o(e.locationOffset.column-1)+f[0],[e.name+" ("+s+":"+u+")",n>=2&&a(d,c)+": "+f[n-2],a(d,l)+": "+f[n-1],o(2+d+u-1)+"^",n<f.length&&a(d,p)+": "+f[n]].filter(Boolean).join("\n")}function o(e){return Array(e+1).join(" ")}function a(e,t){return o(e-t.length)+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n=/\r\n|[\n\r]/g,r=1,i=t+1,o=void 0;for(;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(8),i=n(233),o=n(235),a=n(236),s=n(237),u=n(76),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(238);e.exports=function(e){return new Promise(function(t,l){var p=e.data,d=e.headers;r.isFormData(p)&&delete d["Content-Type"];var f=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(e.url)||(f=new window.XDomainRequest,h="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var y=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+c(y+":"+g)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[h]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};i(t,l,r),f=null}},f.onerror=function(){l(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var v=n(239),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===p&&(p=null),f.send(p)})}},function(e,t,n){"use strict";var r=n(234);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER=Symbol("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER")},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=new(n(1).ConsoleLogger)("AbstractPubSubProvider"),o=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=r({},e,this._config),i.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return r({},this._config)},enumerable:!0,configurable:!0}),e}();t.AbstractPubSubProvider=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),u=n(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"region",{get:function(){return this.options.aws_pubsub_region},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSIoTProvider"},Object.defineProperty(t.prototype,"endpoint",{get:function(){return o(this,void 0,void 0,function(){var e,t,n,r,i,o;return a(this,function(a){switch(a.label){case 0:return e=this.options.aws_pubsub_endpoint,t={service:"iotdevicegateway",region:this.region},[4,u.Credentials.get()];case 1:return n=a.sent(),r=n.accessKeyId,i=n.secretAccessKey,o=n.sessionToken,[2,u.Signer.signUrl(e,{access_key:r,secret_key:i,session_token:o},t)]}})})},enumerable:!0,configurable:!0}),t}(s.MqttOverWSProvider);t.AWSIoTProvider=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(83),u=n(255),c=n(1),l=new c.ConsoleLogger("AWSLexProvider"),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.aws_lex=new u({region:n._config.region}),n._botsCompleteCallback={},n}return i(t,e),t.prototype.getProviderName=function(){return"AWSLexProvider"},t.prototype.responseCallback=function(e,t,n,r,i){var o=this;e?r(e):(l.debug("postContent state",t.dialogState),"ReadyForFulfillment"!==t.dialogState&&"Fulfilled"!==t.dialogState||("function"==typeof this._botsCompleteCallback[i]&&setTimeout(function(){return o._botsCompleteCallback[i](null,{slots:t.slots})},0),this._config&&"function"==typeof this._config[i].onComplete&&setTimeout(function(){return o._config[i].onComplete(null,{slots:t.slots})},0)),n(t),"Failed"===t.dialogState&&("function"==typeof this._botsCompleteCallback[i]&&setTimeout(function(){return o._botsCompleteCallback[i]("Bot conversation failed")},0),this._config&&"function"==typeof this._config[i].onComplete&&setTimeout(function(){return o._config[i].onComplete("Bot conversation failed")},0)))},t.prototype.sendMessage=function(e,t){var n=this;return new Promise(function(r,i){return o(n,void 0,void 0,function(){var n,o,s=this;return a(this,function(a){switch(a.label){case 0:return this._config[e]?[4,c.Credentials.get()]:[2,i("Bot "+e+" does not exist")];case 1:return(n=a.sent())?(c.AWS.config.update({credentials:n}),this.aws_lex=new u({region:this._config[e].region,credentials:n}),"string"==typeof t?(o={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},l.debug("postText to lex",t),this.aws_lex.postText(o,function(t,n){s.responseCallback(t,n,r,i,e)})):(o="voice"===t.options.messageType?{botAlias:this._config[e].alias,botName:e,contentType:"audio/x-l16; sample-rate=16000",inputStream:t.content,userId:n.identityId,accept:"audio/mpeg"}:{botAlias:this._config[e].alias,botName:e,contentType:"text/plain; charset=utf-8",inputStream:t.content,userId:n.identityId,accept:"audio/mpeg"},l.debug("postContent to lex",t),this.aws_lex.postContent(o,function(t,n){s.responseCallback(t,n,r,i,e)})),[2]):[2,i("No credentials")]}})})})},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new ErrorEvent("Bot "+e+" does not exist");this._botsCompleteCallback[e]=t},t}(s.AbstractInteractionsProvider);t.AWSLexProvider=p},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=new(n(1).ConsoleLogger)("AbstractInteractionsProvider"),o=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=r({},this._config,e),i.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return r({},this._config)},enumerable:!0,configurable:!0}),e}();t.AbstractInteractionsProvider=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=n(261),l=n(39),p=new u.ConsoleLogger("SumerianProvider"),d=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return i(t,e),t.prototype.getProviderName=function(){return"SumerianProvider"},t.prototype.loadScript=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.addEventListener("load",function(e){t()}),r.addEventListener("error",function(t){n(new Error("Failed to load script: "+e))}),document.head.appendChild(r)})]})})},t.prototype.loadScene=function(e,t,n){return a(this,void 0,void 0,function(){var r,i,a,c,d,f,h,m,y,g,v,b,S,_,E,w,I,T,C,N,A,k,P,R,O;return s(this,function(s){switch(s.label){case 0:if(!e)throw f="No scene name passed into loadScene",p.error(f),new l.XRSceneLoadFailure(f);if(!t)throw f="No dom element id passed into loadScene",p.error(f),new l.XRNoDomElement(f);if(!(r=document.getElementById(t)))throw f="DOM element id, "+t+" not found",p.error(f),new l.XRNoDomElement(f);if(!(i=this.getScene(e)).sceneConfig)throw f="No scene config configured for scene: "+e,p.error(f),new l.XRSceneLoadFailure(f);if(a=i.sceneConfig.url,c=i.sceneConfig.sceneId,i.sceneConfig.hasOwnProperty("region"))d=i.sceneConfig.region;else{if(!this.options.hasOwnProperty("region"))throw f="No region configured for scene: "+e,p.error(f),new l.XRSceneLoadFailure(f);d=this.options.region}h={region:d,customUserAgent:u.Constants.userAgent+"-SumerianScene"},m={headers:{"X-Amz-User-Agent":u.Constants.userAgent}},y=a,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,u.Credentials.get()];case 2:return g=s.sent(),h.credentials=g,v={secret_key:g.secretAccessKey,access_key:g.accessKeyId,session_token:g.sessionToken},b={region:d,service:"sumerian"},S=u.Signer.sign({method:"GET",url:a},v,b),m.headers=o({},m.headers,S.headers),y=S.url,[3,4];case 3:return s.sent(),p.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(y,m)];case 5:return[4,(_=s.sent()).json()];case 6:if(E=s.sent(),403===_.status)throw E.message?(p.error("Failure to authenticate user: "+E.message),new l.XRSceneLoadFailure("Failure to authenticate user: "+E.message)):(p.error("Failure to authenticate user"),new l.XRSceneLoadFailure("Failure to authenticate user"));return w=E.bundleData[c],[4,fetch(w.url,{headers:w.headers})];case 7:return[4,s.sent().json()];case 8:I=s.sent(),s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.loadScript(I[c].bootstrapperUrl)];case 10:return s.sent(),[3,12];case 11:throw T=s.sent(),p.error(T),new l.XRSceneLoadFailure(T);case 12:return C=n.progressCallback?n.progressCallback:void 0,N=i.publishParamOverrides?i.publishParamOverrides:void 0,A={element:r,sceneId:c,sceneBundle:I,apiResponse:E,progressCallback:C,publishParamOverrides:N,awsSDKConfigOverride:h},[4,window.SumerianBootstrapper.loadScene(A)];case 13:for(k=s.sent(),i.sceneController=k,i.isLoaded=!0,P=0,R=k.sceneLoadWarnings;P<R.length;P++)O=R[P],p.warn("loadScene warning: "+O);return[2]}})})},t.prototype.isSceneLoaded=function(e){return this.getScene(e).isLoaded||!1},t.prototype.getScene=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw p.error(t),new l.XRNoSceneConfiguredError(t)}if(!e){t="No scene name was passed";throw p.error(t),new l.XRSceneNotFoundError(t)}if(!this.options.scenes[e]){t="Scene '"+e+"' is not configured";throw p.error(t),new l.XRSceneNotFoundError(t)}return this.options.scenes[e]},t.prototype.getSceneController=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw p.error(t),new l.XRNoSceneConfiguredError(t)}var n=this.options.scenes[e];if(!n){t="Scene '"+e+"' is not configured";throw p.error(t),new l.XRSceneNotFoundError(t)}var r=n.sceneController;if(!r){t="Scene controller for '"+e+"' has not been loaded";throw p.error(t),new l.XRSceneNotLoadedError(t)}return r},t.prototype.isVRCapable=function(e){return this.getSceneController(e).vrCapable},t.prototype.isVRPresentationActive=function(e){return this.getSceneController(e).vrPresentationActive},t.prototype.start=function(e){this.getSceneController(e).start()},t.prototype.enterVR=function(e){this.getSceneController(e).enterVR()},t.prototype.exitVR=function(e){this.getSceneController(e).exitVR()},t.prototype.isMuted=function(e){return this.getSceneController(e).muted},t.prototype.setMuted=function(e,t){this.getSceneController(e).muted=t},t.prototype.onSceneEvent=function(e,t,n){this.getSceneController(e).on(t,n)},t.prototype.enableAudio=function(e){this.getSceneController(e).enableAudio()},t}(c.AbstractXRProvider);t.SumerianProvider=d},function(e,t,n){"use strict";n.r(t);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var r,i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=n.ValidationData,i=n.Username,o=n.Password,a=n.AuthParameters;this.validationData=r||{},this.authParameters=a||{},this.username=i,this.password=o}return e.prototype.getUsername=function(){return this.username},e.prototype.getPassword=function(){return this.password},e.prototype.getValidationData=function(){return this.validationData},e.prototype.getAuthParameters=function(){return this.authParameters},e}(),o=n(2),a=n(4),s=n.n(a),u=(n(68),n(24)),c=n.n(u),l=n(15),p=n.n(l),d=f;function f(e,t){null!=e&&this.fromString(e,t)}function h(){return new f(null)}var m="undefined"!=typeof navigator;m&&"Microsoft Internet Explorer"==navigator.appName?(f.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},r=30):m&&"Netscape"!=navigator.appName?(f.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},r=26):(f.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},r=28),f.prototype.DB=r,f.prototype.DM=(1<<r)-1,f.prototype.DV=1<<r;f.prototype.FV=Math.pow(2,52),f.prototype.F1=52-r,f.prototype.F2=2*r-52;var y,g,v="0123456789abcdefghijklmnopqrstuvwxyz",b=new Array;for(y="0".charCodeAt(0),g=0;g<=9;++g)b[y++]=g;for(y="a".charCodeAt(0),g=10;g<36;++g)b[y++]=g;for(y="A".charCodeAt(0),g=10;g<36;++g)b[y++]=g;function S(e){return v.charAt(e)}function _(e,t){var n=b[e.charCodeAt(t)];return null==n?-1:n}function E(e){var t=h();return t.fromInt(e),t}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}I.prototype.convert=function(e){var t=h();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(f.ZERO)>0&&this.m.subTo(t,t),t},I.prototype.revert=function(e){var t=h();return e.copyTo(t),this.reduce(t),t},I.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},f.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},f.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=_(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&f.ZERO.subTo(this,this)},f.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},f.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},f.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},f.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},f.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},f.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},f.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&f.ZERO.subTo(t,t)},f.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},f.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=h());var o=h(),a=this.s,s=e.s,u=this.DB-w(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var p=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,y=1<<this.F2,g=n.t,v=g-c,b=null==t?h():t;for(o.dlShiftTo(v,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),f.ONE.dlShiftTo(c,b),b.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var S=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+y)*m);if((n[g]+=o.am(0,S,n,v,0,c))<S)for(o.dlShiftTo(v,b),n.subTo(b,n);n[g]<--S;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&f.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&f.ZERO.subTo(n,n)}}},f.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},f.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},f.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString();var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=S(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=S(n));return i?o:"0"},f.prototype.negate=function(){var e=h();return f.ZERO.subTo(this,e),e},f.prototype.abs=function(){return this.s<0?this.negate():this},f.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},f.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)},f.prototype.mod=function(e){var t=h();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(f.ZERO)>0&&e.subTo(t,t),t},f.prototype.equals=function(e){return 0==this.compareTo(e)},f.prototype.add=function(e){var t=h();return this.addTo(e,t),t},f.prototype.subtract=function(e){var t=h();return this.subTo(e,t),t},f.prototype.multiply=function(e){var t=h();return this.multiplyTo(e,t),t},f.prototype.divide=function(e){var t=h();return this.divRemTo(e,t,null),t},f.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=E(1),a=new I(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var p=h();for(a.sqrTo(s[1],p);u<=l;)s[u]=h(),a.mulTo(p,s[u-2],s[u]),u+=2}var d,f,m=e.t-1,y=!0,g=h();for(i=w(e[m])-1;m>=0;){for(i>=c?d=e[m]>>i-c&l:(d=(e[m]&(1<<i+1)-1)<<c-i,m>0&&(d|=e[m-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),y)s[d].copyTo(o),y=!1;else{for(;u>1;)a.sqrTo(o,g),a.sqrTo(g,o),u-=2;u>0?a.sqrTo(o,g):(f=o,o=g,g=f),a.mulTo(g,s[d],o)}for(;m>=0&&0==(e[m]&1<<i);)a.sqrTo(o,g),f=o,o=g,g=f,--i<0&&(i=this.DB-1,--m)}var v=a.revert(o);return n(null,v),v},f.ZERO=E(0),f.ONE=E(1);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var T=function(e){return o.Buffer.from(s.a.lib.WordArray.random(e).toString(),"hex")},C="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.N=new d(C,16),this.g=new d("2",16),this.k=new d(this.hexHash("00"+this.N.toString(16)+"0"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=o.Buffer.from("Caldera Derived Key","utf8"),this.poolName=t}return e.prototype.getSmallAValue=function(){return this.smallAValue},e.prototype.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)})},e.prototype.generateRandomSmallA=function(){var e=T(128).toString("hex");return new d(e,16).mod(this.N)},e.prototype.generateRandomString=function(){return T(40).toString("base64")},e.prototype.getRandomPassword=function(){return this.randomPassword},e.prototype.getSaltDevices=function(){return this.SaltToHashDevices},e.prototype.getVerifierDevices=function(){return this.verifierDevices},e.prototype.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=T(16).toString("hex");this.SaltToHashDevices=this.padHex(new d(a,16)),this.g.modPow(new d(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)})},e.prototype.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,function(e,r){e&&t(e,null),r.mod(n.N).equals(d.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)})},e.prototype.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new d(this.UHexHash,16)},e.prototype.hash=function(e){var t=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,n=c()(t).toString();return new Array(64-n.length).join("0")+n},e.prototype.hexHash=function(e){return this.hash(o.Buffer.from(e,"hex"))},e.prototype.computehkdf=function(e,t){var n=s.a.lib.WordArray.create(o.Buffer.concat([this.infoBits,o.Buffer.from(String.fromCharCode(1),"utf8")])),r=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,i=t instanceof o.Buffer?s.a.lib.WordArray.create(t):t,a=p()(r,i),u=p()(n,a);return o.Buffer.from(u.toString(),"hex").slice(0,16)},e.prototype.getPasswordAuthenticationKey=function(e,t,n,r,i){var a=this;if(n.mod(this.N).equals(d.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(d.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,u=this.hash(s),c=new d(this.hexHash(this.padHex(r)+u),16);this.calculateS(c,n,function(e,t){e&&i(e,null);var n=a.computehkdf(o.Buffer.from(a.padHex(t),"hex"),o.Buffer.from(a.padHex(a.UValue.toString(16)),"hex"));i(null,n)})},e.prototype.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,function(e,t){e&&n(e,null),n(null,t.mod(r.N))})})},e.prototype.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.prototype.padHex=function(e){var t=e.toString(16);return t.length%2==1?t="0"+t:-1!=="89ABCDEFabcdef".indexOf(t[0])&&(t="00"+t),t},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jwtToken=t||"",this.payload=this.decodePayload()}return e.prototype.getJwtToken=function(){return this.jwtToken},e.prototype.getExpiration=function(){return this.payload.exp},e.prototype.getIssuedAt=function(){return this.payload.iat},e.prototype.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(o.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();var k=function(e){function t(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).AccessToken;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n||""))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(A);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var P=function(e){function t(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).IdToken;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n||""))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(A);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var R=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).RefreshToken;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),O=n(25),x=n.n(O);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}return e.prototype.getIdToken=function(){return this.idToken},e.prototype.getRefreshToken=function(){return this.refreshToken},e.prototype.getAccessToken=function(){return this.accessToken},e.prototype.getClockDrift=function(){return this.clockDrift},e.prototype.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.prototype.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getNowString=function(){var e=new Date,t=M[e.getUTCDay()],n=U[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.Name,r=t.Value;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Name=n||"",this.Value=r||""}return e.prototype.getValue=function(){return this.Value},e.prototype.setValue=function(e){return this.Value=e,this},e.prototype.getName=function(){return this.Name},e.prototype.setName=function(e){return this.Name=e,this},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var F={},j=function(){function e(){B(this,e)}return e.setItem=function(e,t){return F[e]=t,F[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(F,e)?F[e]:void 0},e.removeItem=function(e){return delete F[e]},e.clear=function(){return F={}},e}(),V=function(){function e(){B(this,e);try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=j}}return e.prototype.getStorage=function(){return this.storageWindow},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var K=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t||null==t.Username||null==t.Pool)throw new Error("Username and pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||(new V).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}return e.prototype.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},e.prototype.getSignInUserSession=function(){return this.signInUserSession},e.prototype.getUsername=function(){return this.username},e.prototype.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.prototype.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},e.prototype.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:e.getValidationData()};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))})},e.prototype.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},e.prototype.authenticateUserDefaultAuth=function(e,t){var n=this,r=new N(this.pool.getUserPoolId().split("_")[1]),i=new q,a=void 0,u=void 0,c={};null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey),c.USERNAME=this.username,r.getLargeAValue(function(l,f){l&&t.onFailure(l),c.SRP_A=f.toString(16),"CUSTOM_AUTH"===n.authenticationFlowType&&(c.CHALLENGE_NAME="SRP_A");var h={AuthFlow:n.authenticationFlowType,ClientId:n.pool.getClientId(),AuthParameters:c,ClientMetadata:e.getValidationData()};n.getUserContextData(n.username)&&(h.UserContextData=n.getUserContextData(n.username)),n.client.request("InitiateAuth",h,function(c,l){if(c)return t.onFailure(c);var f=l.ChallengeParameters;n.username=f.USER_ID_FOR_SRP,a=new d(f.SRP_B,16),u=new d(f.SALT,16),n.getCachedDeviceKeyAndPassword(),r.getPasswordAuthenticationKey(n.username,e.getPassword(),a,u,function(e,a){e&&t.onFailure(e);var u=i.getNowString(),c=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(n.pool.getUserPoolId().split("_")[1],"utf8"),o.Buffer.from(n.username,"utf8"),o.Buffer.from(f.SECRET_BLOCK,"base64"),o.Buffer.from(u,"utf8")])),d=s.a.lib.WordArray.create(a),h=x.a.stringify(p()(c,d)),m={};m.USERNAME=n.username,m.PASSWORD_CLAIM_SECRET_BLOCK=f.SECRET_BLOCK,m.TIMESTAMP=u,m.PASSWORD_CLAIM_SIGNATURE=h,null!=n.deviceKey&&(m.DEVICE_KEY=n.deviceKey);var y={ChallengeName:"PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:m,Session:l.Session};n.getUserContextData()&&(y.UserContextData=n.getUserContextData()),function e(t,r){return n.client.request("RespondToAuthChallenge",t,function(i,o){return i&&"ResourceNotFoundException"===i.code&&-1!==i.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,n.deviceKey=null,n.randomPassword=null,n.deviceGroupKey=null,n.clearCachedDeviceKeyAndPassword(),e(t,r)):r(i,o)})}(y,function(e,i){return e?t.onFailure(e):n.authenticateUserInternal(i,r,t)})})})})},e.prototype.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new N(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:e.getValidationData()};this.getUserContextData(this.username)&&(o.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",o,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)})}else t.onFailure(new Error("PASSWORD parameter is required"))},e.prototype.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,a=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,a);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,a);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,a);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,a);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,u=null,c=[],l=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(s=JSON.parse(e.ChallengeParameters.userAttributes),u=JSON.parse(e.ChallengeParameters.requiredAttributes)),u)for(var p=0;p<u.length;p++)c[p]=u[p].substr(l.length);return n.newPasswordRequired(s,c)}if("DEVICE_SRP_AUTH"!==i){this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var d=e.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return n.onFailure(i);var a={Salt:o.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:navigator.userAgent},function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))})})}else this.getDeviceResponse(n)},e.prototype.completeNewPasswordChallenge=function(e,t,n){var r=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new N(this.pool.getUserPoolId().split("_")[1]),o=i.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach(function(e){a[o+e]=t[e]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var s={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,t){return e?n.onFailure(e):r.authenticateUserInternal(t,i,n)})},e.prototype.getDeviceResponse=function(e){var t=this,n=new N(this.deviceGroupKey),r=new q,i={};i.USERNAME=this.username,i.DEVICE_KEY=this.deviceKey,n.getLargeAValue(function(a,u){a&&e.onFailure(a),i.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:t.pool.getClientId(),ChallengeResponses:i};t.getUserContextData()&&(c.UserContextData=t.getUserContextData()),t.client.request("RespondToAuthChallenge",c,function(i,a){if(i)return e.onFailure(i);var u=a.ChallengeParameters,c=new d(u.SRP_B,16),l=new d(u.SALT,16);n.getPasswordAuthenticationKey(t.deviceKey,t.randomPassword,c,l,function(n,i){if(n)return e.onFailure(n);var c=r.getNowString(),l=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(t.deviceGroupKey,"utf8"),o.Buffer.from(t.deviceKey,"utf8"),o.Buffer.from(u.SECRET_BLOCK,"base64"),o.Buffer.from(c,"utf8")])),d=s.a.lib.WordArray.create(i),f=x.a.stringify(p()(l,d)),h={};h.USERNAME=t.username,h.PASSWORD_CLAIM_SECRET_BLOCK=u.SECRET_BLOCK,h.TIMESTAMP=c,h.PASSWORD_CLAIM_SIGNATURE=f,h.DEVICE_KEY=t.deviceKey;var m={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:t.pool.getClientId(),ChallengeResponses:h,Session:a.Session};t.getUserContextData()&&(m.UserContextData=t.getUserContextData()),t.client.request("RespondToAuthChallenge",m,function(n,r){return n?e.onFailure(n):(t.signInUserSession=t.getCognitoUserSession(r.AuthenticationResult),t.cacheTokens(),e.onSuccess(t.signInUserSession))})})})})},e.prototype.confirmRegistration=function(e,t,n){var r={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",r,function(e){return e?n(e,null):n(null,"SUCCESS")})},e.prototype.sendCustomChallengeAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i=new N(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)})},e.prototype.sendMFACode=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(r.signInUserSession);var i=new N(r.pool.getUserPoolId().split("_")[1]);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var a={Salt:o.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.randomPassword=i.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:navigator.userAgent},function(e,i){return e?t.onFailure(e):(r.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?t.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):t.onSuccess(r.signInUserSession))})})}else r.getDeviceResponse(t)})},e.prototype.changePassword=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n(e,null):n(null,"SUCCESS")})},e.prototype.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},e.prototype.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n(e,null):n(null,"SUCCESS")})},e.prototype.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},e.prototype.deleteUser=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?e(n,null):(t.clearCachedUser(),e(null,"SUCCESS"))})},e.prototype.updateAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e},function(e){return e?t(e,null):t(null,"SUCCESS")})},e.prototype.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new L(o);r.push(a)}return e(null,r)})},e.prototype.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e(t,null):e(null,n.MFAOptions)})},e.prototype.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=!!t&&t.bypassCache,i=this.storage.getItem(this.userDataKey);if(!i||r)this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){if(t)return e(t,null);n.cacheUserData(r);var i=n.signInUserSession.getRefreshToken();if(!i||!i.getToken())return e(null,r);n.refreshSession(i,function(t,n){return t?e(t,null):e(null,r)})});else try{return e(null,JSON.parse(i))}catch(t){return this.clearCachedUserData(),e(t,null)}},e.prototype.deleteAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):t(null,"SUCCESS")})},e.prototype.resendConfirmationCode=function(e){var t={ClientId:this.pool.getClientId(),Username:this.username};this.client.request("ResendConfirmationCode",t,function(t,n){return t?e(t,null):e(null,n)})},e.prototype.getSession=function(e){if(null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=t+".idToken",r=t+".accessToken",i=t+".refreshToken",o=t+".clockDrift";if(this.storage.getItem(n)){var a=new P({IdToken:this.storage.getItem(n)}),s=new k({AccessToken:this.storage.getItem(r)}),u=new R({RefreshToken:this.storage.getItem(i)}),c=parseInt(this.storage.getItem(o),0)||0,l=new D({IdToken:a,AccessToken:s,RefreshToken:u,ClockDrift:c});if(l.isValid())return this.signInUserSession=l,e(null,this.signInUserSession);if(!u.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(u,e)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.prototype.refreshSession=function(e,t){var n=this,r={};r.REFRESH_TOKEN=e.getToken();var i="CognitoIdentityServiceProvider."+this.pool.getClientId(),o=i+".LastAuthUser";if(this.storage.getItem(o)){this.username=this.storage.getItem(o);var a=i+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(a),r.DEVICE_KEY=this.deviceKey}var s={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",s,function(r,i){if(r)return"NotAuthorizedException"===r.code&&n.clearCachedUser(),t(r,null);if(i){var o=i.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),n.signInUserSession=n.getCognitoUserSession(o),n.cacheTokens(),t(null,n.signInUserSession)}})},e.prototype.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},e.prototype.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},e.prototype.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.prototype.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.prototype.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},e.prototype.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},e.prototype.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},e.prototype.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},e.prototype.getCognitoUserSession=function(e){var t=new P(e),n=new k(e),r=new R(e);return new D({IdToken:t,AccessToken:n,RefreshToken:r})},e.prototype.forgotPassword=function(e){var t={ClientId:this.pool.getClientId(),Username:this.username};this.getUserContextData()&&(t.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",t,function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)})},e.prototype.confirmPassword=function(e,t,n){var r={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",r,function(e){return e?n.onFailure(e):n.onSuccess()})},e.prototype.getAttributeVerificationCode=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess()})},e.prototype.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},e.prototype.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,n){return t?e.onFailure(t):e.onSuccess(n)})},e.prototype.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},e.prototype.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},e.prototype.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},e.prototype.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},e.prototype.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("ListDevices",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e,PaginationToken:t},function(e,t){return e?n.onFailure(e):n.onSuccess(t)})},e.prototype.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},e.prototype.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},e.prototype.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.challengeName,i.challengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.challengeName,i.challengeParameters):void 0)})},e.prototype.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.prototype.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))})},e.prototype.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?n.onFailure(e):n.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))})})},e}(),z=G;function G(){}G.prototype.userAgent="aws-amplify/0.1.x js";var H=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=n||"https://cognito-idp."+t+".amazonaws.com/",this.userAgent=z.prototype.userAgent||"aws-amplify/0.1.x js"}return e.prototype.request=function(e,t,n){var r={headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":this.userAgent},method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)},i=void 0;fetch(this.endpoint,r).then(function(e){return i=e,e},function(e){if(e instanceof TypeError)throw new Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(i.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),r={code:t,name:t,message:e.message||e.Message||null};return n(r)}).catch(function(e){if(!(i&&i.headers&&i.headers.get("x-amzn-errortype"))){if(e instanceof Error&&"Network error"===e.message){var t={code:"NetworkError",name:e.name,message:e.message};return n(t)}return n(e)}try{var r=i.headers.get("x-amzn-errortype").split(":")[0],o={code:r,name:r,statusCode:i.status,message:i.status?i.status.toString():null};return n(o)}catch(t){return n(e)}})},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(r))throw new Error("Invalid UserPoolId format.");var s=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new H(s,o),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=t.Storage||(new V).getStorage()}return e.prototype.getUserPoolId=function(){return this.userPoolId},e.prototype.getClientId=function(){return this.clientId},e.prototype.signUp=function(e,t,n,r,i){var o=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(t,n){if(t)return i(t,null);var r={Username:e,Pool:o,Storage:o.storage},a={user:new K(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,a)})},e.prototype.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new K(n)}return null},e.prototype.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),J=n(12);var Y=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.domain)throw new Error("The domain of cookieStorage can not be undefined.");this.domain=t.domain,t.path?this.path=t.path:this.path="/",Object.prototype.hasOwnProperty.call(t,"expires")?this.expires=t.expires:this.expires=365,Object.prototype.hasOwnProperty.call(t,"secure")?this.secure=t.secure:this.secure=!0}return e.prototype.setItem=function(e,t){return J.set(e,t,{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure}),J.get(e)},e.prototype.getItem=function(e){return J.get(e)},e.prototype.removeItem=function(e){return J.remove(e,{path:this.path,domain:this.domain,secure:this.secure})},e.prototype.clear=function(){var e=J.get(),t=void 0;for(t=0;t<e.length;++t)J.remove(e[t]);return{}},e}();n.d(t,"AuthenticationDetails",function(){return i}),n.d(t,"AuthenticationHelper",function(){return N}),n.d(t,"CognitoAccessToken",function(){return k}),n.d(t,"CognitoIdToken",function(){return P}),n.d(t,"CognitoRefreshToken",function(){return R}),n.d(t,"CognitoUser",function(){return K}),n.d(t,"CognitoUserAttribute",function(){return L}),n.d(t,"CognitoUserPool",function(){return W}),n.d(t,"CognitoUserSession",function(){return D}),n.d(t,"CookieStorage",function(){return Y}),n.d(t,"DateHelper",function(){return q})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87);t.AnalyticsClass=r.default;var i=n(1),o=new i.ConsoleLogger("Analytics"),a=!1,s=!1,u=!1,c=null;c||(o.debug("Create Analytics Instance"),c=new r.default);var l=c;i.default.register(l),t.default=l,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(191));var p=function(e){var t=e.channel,n=e.payload;e.source;switch(o.debug("on hub capsule "+t,n),t){case"auth":f(n);break;case"storage":d(n);break;case"analytics":h(n)}},d=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&l.record({name:"Storage",attributes:n,metrics:r})},f=function(e){var t=e.event;if(t)switch(t){case"signIn":l.record({name:"_userauth.sign_in"});break;case"signUp":l.record({name:"_userauth.sign_up"});break;case"signOut":break;case"signIn_failure":l.record({name:"_userauth.auth_fail"});break;case"configured":(s=!0)&&u&&m()}},h=function(e){var t=e.event;if(t)switch(t){case"pinpointProvider_configured":u=!0,s&&u&&m()}},m=function(){var e=l.configure();!a&&e.autoSessionRecord&&(l.updateEndpoint({immediate:!0}).catch(function(e){o.debug("Failed to update the endpoint",e)}),a=!0),l.autoTrack("session",{enable:e.autoSessionRecord})};i.Hub.listen("auth",p),i.Hub.listen("storage",p),i.Hub.listen("analytics",p)},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(60),u=n(181),c=new a.ConsoleLogger("AnalyticsClass"),l="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",p={pageView:u.PageViewTracker,event:u.EventTracker,session:u.SessionTracker},d=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},this.record=this.record.bind(this)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;c.debug("configure Analytics",e);var n,i,o,u=a.Parser.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,u.Analytics,e),this._config.disabled&&(this._disabled=!0),this._pluggables.forEach(function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(r({disabled:t._config.disabled},n))}),0===this._pluggables.length&&this.addPluggable(new s.default),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),n="configured",i=null,o="The Analytics category has been configured successfully",a.Hub.dispatch("analytics",{event:n,data:i,message:o},"Analytics",l),c.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=r({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return c.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void c.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){return t={event:{name:"_session.start"},provider:e},[2,this._sendEvent(t)]})})},e.prototype.stopSession=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){return t={event:{name:"_session.stop"},provider:e},[2,this._sendEvent(t)]})})},e.prototype.record=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){return this.isAnalyticsConfigured()?(i=null,i="string"==typeof e?{event:{name:e,attributes:t,metrics:n},provider:"AWSPinpoint"}:{event:e,provider:t},[2,this._sendEvent(i)]):(r="Analytics has not been configured",c.debug(r),[2,Promise.reject(new Error(r))])})})},e.prototype.updateEndpoint=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){return n=Object.assign({name:"_update_endpoint"},e),[2,this.record(n,t)]})})},e.prototype._sendEvent=function(e){if(!this.isAnalyticsConfigured()){var t="Analytics has not been configured";return c.debug(t),Promise.reject(new Error(t))}if(this._disabled)return c.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return this._pluggables.forEach(function(t){t.getProviderName()===n&&t.record(e)}),Promise.resolve()},e.prototype.autoTrack=function(e,t){if(p[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new p[e](this.record,t)}else c.debug("invalid tracker type")},e.prototype.isAnalyticsConfigured=function(){return this._config&&Object.entries(this._config).length>0},e}();t.default=d},function(e,t,n){n(11);var r=n(0);"undefined"!=typeof window&&(window.AWS=r),e.exports=r,"undefined"!=typeof self&&(self.AWS=r)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(90),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(13))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},d.clearImmediate=f}function f(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(13),n(10))},function(e,t,n){var r=n(3);function i(){}function o(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function a(e,t,n,i){r.each(n.members,function(n,r){var a=t[n];if(null!=a){var u=o(r);s(u=e?e+"."+u:u,a,r,i)}})}function s(e,t,n,i){null!=t&&("structure"===n.type?a(e,t,n,i):"list"===n.type?function(e,t,n,i){var a=n.member||{};0!==t.length?r.arrayEach(t,function(t,r){var u="."+(r+1);if("ec2"===n.api.protocol)u+="";else if(n.flattened){if(a.name){var c=e.split(".");c.pop(),c.push(o(a)),e=c.join(".")}}else u="."+(a.name?a.name:"member")+u;s(e+u,t,a,i)}):i.call(this,e,null)}(e,t,n,i):"map"===n.type?function(e,t,n,i){var o=1;r.each(t,function(t,r){var a=(n.flattened?".":".entry.")+o+++".",u=a+(n.key.name||"key"),c=a+(n.value.name||"value");s(e+u,t,n.key,i),s(e+c,r,n.value,i)})}(e,t,n,i):i(e,n.toWireFormat(t).toString()))}i.prototype.serialize=function(e,t,n){a("",e,t,n)},e.exports=i},function(e,t,n){var r=n(3),i=n(93).XmlNode,o=n(95).XmlText;function a(){}function s(e,t,n){switch(n.type){case"structure":return function(e,t,n){r.arrayEach(n.memberNames,function(r){var o=n.members[r];if("body"===o.location){var a=t[r],c=o.name;if(null!=a)if(o.isXmlAttribute)e.addAttribute(c,a);else if(o.flattened)s(e,a,o);else{var l=new i(c);e.addChildNode(l),u(l,o),s(l,a,o)}}})}(e,t,n);case"map":return function(e,t,n){var o=n.key.name||"key",a=n.value.name||"value";r.each(t,function(t,r){var u=new i(n.flattened?n.name:"entry");e.addChildNode(u);var c=new i(o),l=new i(a);u.addChildNode(c),u.addChildNode(l),s(c,t,n.key),s(l,r,n.value)})}(e,t,n);case"list":return function(e,t,n){n.flattened?r.arrayEach(t,function(t){var r=n.member.name||n.name,o=new i(r);e.addChildNode(o),s(o,t,n.member)}):r.arrayEach(t,function(t){var r=n.member.name||"member",o=new i(r);e.addChildNode(o),s(o,t,n.member)})}(e,t,n);default:return function(e,t,n){e.addChildNode(new o(n.toWireFormat(t)))}(e,t,n)}}function u(e,t,n){var r,i="xmlns";t.xmlNamespaceUri?(r=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(i+=":"+t.xmlNamespacePrefix)):n&&t.api.xmlNamespaceUri&&(r=t.api.xmlNamespaceUri),r&&e.addAttribute(i,r)}a.prototype.toXML=function(e,t,n,r){var o=new i(n);return u(o,t,!0),s(o,e,t),o.children.length>0||r?o.toString():""},e.exports=a},function(e,t,n){var r=n(94).escapeAttribute;function i(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}i.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},i.prototype.addChildNode=function(e){return this.children.push(e),this},i.prototype.removeAttribute=function(e){return delete this.attributes[e],this},i.prototype.toString=function(){for(var e=Boolean(this.children.length),t="<"+this.name,n=this.attributes,i=0,o=Object.keys(n);i<o.length;i++){var a=o[i],s=n[a];null!=s&&(t+=" "+a+'="'+r(""+s)+'"')}return t+(e?">"+this.children.map(function(e){return e.toString()}).join("")+"</"+this.name+">":"/>")},e.exports={XmlNode:i}},function(e,t){e.exports={escapeAttribute:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}},function(e,t,n){var r=n(96).escapeElement;function i(e){this.value=e}i.prototype.toString=function(){return r(""+this.value)},e.exports={XmlText:i}},function(e,t){e.exports={escapeElement:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}},function(e,t){function n(e,t){if(!n.services.hasOwnProperty(e))throw new Error("InvalidService: Failed to load api for "+e);return n.services[e][t]}n.services={},e.exports=n},function(e,t,n){(function(t){var r=n(0),i=n(44),o=n(99),a=r.util.inherit,s=0;r.Service=a({constructor:function(e){if(!this.loadServiceClass)throw r.util.error(new Error,"Service must be constructed with `new' operator");var t=this.loadServiceClass(e||{});if(t){var n=r.util.copy(e),i=new t(e);return Object.defineProperty(i,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),i._clientId=++s,i}this.initialize(e)},initialize:function(e){var n=r.config[this.serviceIdentifier];if(this.config=new r.Config(r.config),n&&this.config.update(n,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||o(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),r.SequentialExecutor.call(this),r.Service.addDefaultMonitoringListeners(this),this.config.clientSideMonitoring&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",function(e){t.nextTick(function(){i.eventHandler(e)})}),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",function(e){t.nextTick(function(){i.eventHandler(e)})})}},validateService:function(){},loadServiceClass:function(e){var t=e;if(r.util.isEmpty(this.api)){if(t.apiConfig)return r.Service.defineServiceApi(this.constructor,t.apiConfig);if(this.constructor.services){(t=new r.Config(r.config)).update(e,!0);var n=t.apiVersions[this.constructor.serviceIdentifier];return n=n||t.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),null===this.constructor.services[e]&&r.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?r.util.isType(e,Date)&&(e=r.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var t=Object.keys(this.constructor.services).sort(),n=null,i=t.length-1;i>=0;i--)if("*"!==t[i][t[i].length-1]&&(n=t[i]),t[i].substr(0,10)<=e)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},this.config.params){var i=this.api.operations[e];i&&(t=r.util.copy(t),r.util.each(this.config.params,function(e,n){i.input.members[e]&&(void 0!==t[e]&&null!==t[e]||(t[e]=n))}))}var o=new r.Request(this,e,t);return this.addAllRequestListeners(o),this.attachMonitoringEmitter(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(e,t,n){"function"==typeof t&&(n=t,t={});var r=this.makeRequest(e,t).toUnauthenticated();return n?r.send(n):r},waitFor:function(e,t,n){return new r.ResourceWaiter(this,e).wait(t,n)},addAllRequestListeners:function(e){for(var t=[r.events,r.EventListeners.Core,this.serviceInterface(),r.EventListeners.CorePost],n=0;n<t.length;n++)t[n]&&e.addListeners(t[n]);this.config.paramValidation||e.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(r.EventListeners.Logger),this.setupRequestListeners(e),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(e)},apiCallEvent:function(e){var t=e.service.api.operations[e.operation];return{Type:"ApiCall",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix}},apiAttemptEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCallAttempt",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},r=e.response;return r.httpResponse.headers?(e.httpRequest.headers["x-amz-security-token"]&&(n.SessionToken=e.httpRequest.headers["x-amz-security-token"]),r.httpResponse.headers["x-amzn-requestid"]&&(n.XAmznRequestId=r.httpResponse.headers["x-amzn-requestid"]),r.httpResponse.headers["x-amz-request-id"]&&(n.XAmzRequestId=r.httpResponse.headers["x-amz-request-id"]),r.httpResponse.headers["x-amz-id-2"]&&(n.XAmzId2=r.httpResponse.headers["x-amz-id-2"]),r.httpResponse.statusCode&&(n.HttpStatusCode=r.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials.accessKeyId&&(n.AccessKey=e.service.config.credentials.accessKeyId),n):n},attemptFailEvent:function(e){var t=this.apiAttemptEvent(e),n=e.response;return n.httpResponse.statusCode>299?(t.AwsException=n.error.code,t.AwsExceptionMessage=n.error.message):(t.SdkException=n.error.code||n.error.name,t.SdkExceptionMessage=n.error.message),t},attachMonitoringEmitter:function(e){var t,n,i,o,a,s,u=0,c=this;e.on("validate",function(){o=r.util.realClock.now(),s=Date.now()},!0),e.on("sign",function(){n=r.util.realClock.now(),t=Date.now(),a=e.httpRequest.region,u++},!0),e.on("validateResponse",function(){i=Math.round(r.util.realClock.now()-n)}),e.addNamedListener("API_CALL_ATTEMPT","success",function(){var n=c.apiAttemptEvent(e);n.Timestamp=t,n.AttemptLatency=i>=0?i:0,n.Region=a,c.emit("apiCallAttempt",[n])}),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",function(){var o=c.attemptFailEvent(e);o.Timestamp=t,i=i||Math.round(r.util.realClock.now()-n),o.AttemptLatency=i>=0?i:0,o.Region=a,c.emit("apiCallAttempt",[o])}),e.addNamedListener("API_CALL","complete",function(){var t=c.apiCallEvent(e);if(t.AttemptCount=u,!(t.AttemptCount<=0)){t.Timestamp=s;var n=Math.round(r.util.realClock.now()-o);t.Latency=n>=0?n:0,c.emit("apiCall",[t])}})},setupRequestListeners:function(){},getSignerClass:function(e){var t,n=null,i="";e&&(i=(n=(e.service.api.operations||{})[e.operation]||null)?n.authtype:"");return t=this.config.signatureVersion?this.config.signatureVersion:"v4"===i||"v4-unsigned-body"===i?"v4":this.api.signatureVersion,r.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return r.EventListeners.Query;case"json":return r.EventListeners.Json;case"rest-json":return r.EventListeners.RestJson;case"rest-xml":return r.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e){return r.util.calculateRetryDelay(e,this.config.retryDelayOptions)},retryableError:function(e){return!!this.timeoutError(e)||(!!this.networkingError(e)||(!!this.expiredCredentialsError(e)||(!!this.throttledError(e)||e.statusCode>=500)))},networkingError:function(e){return"NetworkingError"===e.code},timeoutError:function(e){return"TimeoutError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e4},throttledError:function(e){switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"TooManyRequestsException":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;var t=e;return t=(t=(t=t.replace(/\{service\}/g,this.api.endpointPrefix)).replace(/\{region\}/g,this.config.region)).replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(e){this.endpoint=new r.Endpoint(e,this.config)},paginationConfig:function(e,t){var n=this.api.operations[e].paginator;if(!n){if(t){var i=new Error;throw r.util.error(i,"No pagination configuration for "+e)}return null}return n}}),r.util.update(r.Service,{defineMethods:function(e){r.util.each(e.prototype.api.operations,function(t){e.prototype[t]||("none"===e.prototype.api.operations[t].authtype?e.prototype[t]=function(e,n){return this.makeUnauthenticatedRequest(t,e,n)}:e.prototype[t]=function(e,n){return this.makeRequest(t,e,n)})})},defineService:function(e,t,n){r.Service._serviceMap[e]=!0,Array.isArray(t)||(n=t,t=[]);var i=a(r.Service,n||{});if("string"==typeof e){r.Service.addVersions(i,t);var o=i.serviceIdentifier||e;i.serviceIdentifier=o}else i.prototype.api=e,r.Service.defineMethods(i);if(r.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&r.util.clientSideMonitoring){var s=r.util.clientSideMonitoring.Publisher,u=r.util.clientSideMonitoring.configProvider;this.prototype.publisher=new s(u())}return r.SequentialExecutor.call(i.prototype),r.Service.addDefaultMonitoringListeners(i.prototype),i},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var n=0;n<t.length;n++)void 0===e.services[t[n]]&&(e.services[t[n]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,t,n){var o=a(e,{serviceIdentifier:e.serviceIdentifier});function s(e){e.isApi?o.prototype.api=e:o.prototype.api=new i(e)}if("string"==typeof t){if(n)s(n);else try{s(r.apiLoader(e.serviceIdentifier,t))}catch(n){throw r.util.error(n,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+t})}Object.prototype.hasOwnProperty.call(e.services,t)||(e.apiVersions=e.apiVersions.concat(t).sort()),e.services[t]=o}else s(t);return r.Service.defineMethods(o),o},hasService:function(e){return Object.prototype.hasOwnProperty.call(r.Service._serviceMap,e)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[t])}),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[t])})},_serviceMap:{}}),r.util.mixin(r.Service,r.SequentialExecutor),e.exports=r.Service}).call(this,n(10))},function(e,t,n){var r=n(3),i=n(100);function o(e,t){r.each(t,function(t,n){"globalEndpoint"!==t&&(void 0!==e.config[t]&&null!==e.config[t]||(e.config[t]=n))})}e.exports=function(e){for(var t=function(e){var t=e.config.region,n=function(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}(t),r=e.api.endpointPrefix;return[[t,r],[n,r],[t,"*"],[n,"*"],["*",r],["*","*"]].map(function(e){return e[0]&&e[1]?e.join("/"):null})}(e),n=0;n<t.length;n++){var a=t[n];if(a&&Object.prototype.hasOwnProperty.call(i.rules,a)){var s=i.rules[a];return"string"==typeof s&&(s=i.patterns[s]),e.config.useDualstack&&r.isDualstackAvailable(e)&&((s=r.copy(s)).endpoint="{service}.dualstack.{region}.amazonaws.com"),e.isGlobalEndpoint=!!s.globalEndpoint,s.signatureVersion||(s.signatureVersion="v4"),void o(e,s)}}}},function(e){e.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"}}}},function(e,t,n){var r,i=n(0);n(49),n(50),i.Config=i.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),i.util.each.call(this,this.keys,function(t,n){this.set(t,e[t],n)})},getCredentials:function(e){var t,n=this;function r(t){e(t,t?null:n.credentials)}function o(e,t){return new i.util.error(t||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}n.credentials?"function"==typeof n.credentials.get?n.credentials.get(function(e){e&&(e=o("Could not load credentials from "+n.credentials.constructor.name,e)),r(e)}):(t=null,n.credentials.accessKeyId&&n.credentials.secretAccessKey||(t=o("Missing credentials")),r(t)):n.credentialProvider?n.credentialProvider.resolve(function(e,t){e&&(e=o("Could not load credentials from any providers",e)),n.credentials=t,r(e)}):r(o("No credentials to load"))},update:function(e,t){t=t||!1,e=this.extractCredentials(e),i.util.each.call(this,e,function(e,n){(t||Object.prototype.hasOwnProperty.call(this.keys,e)||i.Service.hasService(e))&&this.set(e,n)})},loadFromPath:function(e){this.clear();var t=JSON.parse(i.util.readFileSync(e)),n=new i.FileSystemCredentials(e),r=new i.CredentialProviderChain;return r.providers.unshift(n),r.resolve(function(e,n){if(e)throw e;t.credentials=n}),this.constructor(t),this},clear:function(){i.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,t,n){void 0===t?(void 0===n&&(n=this.keys[e]),this[e]="function"==typeof n?n.call(this):n):"httpOptions"===e&&this[e]?this[e]=i.util.merge(this[e],t):this[e]=t},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&((e=i.util.copy(e)).credentials=new i.Credentials(e)),e},setPromisesDependency:function(e){r=e,null===e&&"function"==typeof Promise&&(r=Promise);var t=[i.Request,i.Credentials,i.CredentialProviderChain];i.S3&&i.S3.ManagedUpload&&t.push(i.S3.ManagedUpload),i.util.addPromises(t,r)},getPromisesDependency:function(){return r}}),i.config=new i.Config},function(e,t,n){var r=n(0),i=n(48);r.EventListeners={Core:{}},r.EventListeners={Core:(new i).addNamedListeners(function(e,t){t("VALIDATE_CREDENTIALS","validate",function(e,t){if(!e.service.api.signatureVersion)return t();e.service.config.getCredentials(function(n){n&&(e.response.error=r.util.error(n,{code:"CredentialsError",message:"Missing credentials in config"})),t()})}),e("VALIDATE_REGION","validate",function(e){e.service.config.region||e.service.isGlobalEndpoint||(e.response.error=r.util.error(new Error,{code:"ConfigError",message:"Missing region in config"}))}),e("BUILD_IDEMPOTENCY_TOKENS","validate",function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation];if(t){var n=t.idempotentMembers;if(n.length){for(var i=r.util.copy(e.params),o=0,a=n.length;o<a;o++)i[n[o]]||(i[n[o]]=r.util.uuid.v4());e.params=i}}}}),e("VALIDATE_PARAMETERS","validate",function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation].input,n=e.service.config.paramValidation;new r.ParamValidator(n).validate(t,e.params)}}),t("COMPUTE_SHA256","afterBuild",function(e,t){if(e.haltHandlersOnError(),e.service.api.operations){var n=e.service.api.operations[e.operation],i=n?n.authtype:"";if(!e.service.api.signatureVersion&&!i)return t();if(e.service.getSignerClass(e)===r.Signers.V4){var o=e.httpRequest.body||"";if(i.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",t();r.util.computeSha256(o,function(n,r){n?t(n):(e.httpRequest.headers["X-Amz-Content-Sha256"]=r,t())})}else t()}}),e("SET_CONTENT_LENGTH","afterBuild",function(e){var t=function(e){if(!e.service.api.operations)return"";var t=e.service.api.operations[e.operation];return t?t.authtype:""}(e);if(void 0===e.httpRequest.headers["Content-Length"])try{var n=r.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=n}catch(e){if(-1===t.indexOf("unsigned-body"))throw e;return}}),e("SET_HTTP_HOST","afterBuild",function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host}),e("RESTART","restart",function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new r.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}),t("SIGN","sign",function(e,t){var n=e.service,r=(e.service.api.operations||{})[e.operation],i=r?r.authtype:"";if(!n.api.signatureVersion&&!i)return t();n.config.getCredentials(function(i,o){if(i)return e.response.error=i,t();try{var a=n.getSkewCorrectedDate(),s=new(n.getSignerClass(e))(e.httpRequest,n.api.signingName||n.api.endpointPrefix,{signatureCache:n.config.signatureCache,operation:r});s.setServiceClientId(n._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],s.addAuthorization(o,a),e.signedAt=a}catch(t){e.response.error=t}t()})}),e("VALIDATE_RESPONSE","validateResponse",function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=r.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),t("SEND","send",function(e,t){function n(n){e.httpResponse.stream=n;var i=e.request.httpRequest.stream,o=e.request.service,a=o.api,s=e.request.operation,u=a.operations[s]||{};n.on("headers",function(i,a,s){if(e.request.emit("httpHeaders",[i,a,e,s]),!e.httpResponse.streaming)if(2===r.HttpClient.streamsApiVersion){if(u.hasEventOutput&&o.successfulResponse(e))return e.request.emit("httpDone"),void t();n.on("readable",function(){var t=n.read();null!==t&&e.request.emit("httpData",[t,e])})}else n.on("data",function(t){e.request.emit("httpData",[t,e])})}),n.on("end",function(){if(!i||!i.didCallback){if(2===r.HttpClient.streamsApiVersion&&u.hasEventOutput&&o.successfulResponse(e))return;e.request.emit("httpDone"),t()}})}function i(n){if("RequestAbortedError"!==n.code){var i="TimeoutError"===n.code?n.code:"NetworkingError";n=r.util.error(n,{code:i,region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0})}e.error=n,e.request.emit("httpError",[e.error,e],function(){t()})}function o(){var t,o=r.HttpClient.getInstance(),a=e.request.service.config.httpOptions||{};try{var s=o.handleRequest(e.request.httpRequest,a,n,i);(t=s).on("sendProgress",function(t){e.request.emit("httpUploadProgress",[t,e])}),t.on("receiveProgress",function(t){e.request.emit("httpDownloadProgress",[t,e])})}catch(e){i(e)}}e.httpResponse._abortCallback=t,e.error=null,e.data=null,(e.request.service.getSkewCorrectedDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],function(e){e?t(e):o()}):o()}),e("HTTP_HEADERS","httpHeaders",function(e,t,n,i){n.httpResponse.statusCode=e,n.httpResponse.statusMessage=i,n.httpResponse.headers=t,n.httpResponse.body=new r.util.Buffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var o=t.date||t.Date,a=n.request.service;if(o){var s=Date.parse(o);a.config.correctClockSkew&&a.isClockSkewed(s)&&a.applyClockOffset(s)}}),e("HTTP_DATA","httpData",function(e,t){if(e){if(r.util.isNode()){t.httpResponse.numBytes+=e.length;var n=t.httpResponse.headers["content-length"],i={loaded:t.httpResponse.numBytes,total:n};t.request.emit("httpDownloadProgress",[i,t])}t.httpResponse.buffers.push(new r.util.Buffer(e))}}),e("HTTP_DONE","httpDone",function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var t=r.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=t}delete e.httpResponse.numBytes,delete e.httpResponse.buffers}),e("FINALIZE_ERROR","retry",function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))}),e("INVALIDATE_CREDENTIALS","retry",function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}}),e("EXPIRED_SIGNATURE","retry",function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)}),e("CLOCK_SKEWED","retry",function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&(e.error.retryable=!0)}),e("REDIRECT","retry",function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new r.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,e.error.redirect=!0,e.error.retryable=!0)}),e("RETRY_CHECK","retry",function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount)||0))}),t("RESET_RETRY_STATE","afterRetry",function(e,t){var n,r=!1;e.error&&(n=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,r=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,r=!0)),r?(e.error=null,setTimeout(t,n)):t()})}),CorePost:(new i).addNamedListeners(function(e){e("EXTRACT_REQUEST_ID","extractData",r.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",r.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",function(e){if("NetworkingError"===e.code&&"ENOTFOUND"===e.errno){var t="Inaccessible host: `"+e.hostname+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=r.util.error(new Error(t),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}})}),Logger:(new i).addNamedListeners(function(e){e("LOG_REQUEST","complete",function(e){var t=e.request,i=t.service.config.logger;if(i){var o=function(){var o=(e.request.service.getSkewCorrectedDate().getTime()-t.startTime.getTime())/1e3,a=!!i.isTTY,s=e.httpResponse.statusCode,u=t.params;t.service.api.operations&&t.service.api.operations[t.operation]&&t.service.api.operations[t.operation].input&&(u=function e(t,n){if(!n)return n;switch(t.type){case"structure":var i={};return r.util.each(n,function(n,r){Object.prototype.hasOwnProperty.call(t.members,n)?i[n]=e(t.members[n],r):i[n]=r}),i;case"list":var o=[];return r.util.arrayEach(n,function(n,r){o.push(e(t.member,n))}),o;case"map":var a={};return r.util.each(n,function(n,r){a[n]=e(t.value,r)}),a;default:return t.isSensitive?"***SensitiveInformation***":n}}(t.service.api.operations[t.operation].input,t.params));var c=n(103).inspect(u,!0,null),l="";return a&&(l+="[33m"),l+="[AWS "+t.service.serviceIdentifier+" "+s,l+=" "+o.toString()+"s "+e.retryCount+" retries]",a&&(l+="[0;1m"),l+=" "+r.util.string.lowerFirst(t.operation),l+="("+c+")",a&&(l+="[0m"),l}();"function"==typeof i.log?i.log(o):"function"==typeof i.write&&i.write(o+"\n")}})}),Json:(new i).addNamedListeners(function(e){var t=n(26);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Rest:(new i).addNamedListeners(function(e){var t=n(19);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),RestJson:(new i).addNamedListeners(function(e){var t=n(42);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),RestXml:(new i).addNamedListeners(function(e){var t=n(43);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Query:(new i).addNamedListeners(function(e){var t=n(40);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])m(u)||!S(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(w(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return p(n)}var c,S="",I=!1,T=["{","}"];(f(n)&&(I=!0,T=["[","]"]),w(n))&&(S=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(S=" "+RegExp.prototype.toString.call(n)),_(n)&&(S=" "+Date.prototype.toUTCString.call(n)),E(n)&&(S=" "+p(n)),0!==a.length||I&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=I?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)N(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return d(e,n,r,s,t,I)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,S,T)):T[0]+S+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),N(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"==typeof e&&null!==e}function _(e){return S(e)&&"[object Date]"===I(e)}function E(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function w(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=S,t.isDate=_,t.isError=E,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(104);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(105),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(k,t,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(10))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(e){var t=n(0),r=n(107),i=t.util.inherit,o=t.util.domain,a=n(29),s={success:1,error:1,complete:1};var u=new r;u.setupStates=function(){var e=function(e,t){var n=this;n._haltHandlersOnError=!1,n.emit(n._asm.currentState,function(e){if(e)if(r=n,Object.prototype.hasOwnProperty.call(s,r._asm.currentState)){if(!(o&&n.domain instanceof o.Domain))throw e;e.domainEmitter=n,e.domain=n.domain,e.domainThrown=!1,n.domain.emit("error",e)}else n.response.error=e,t(e);else t(n.response.error);var r})};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},u.setupStates(),t.Request=i({constructor:function(e,n,i){var a=e.endpoint,s=e.config.region,c=e.config.customUserAgent;e.isGlobalEndpoint&&(s="us-east-1"),this.domain=o&&o.active,this.service=e,this.operation=n,this.params=i||{},this.httpRequest=new t.HttpRequest(a,s),this.httpRequest.appendToUserAgent(c),this.startTime=e.getSkewCorrectedDate(),this.response=new t.Response(this),this._asm=new r(u.states,"validate"),this._haltHandlersOnError=!1,t.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(t){e.call(t,t.error,t.data)})),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(e){e.error=t.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=t.util.fn.makeAsync(e,3),this.on("complete",function n(r){e.call(r,r.error,r.data,function(i){!1!==i&&(r.hasNextPage()?r.nextPage().on("complete",n).send():e.call(r,null,null,t.util.fn.noop))})}).send()},eachItem:function(e){var n=this;this.eachPage(function(r,i){if(r)return e(r,null);if(null===i)return e(null,null);var o=n.service.paginationConfig(n.operation).resultKey;Array.isArray(o)&&(o=o[0]);var s=a.search(i,o),u=!0;return t.util.arrayEach(s,function(n){if(!1===(u=e(null,n)))return t.util.abort}),u})},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var n=t.util.stream,r=this,i=null;return 2===t.HttpClient.streamsApiVersion?(i=new n.PassThrough,e.nextTick(function(){r.send()})):((i=new n.Stream).readable=!0,i.sent=!1,i.on("newListener",function(t){i.sent||"data"!==t||(i.sent=!0,e.nextTick(function(){r.send()}))})),this.on("error",function(e){i.emit("error",e)}),this.on("httpHeaders",function(e,o,a){if(e<300){r.removeListener("httpData",t.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",t.EventListeners.Core.HTTP_ERROR),r.on("httpError",function(e){a.error=e,a.error.retryable=!1});var s,u=!1;if("HEAD"!==r.httpRequest.method&&(s=parseInt(o["content-length"],10)),void 0!==s&&!isNaN(s)&&s>=0){u=!0;var c=0}var l=function(){u&&c!==s?i.emit("error",t.util.error(new Error("Stream content length mismatch. Received "+c+" of "+s+" bytes."),{code:"StreamContentLengthMismatch"})):2===t.HttpClient.streamsApiVersion?i.end():i.emit("end")},p=a.httpResponse.createUnbufferedStream();if(2===t.HttpClient.streamsApiVersion)if(u){var d=new n.PassThrough;d._write=function(e){return e&&e.length&&(c+=e.length),n.PassThrough.prototype._write.apply(this,arguments)},d.on("end",l),i.on("error",function(e){u=!1,p.unpipe(d),d.emit("end"),d.end()}),p.pipe(d).pipe(i,{end:!1})}else p.pipe(i);else u&&p.on("data",function(e){e&&e.length&&(c+=e.length)}),p.on("data",function(e){i.emit("data",e)}),p.on("end",l);p.on("error",function(e){u=!1,i.emit("error",e)})}}),i},emitEvent:function(e,n,r){"function"==typeof n&&(r=n,n=null),r||(r=function(){}),n||(n=this.eventParameters(e,this.response)),t.SequentialExecutor.prototype.emit.call(this,e,n,function(e){e&&(this.response.error=e),r.call(this,e)})},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,n){return n||"function"!=typeof e||(n=e,e=null),(new t.Signers.Presign).sign(this.toGet(),e,n)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",t.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",t.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),t.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(e,n){t.on("complete",function(t){t.error?n(t.error):e(Object.defineProperty(t.data||{},"$response",{value:t}))}),t.runTo()})}},t.Request.deletePromisesFromClass=function(){delete this.prototype.promise},t.util.addPromises(t.Request),t.util.mixin(t.Request,t.SequentialExecutor)}).call(this,n(10))},function(e,t){function n(e,t){this.currentState=t||null,this.states=e||{}}n.prototype.runTo=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,function(r){if(r){if(!o.fail)return t?t.call(n,r):null;i.currentState=o.fail}else{if(!o.accept)return t?t.call(n):null;i.currentState=o.accept}if(i.currentState===e)return t?t.call(n,r):null;i.runTo(e,t,n,r)})},n.prototype.addState=function(e,t,n,r){return"function"==typeof t?(r=t,t=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:n,fn:r},this},e.exports=n},function(e,t,n){var r=n(0),i=r.util.inherit,o=n(29);r.Response=i({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var t,n=this.request.service,i=this.request.operation;try{t=n.paginationConfig(i,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var o=r.util.copy(this.request.params);if(this.nextPageTokens){var a=t.inputToken;"string"==typeof a&&(a=[a]);for(var s=0;s<a.length;s++)o[a[s]]=this.nextPageTokens[s];return n.makeRequest(this.request.operation,o,e)}return e?e(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!o.search(this.data,e.moreResults))return this.nextPageTokens;var t=e.outputToken;return"string"==typeof t&&(t=[t]),r.util.arrayEach.call(this,t,function(e){var t=o.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))}),this.nextPageTokens}})},function(e,t,n){var r=n(0),i=r.util.inherit,o=n(29);function a(e){var t=e.request._waiter,n=t.config.acceptors,r=!1,i="retry";n.forEach(function(n){if(!r){var o=t.matchers[n.matcher];o&&o(e,n.expected,n.argument)&&(r=!0,i=n.state)}}),!r&&e.error&&(i="failure"),"success"===i?t.setSuccess(e):t.setError(e,"retry"===i)}r.ResourceWaiter=i({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}return o.strictDeepEqual(r,t)},pathAll:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);var i=r.length;if(!i)return!1;for(var a=0;a<i;a++)if(!o.strictDeepEqual(r[a],t))return!1;return!0},pathAny:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++)if(o.strictDeepEqual(r[a],t))return!0;return!1},status:function(e,t){var n=e.httpResponse.statusCode;return"number"==typeof n&&n===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new r.SequentialExecutor).addNamedListeners(function(e){e("RETRY_CHECK","retry",function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))}),e("CHECK_OUTPUT","extractData",a),e("CHECK_ERROR","extractError",a)}),wait:function(e,t){"function"==typeof e&&(t=e,e=void 0),e&&e.$waiter&&("number"==typeof(e=r.util.copy(e)).$waiter.delay&&(this.config.delay=e.$waiter.delay),"number"==typeof e.$waiter.maxAttempts&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var n=this.service.makeRequest(this.config.operation,e);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),t&&n.send(t),n},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,t){e.data=null,e.error=r.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:t})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new r.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=r.util.copy(this.service.api.waiters[e])}})},function(e,t,n){var r=n(0),i=r.util.inherit;r.Signers.RequestSigner=i({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),r.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return r.Signers.V2;case"v3":return r.Signers.V3;case"v4":return r.Signers.V4;case"s3":return r.Signers.S3;case"v3https":return r.Signers.V3Https}throw new Error("Unknown signing version "+e)},n(111),n(52),n(112),n(113),n(114),n(115)},function(e,t,n){var r=n(0),i=r.util.inherit;r.Signers.V2=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){t||(t=r.util.date.getDate());var n=this.request;n.params.Timestamp=r.util.date.iso8601(t),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(n.params.SecurityToken=e.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(e),n.body=r.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(r.util.queryParamsToString(this.request.params)),e.join("\n")}}),e.exports=r.Signers.V2},function(e,t,n){var r=n(0),i=r.util.inherit;n(52),r.Signers.V3Https=i(r.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),e.exports=r.Signers.V3Https},function(e,t,n){var r=n(0),i=n(53),o=r.util.inherit;r.Signers.V4=o(r.Signers.RequestSigner,{constructor:function(e,t,n){r.Signers.RequestSigner.call(this,e),this.serviceName=t,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,t){var n=r.util.date.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,n):this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,t){var n=this.credentialString(t),i={"X-Amz-Date":t,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers["presigned-expires"],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(i["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),r.util.each.call(this,this.request.headers,function(e,t){if("presigned-expires"!==e&&this.isSignableHeader(e)){var n=e.toLowerCase();0===n.indexOf("x-amz-meta-")?i[n]=t:0===n.indexOf("x-amz-")&&(i[e]=t)}});var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+r.util.queryParamsToString(i)},authorization:function(e,t){var n=[],r=this.credentialString(t);return n.push(this.algorithm+" Credential="+e.accessKeyId+"/"+r),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(e,t)),n.join(", ")},signature:function(e,t){var n=i.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return r.util.crypto.hmac(n,this.stringToSign(t),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var e=[],t=this.request.pathname();return"s3"!==this.serviceName&&(t=r.util.uriEscapePath(t)),e.push(this.request.method),e.push(t),e.push(this.request.search()),e.push(this.canonicalHeaders()+"\n"),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")},canonicalHeaders:function(){var e=[];r.util.each.call(this,this.request.headers,function(t,n){e.push([t,n])}),e.sort(function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1});var t=[];return r.util.arrayEach.call(this,e,function(e){var n=e[0].toLowerCase();if(this.isSignableHeader(n)){var i=e[1];if(null==i||"function"!=typeof i.toString)throw r.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});t.push(n+":"+this.canonicalHeaderValues(i.toString()))}}),t.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return r.util.each.call(this,this.request.headers,function(t){t=t.toLowerCase(),this.isSignableHeader(t)&&e.push(t)}),e.sort().join(";")},credentialString:function(e){return i.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return r.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&"s3"===this.serviceName&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers["presigned-expires"]}}),e.exports=r.Signers.V4},function(e,t,n){var r=n(0),i=r.util.inherit;r.Signers.S3=i(r.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,t){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=r.util.date.rfc822(t)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var n=this.sign(e.secretAccessKey,this.stringToSign()),i="AWS "+e.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&t.push(n),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var e=[];r.util.each(this.request.headers,function(t){t.match(/^x-amz-/i)&&e.push(t)}),e.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1});var t=[];return r.util.arrayEach.call(this,e,function(e){t.push(e.toLowerCase()+":"+String(this.request.headers[e]))}),t.join("\n")},canonicalizedResource:function(){var e=this.request,t=e.path.split("?"),n=t[0],i=t[1],o="";if(e.virtualHostedBucket&&(o+="/"+e.virtualHostedBucket),o+=n,i){var a=[];r.util.arrayEach.call(this,i.split("&"),function(e){var t=e.split("=")[0],n=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var r={name:t};void 0!==n&&(this.subResources[t]?r.value=n:r.value=decodeURIComponent(n)),a.push(r)}}),a.sort(function(e,t){return e.name<t.name?-1:1}),a.length&&(i=[],r.util.arrayEach(a,function(e){void 0===e.value?i.push(e.name):i.push(e.name+"="+e.value)}),o+="?"+i.join("&"))}return o},sign:function(e,t){return r.util.crypto.hmac(e,t,"base64","sha1")}}),e.exports=r.Signers.S3},function(e,t,n){var r=n(0),i=r.util.inherit,o="presigned-expires";function a(e){var t=e.httpRequest.headers[o],n=e.service.getSignerClass(e);if(delete e.httpRequest.headers["User-Agent"],delete e.httpRequest.headers["X-Amz-User-Agent"],n===r.Signers.V4){if(t>604800){throw r.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1})}e.httpRequest.headers[o]=t}else{if(n!==r.Signers.S3)throw r.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});var i=e.service?e.service.getSkewCorrectedDate():r.util.date.getDate();e.httpRequest.headers[o]=parseInt(r.util.date.unixTimestamp(i)+t,10).toString()}}function s(e){var t=e.httpRequest.endpoint,n=r.util.urlParse(e.httpRequest.path),i={};n.search&&(i=r.util.queryStringParse(n.search.substr(1)));var a=e.httpRequest.headers.Authorization.split(" ");if("AWS"===a[0])a=a[1].split(":"),i.AWSAccessKeyId=a[0],i.Signature=a[1],r.util.each(e.httpRequest.headers,function(e,t){e===o&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete i[e],e=e.toLowerCase()),i[e]=t}),delete e.httpRequest.headers[o],delete i.Authorization,delete i.Host;else if("AWS4-HMAC-SHA256"===a[0]){a.shift();var s=a.join(" ").match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];i["X-Amz-Signature"]=s,delete i.Expires}t.pathname=n.pathname,t.search=r.util.queryParamsToString(i)}r.Signers.Presign=i({sign:function(e,t,n){if(e.httpRequest.headers[o]=t||3600,e.on("build",a),e.on("sign",s),e.removeListener("afterBuild",r.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),!n){if(e.build(),e.response.error)throw e.response.error;return r.util.urlFormat(e.httpRequest.endpoint)}e.build(function(){this.response.error?n(this.response.error):n(null,r.util.urlFormat(e.httpRequest.endpoint))})}}),e.exports=r.Signers.Presign},function(e,t,n){var r=n(0);r.ParamValidator=r.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(e,t,n){if(this.errors=[],this.validateMember(e,t||{},n||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,r.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(e,t){this.errors.push(r.util.error(new Error(t),{code:e}))},validateStructure:function(e,t,n){var r;this.validateType(t,n,["object"],"structure");for(var i=0;e.required&&i<e.required.length;i++){var o=t[r=e.required[i]];null==o&&this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n)}for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r],s=e.members[r];if(void 0!==s){var u=[n,r].join(".");this.validateMember(s,a,u)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(e,t,n){switch(e.type){case"structure":return this.validateStructure(e,t,n);case"list":return this.validateList(e,t,n);case"map":return this.validateMap(e,t,n);default:return this.validateScalar(e,t,n)}},validateList:function(e,t,n){if(this.validateType(t,n,[Array])){this.validateRange(e,t.length,n,"list member count");for(var r=0;r<t.length;r++)this.validateMember(e.member,t[r],n+"["+r+"]")}},validateMap:function(e,t,n){if(this.validateType(t,n,["object"],"map")){var r=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.validateMember(e.key,i,n+"[key='"+i+"']"),this.validateMember(e.value,t[i],n+"['"+i+"']"),r++);this.validateRange(e,r,n,"map member count")}},validateScalar:function(e,t,n){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,n);case"base64":case"binary":return this.validatePayload(t,n);case"integer":case"float":return this.validateNumber(e,t,n);case"boolean":return this.validateType(t,n,["boolean"]);case"timestamp":return this.validateType(t,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+n)}},validateString:function(e,t,n){var r=["string"];e.isJsonValue&&(r=r.concat(["number","object","boolean"])),null!==t&&this.validateType(t,n,r)&&(this.validateEnum(e,t,n),this.validateRange(e,t.length,n,"string length"),this.validatePattern(e,t,n),this.validateUri(e,t,n))},validateUri:function(e,t,n){"uri"===e.location&&0===t.length&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+t+'" for '+n)},validatePattern:function(e,t,n){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+n))},validateRange:function(e,t,n,r){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+r+" >= "+e.min+", but found "+t+" for "+n),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+r+" <= "+e.max+", but found "+t+" for "+n)},validateEnum:function(e,t,n){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+n)},validateType:function(e,t,n,i){if(null==e)return!1;for(var o=!1,a=0;a<n.length;a++){if("string"==typeof n[a]){if(typeof e===n[a])return!0}else if(n[a]instanceof RegExp){if((e||"").toString().match(n[a]))return!0}else{if(e instanceof n[a])return!0;if(r.util.isType(e,n[a]))return!0;i||o||(n=n.slice()),n[a]=r.util.typeName(n[a])}o=!0}var s=i;s||(s=n.join(", ").replace(/,([^,]+)$/,", or$1"));var u=s.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+t+" to be a"+u+" "+s),!1},validateNumber:function(e,t,n){if(null!=t){if("string"==typeof t){var r=parseFloat(t);r.toString()===t&&(t=r)}this.validateType(t,n,["number"])&&this.validateRange(e,t,n,"numeric value")}},validatePayload:function(e,t){if(null!=e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(r.util.isNode()){var n=r.util.stream.Stream;if(r.util.Buffer.isBuffer(e)||e instanceof n)return}else if(void 0!==typeof Blob&&e instanceof Blob)return;var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var o=0;o<i.length;o++){if(r.util.isType(e,i[o]))return;if(r.util.typeName(e.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},function(e){e.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM"},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay"},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena"},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2"},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer"},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData"},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend"},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia"},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups"},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect"},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics"},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"}}},function(e,t,n){var r=n(119),i=n(120),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r=n(54),i=n(55),o=r(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),u=0,c=0;e.exports=function(e,t,n){var r=t&&n||0,o=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:s,p=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:c+1,f=p-u+(d-c)/1e4;if(f<0&&void 0===e.clockseq&&(l=l+1&16383),(f<0||p>u)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=d,s=l;var h=(1e4*(268435455&(p+=122192928e5))+d)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var m=p/4294967296*1e4&268435455;o[r++]=m>>>8&255,o[r++]=255&m,o[r++]=m>>>24&15|16,o[r++]=m>>>16&255,o[r++]=l>>>8|128,o[r++]=255&l;for(var y=e.node||a,g=0;g<6;++g)o[r+g]=y[g];return t||i(o)}},function(e,t,n){var r=n(54),i=n(55);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){var r=n(122),i=n(126),o=n(127),a=n(128);e.exports={createHash:function(e){if("md5"===(e=e.toLowerCase()))return new i;if("sha256"===e)return new a;if("sha1"===e)return new o;throw new Error("Hash algorithm "+e+" is not supported in the browser SDK")},createHmac:function(e,t){if("md5"===(e=e.toLowerCase()))return new r(i,t);if("sha256"===e)return new r(a,t);if("sha1"===e)return new r(o,t);throw new Error("HMAC algorithm "+e+" is not supported in the browser SDK")},createSign:function(){throw new Error("createSign is not implemented in the browser")}}},function(e,t,n){var r=n(20);function i(e,t){this.hash=new e,this.outer=new e;var n=function(e,t){var n=r.convertToBuffer(t);if(n.byteLength>e.BLOCK_SIZE){var i=new e;i.update(n),n=i.digest()}var o=new Uint8Array(e.BLOCK_SIZE);return o.set(n),o}(e,t),i=new Uint8Array(e.BLOCK_SIZE);i.set(n);for(var o=0;o<e.BLOCK_SIZE;o++)n[o]^=54,i[o]^=92;this.hash.update(n),this.outer.update(i);for(o=0;o<n.byteLength;o++)n[o]=0}e.exports=i,i.prototype.update=function(e){if(r.isEmptyData(e)||this.error)return this;try{this.hash.update(r.convertToBuffer(e))}catch(e){this.error=e}return this},i.prototype.digest=function(e){return this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest(e)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,p=0;p<l;p+=4)t=i[e.charCodeAt(p)]<<18|i[e.charCodeAt(p+1)]<<12|i[e.charCodeAt(p+2)]<<6|i[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(p)]<<2|i[e.charCodeAt(p+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(p)]<<10|i[e.charCodeAt(p+1)]<<4|i[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,d=n?-1:1,f=e[t+p];for(p+=d,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?d/u:d*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(20),i=n(2).Buffer,o=64;function a(){this.state=[1732584193,4023233417,2562383102,271733878],this.buffer=new DataView(new ArrayBuffer(o)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}function s(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function u(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function c(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function l(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}e.exports=a,a.BLOCK_SIZE=o,a.prototype.update=function(e){if(r.isEmptyData(e))return this;if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=r.convertToBuffer(e),n=0,i=t.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),i--,this.bufferLength===o&&(this.hashBuffer(),this.bufferLength=0);return this},a.prototype.digest=function(e){if(!this.finished){var t=this.buffer,n=this.bufferLength,r=8*this.bytesHashed;if(t.setUint8(this.bufferLength++,128),n%o>=o-8){for(var a=this.bufferLength;a<o;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<o-8;a++)t.setUint8(a,0);t.setUint32(o-8,r>>>0,!0),t.setUint32(o-4,Math.floor(r/4294967296),!0),this.hashBuffer(),this.finished=!0}var s=new DataView(new ArrayBuffer(16));for(a=0;a<4;a++)s.setUint32(4*a,this.state[a],!0);var u=new i(s.buffer,s.byteOffset,s.byteLength);return e?u.toString(e):u},a.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=u(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=u(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=u(i,o,n,r,e.getUint32(8,!0),17,606105819),r=u(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=u(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=u(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=u(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=u(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=u(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=u(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=u(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=u(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=u(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=u(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=u(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=c(n,r=u(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=c(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=c(i,o,n,r,e.getUint32(44,!0),14,643717713),r=c(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=c(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=c(o,n,r,i,e.getUint32(40,!0),9,38016083),i=c(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=c(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=c(n,r,i,o,e.getUint32(36,!0),5,568446438),o=c(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=c(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=c(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=c(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=c(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=c(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=l(n,r=c(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=l(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=l(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=l(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=l(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=l(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=l(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=l(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=l(n,r,i,o,e.getUint32(52,!0),4,681279174),o=l(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=l(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=l(r,i,o,n,e.getUint32(24,!0),23,76029189),n=l(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=l(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=l(i,o,n,r,e.getUint32(60,!0),16,530742520),n=p(n,r=l(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=p(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=p(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=p(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=p(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=p(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=p(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=p(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=p(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=p(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=p(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=p(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=p(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=p(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=p(i,o,n,r,e.getUint32(8,!0),15,718787259),r=p(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295}},function(e,t,n){var r=n(2).Buffer,i=n(20);new Uint32Array([1518500249,1859775393,-1894007588,-899497514]),Math.pow(2,53);function o(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=new Uint32Array(80),this.offset=0,this.shift=24,this.totalLength=0}e.exports=o,o.BLOCK_SIZE=64,o.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(i.isEmptyData(e))return this;var t=(e=i.convertToBuffer(e)).length;this.totalLength+=8*t;for(var n=0;n<t;n++)this.write(e[n]);return this},o.prototype.write=function(e){this.block[this.offset]|=(255&e)<<this.shift,this.shift?this.shift-=8:(this.offset++,this.shift=24),16===this.offset&&this.processBlock()},o.prototype.digest=function(e){this.write(128),(this.offset>14||14===this.offset&&this.shift<24)&&this.processBlock(),this.offset=14,this.shift=24,this.write(0),this.write(0),this.write(this.totalLength>0xffffffffff?this.totalLength/1099511627776:0),this.write(this.totalLength>4294967295?this.totalLength/4294967296:0);for(var t=24;t>=0;t-=8)this.write(this.totalLength>>t);var n=new r(20),i=new DataView(n.buffer);return i.setUint32(0,this.h0,!1),i.setUint32(4,this.h1,!1),i.setUint32(8,this.h2,!1),i.setUint32(12,this.h3,!1),i.setUint32(16,this.h4,!1),e?n.toString(e):n},o.prototype.processBlock=function(){for(var e=16;e<80;e++){var t=this.block[e-3]^this.block[e-8]^this.block[e-14]^this.block[e-16];this.block[e]=t<<1|t>>>31}var n,r,i=this.h0,o=this.h1,a=this.h2,s=this.h3,u=this.h4;for(e=0;e<80;e++){e<20?(n=s^o&(a^s),r=1518500249):e<40?(n=o^a^s,r=1859775393):e<60?(n=o&a|s&(o|a),r=2400959708):(n=o^a^s,r=3395469782);var c=(i<<5|i>>>27)+n+u+r+(0|this.block[e]);u=s,s=a,a=o<<30|o>>>2,o=i,i=c}for(this.h0=this.h0+i|0,this.h1=this.h1+o|0,this.h2=this.h2+a|0,this.h3=this.h3+s|0,this.h4=this.h4+u|0,this.offset=0,e=0;e<16;e++)this.block[e]=0}},function(e,t,n){var r=n(2).Buffer,i=n(20),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=Math.pow(2,53)-1;function s(){this.state=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}e.exports=s,s.BLOCK_SIZE=64,s.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(i.isEmptyData(e))return this;var t=0,n=(e=i.convertToBuffer(e)).byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>a)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},s.prototype.digest=function(e){if(!this.finished){var t=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(n.setUint8(this.bufferLength++,128),i%64>=56){for(var o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,Math.floor(t/4294967296),!0),n.setUint32(60,t),this.hashBuffer(),this.finished=!0}var a=new r(32);for(o=0;o<8;o++)a[4*o]=this.state[o]>>>24&255,a[4*o+1]=this.state[o]>>>16&255,a[4*o+2]=this.state[o]>>>8&255,a[4*o+3]=this.state[o]>>>0&255;return e?a.toString(e):a},s.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],p=0;p<64;p++){if(p<16)this.temp[p]=(255&e[4*p])<<24|(255&e[4*p+1])<<16|(255&e[4*p+2])<<8|255&e[4*p+3];else{var d=this.temp[p-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[p-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[p]=(f+this.temp[p-7]|0)+(h+this.temp[p-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(o[p]+this.temp[p]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;l=c,c=u,u=s,s=a+m|0,a=i,i=r,r=n,n=m+y|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l}},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,p=26,d=38,f=700,h=72,m=128,y="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-l,E=Math.floor,w=String.fromCharCode;function I(e){throw RangeError(S[e])}function T(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+T((e=e.replace(b,".")).split("."),t).join(".")}function N(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return T(e,function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)}).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?E(e/f):e>>1,e+=E(e/t);e>_*p>>1;r+=c)e=E(e/_);return E(r+(_+1)*e/(e+d))}function R(e){var t,n,r,i,o,a,s,d,f,g,v,b=[],S=e.length,_=0,w=m,T=h;for((n=e.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&I("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<S;){for(o=_,a=1,s=c;i>=S&&I("invalid-input"),((d=(v=e.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||d>E((u-_)/a))&&I("overflow"),_+=d*a,!(d<(f=s<=T?l:s>=T+p?p:s-T));s+=c)a>E(u/(g=c-f))&&I("overflow"),a*=g;T=P(_-o,t=b.length+1,0==o),E(_/t)>u-w&&I("overflow"),w+=E(_/t),_%=t,b.splice(_++,0,w)}return A(b)}function O(e){var t,n,r,i,o,a,s,d,f,g,v,b,S,_,T,C=[];for(b=(e=N(e)).length,t=m,n=0,o=h,a=0;a<b;++a)(v=e[a])<128&&C.push(w(v));for(r=i=C.length,i&&C.push(y);r<b;){for(s=u,a=0;a<b;++a)(v=e[a])>=t&&v<s&&(s=v);for(s-t>E((u-n)/(S=r+1))&&I("overflow"),n+=(s-t)*S,t=s,a=0;a<b;++a)if((v=e[a])<t&&++n>u&&I("overflow"),v==t){for(d=n,f=c;!(d<(g=f<=o?l:f>=o+p?p:f-o));f+=c)T=d-g,_=c-g,C.push(w(k(g+T%_,0))),d=E(T/_);C.push(w(k(d,0))),o=P(n,S,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:N,encode:A},decode:R,encode:O,toASCII:function(e){return C(e,function(e){return v.test(e)?"xn--"+O(e):e})},toUnicode:function(e){return C(e,function(e){return g.test(e)?R(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(130)(e),n(13))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var p,d,f,h,m=e[l].replace(s,"%20"),y=m.indexOf(n);y>=0?(p=m.substr(0,y),d=m.substr(y+1)):(p=m,d=""),f=decodeURIComponent(p),h=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){e.exports={now:function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}}},function(e,t,n){var r=n(136).eventMessageChunker,i=n(137).parseEvent;e.exports={createEventStream:function(e,t,n){for(var o=r(e),a=[],s=0;s<o.length;s++)a.push(i(t,o[s],n));return a}}},function(e,t){e.exports={eventMessageChunker:function(e){for(var t=[],n=0;n<e.length;){var r=e.readInt32BE(n),i=e.slice(n,r+n);n+=r,t.push(i)}return t}}},function(e,t,n){var r=n(138).parseMessage;e.exports={parseEvent:function(e,t,n){var i=r(t),o=i.headers[":message-type"];if(o){if("error"===o.value)throw function(e){var t=e.headers[":error-code"],n=e.headers[":error-message"],r=new Error(n.value||n);return r.code=r.name=t.value||t,r}(i);if("event"!==o.value)return}var a=i.headers[":event-type"],s=n.members[a.value];if(s){var u={},c=s.eventPayloadMemberName;if(c){var l=s.members[c];"binary"===l.type?u[c]=i.body:u[c]=e.parse(i.body.toString(),l)}for(var p=s.eventHeaderMemberNames,d=0;d<p.length;d++){var f=p[d];i.headers[f]&&(u[f]=s.members[f].toType(i.headers[f].value))}var h={};return h[a.value]=u,h}}}},function(e,t,n){var r=n(139).Int64,i=n(140).splitMessage,o="boolean",a="byte",s="short",u="integer",c="long",l="binary",p="string",d="timestamp",f="uuid";function h(e){for(var t={},n=0;n<e.length;){var i=e.readUInt8(n++),h=e.slice(n,n+i).toString();switch(n+=i,e.readUInt8(n++)){case 0:t[h]={type:o,value:!0};break;case 1:t[h]={type:o,value:!1};break;case 2:t[h]={type:a,value:e.readInt8(n++)};break;case 3:t[h]={type:s,value:e.readInt16BE(n)},n+=2;break;case 4:t[h]={type:u,value:e.readInt32BE(n)},n+=4;break;case 5:t[h]={type:c,value:new r(e.slice(n,n+8))},n+=8;break;case 6:var m=e.readUInt16BE(n);n+=2,t[h]={type:l,value:e.slice(n,n+m)},n+=m;break;case 7:var y=e.readUInt16BE(n);n+=2,t[h]={type:p,value:e.slice(n,n+y).toString()},n+=y;break;case 8:t[h]={type:d,value:new Date(new r(e.slice(n,n+8)).valueOf())},n+=8;break;case 9:var g=e.slice(n,n+16).toString("hex");n+=16,t[h]={type:f,value:g.substr(0,8)+"-"+g.substr(8,4)+"-"+g.substr(12,4)+"-"+g.substr(16,4)+"-"+g.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return t}e.exports={parseMessage:function(e){var t=i(e);return{headers:h(t.headers),body:t.body}}}},function(e,t,n){var r=n(0).util,i=n(57).toBuffer;function o(e){if(8!==e.length)throw new Error("Int64 buffers must be exactly 8 bytes");r.Buffer.isBuffer(e)||(e=i(e)),this.bytes=e}function a(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}o.fromNumber=function(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(e+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&a(t),new o(t)},o.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&a(e),parseInt(e.toString("hex"),16)*(t?-1:1)},o.prototype.toString=function(){return String(this.valueOf())},e.exports={Int64:o}},function(e,t,n){var r=n(0).util,i=n(57).toBuffer,o=4,a=2*o,s=4,u=a+2*s;e.exports={splitMessage:function(e){if(r.Buffer.isBuffer(e)||(e=i(e)),e.length<u)throw new Error("Provided message too short to accommodate event stream message overhead");if(e.length!==e.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var t=e.readUInt32BE(a);if(t!==r.crypto.crc32(e.slice(0,a)))throw new Error("The prelude checksum specified in the message ("+t+") does not match the calculated CRC32 checksum.");var n=e.readUInt32BE(e.length-s);if(n!==r.crypto.crc32(e.slice(0,e.length-s)))throw new Error("The message checksum did not match the expected value of "+n);var c=a+s,l=c+e.readUInt32BE(o);return{headers:e.slice(c,l),body:e.slice(l,e.length-s)}}}},function(e,t,n){var r=n(0),i=n(21);r.TemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.loadMasterCredentials(t),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.masterCredentials.get(function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,function(n,r){n||t.service.credentialsFrom(r,t),e(n)})})},loadMasterCredentials:function(e){for(this.masterCredentials=e||r.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new r.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new i({params:this.params})}})},function(e,t,n){var r=n(0);r.util.update(r.STS.prototype,{credentialsFrom:function(e,t){return e?(t||(t=new r.TemporaryCredentials),t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretAccessKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration,t):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)}})},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},Policy:{},DurationSeconds:{type:"integer"},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sa"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sa"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sa"}}}}},shapes:{Sa:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sf:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},function(e){e.exports={pagination:{}}},function(e,t,n){var r=n(0),i=n(21);r.WebIdentityCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=r.util.copy(t||{})},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.service.assumeRoleWithWebIdentity(function(n,r){t.data=null,n||(t.data=r,t.service.credentialsFrom(r,t)),e(n)})},createClients:function(){if(!this.service){var e=r.util.merge({},this._clientConfig);e.params=this.params,this.service=new i(e)}}})},function(e,t,n){var r=n(0),i=n(147),o=n(21);r.CognitoIdentityCredentials=r.util.inherit(r.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=r.util.copy(t||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(e){n._identityId=e}})},refresh:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId(function(n){n?(t.clearIdOnNotAuthorized(n),e(n)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){"NotAuthorizedException"==e.code&&this.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId(function(n,r){!n&&r.IdentityId?(t.params.IdentityId=r.IdentityId,e(null,r.IdentityId)):e(n)})},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity(function(n,r){n?t.clearIdOnNotAuthorized(n):(t.cacheId(r),t.data=r,t.loadCredentials(t.data,t)),e(n)})},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken(function(n,r){n?(t.clearIdOnNotAuthorized(n),e(n)):(t.cacheId(r),t.params.WebIdentityToken=r.Token,t.webIdentityCredentials.refresh(function(n){n||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(n)}))})},loadCachedId:function(){if(r.util.isBrowser()&&!this.params.IdentityId){var e=this.getStorage("id");if(e&&this.params.Logins){var t=Object.keys(this.params.Logins);0!==(this.getStorage("providers")||"").split(",").filter(function(e){return-1!==t.indexOf(e)}).length&&(this.params.IdentityId=e)}else e&&(this.params.IdentityId=e)}},createClients:function(){var e=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new r.WebIdentityCredentials(this.params,e),!this.cognito){var t=r.util.merge({},e);t.params=this.params,this.cognito=new i(t)}this.sts=this.sts||new o(e)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,r.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var e=r.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return e["aws.test-storage"]="foobar",delete e["aws.test-storage"],e}catch(e){return{}}}()})},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.cognitoidentity={},r.CognitoIdentity=i.defineService("cognitoidentity",["2014-06-30"]),n(148),Object.defineProperty(o.services.cognitoidentity,"2014-06-30",{get:function(){var e=n(149);return e.paginators=n(150).pagination,e},enumerable:!0,configurable:!0}),e.exports=r.CognitoIdentity},function(e,t,n){var r=n(0);r.util.update(r.CognitoIdentity.prototype,{getOpenIdToken:function(e,t){return this.makeUnauthenticatedRequest("getOpenIdToken",e,t)},getId:function(e,t){return this.makeUnauthenticatedRequest("getId",e,t)},getCredentialsForIdentity:function(e,t){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",e,t)}})},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},output:{shape:"Sg"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sr"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sg"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"Sw"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sr"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"Sw"},LoginsToRemove:{shape:"Ss"}}}},UpdateIdentityPool:{input:{shape:"Sg"},output:{shape:"Sg"}}},shapes:{S4:{type:"map",key:{},value:{}},S8:{type:"list",member:{}},Sa:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sf:{type:"list",member:{}},Sg:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},Sr:{type:"structure",members:{IdentityId:{},Logins:{shape:"Ss"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Ss:{type:"list",member:{}},Sw:{type:"map",key:{},value:{}},S18:{type:"map",key:{},value:{}},S1a:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},function(e){e.exports={pagination:{}}},function(e,t,n){var r=n(0),i=n(21);r.SAMLCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.service.assumeRoleWithSAML(function(n,r){n||t.service.credentialsFrom(r,t),e(n)})},createClients:function(){this.service=this.service||new i({params:this.params})}})},function(e,t,n){var r=n(3),i=n(16);function o(){}function a(e,t){for(var n=e.getElementsByTagName(t),r=0,i=n.length;r<i;r++)if(n[r].parentNode===e)return n[r]}function s(e,t){switch(t||(t={}),t.type){case"structure":return u(e,t);case"map":return function(e,t){var n={},r=t.key.name||"key",i=t.value.name||"value",o=t.flattened?t.name:"entry",u=e.firstElementChild;for(;u;){if(u.nodeName===o){var c=a(u,r).textContent,l=a(u,i);n[c]=s(l,t.value)}u=u.nextElementSibling}return n}(e,t);case"list":return function(e,t){var n=[],r=t.flattened?t.name:t.member.name||"member",i=e.firstElementChild;for(;i;)i.nodeName===r&&n.push(s(i,t.member)),i=i.nextElementSibling;return n}(e,t);case void 0:case null:return function(e){if(null==e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;var t={type:"structure",members:{}},n=e.firstElementChild;for(;n;){var r=n.nodeName;Object.prototype.hasOwnProperty.call(t.members,r)?t.members[r].type="list":t.members[r]={name:r},n=n.nextElementSibling}return u(e,t)}(e);default:return function(e,t){if(e.getAttribute){var n=e.getAttribute("encoding");"base64"===n&&(t=new i.create({type:n}))}var r=e.textContent;""===r&&(r=null);return"function"==typeof t.toType?t.toType(r):r}(e,t)}}function u(e,t){var n={};return null===e?n:(r.each(t.members,function(t,r){if(r.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,r.name)){var i=e.attributes[r.name].value;n[t]=s({textContent:i},r)}}else{var o=r.flattened?e:a(e,r.name);o?n[t]=s(o,r):r.flattened||"list"!==r.type||(n[t]=r.defaultValue)}}),n)}o.prototype.parse=function(e,t){if(""===e.replace(/^\s+/,""))return{};var n,i;try{if(window.DOMParser){try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw r.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===n.documentElement)throw r.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var o=n.getElementsByTagName("parsererror")[0];if(o&&(o.parentNode===n||"body"===o.parentNode.nodeName||o.parentNode.parentNode===n||"body"===o.parentNode.parentNode.nodeName)){var u=o.getElementsByTagName("div")[0]||o;throw r.error(new Error(u.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if((n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML(e))throw r.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){i=e}if(n&&n.documentElement&&!i){var c=s(n.documentElement,t),l=a(n.documentElement,"ResponseMetadata");return l&&(c.ResponseMetadata=s(l,{})),c}if(i)throw r.error(i||new Error,{code:"XMLParserError",retryable:!0});return{}},e.exports=o},function(e,t,n){var r=n(0),i=n(154).EventEmitter;n(51),r.XHRClient=r.util.inherit({handleRequest:function(e,t,n,o){var a=this,s=e.endpoint,u=new i,c=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(c+=":"+s.port),c+=e.path;var l=new XMLHttpRequest,p=!1;e.stream=l,l.addEventListener("readystatechange",function(){try{if(0===l.status)return}catch(e){return}this.readyState>=this.HEADERS_RECEIVED&&!p&&(u.statusCode=l.status,u.headers=a.parseHeaders(l.getAllResponseHeaders()),u.emit("headers",u.statusCode,u.headers,l.statusText),p=!0),this.readyState===this.DONE&&a.finishRequest(l,u)},!1),l.upload.addEventListener("progress",function(e){u.emit("sendProgress",e)}),l.addEventListener("progress",function(e){u.emit("receiveProgress",e)},!1),l.addEventListener("timeout",function(){o(r.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),l.addEventListener("error",function(){o(r.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),l.addEventListener("abort",function(){o(r.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))},!1),n(u),l.open(e.method,c,!1!==t.xhrAsync),r.util.each(e.headers,function(e,t){"Content-Length"!==e&&"User-Agent"!==e&&"Host"!==e&&l.setRequestHeader(e,t)}),t.timeout&&!1!==t.xhrAsync&&(l.timeout=t.timeout),t.xhrWithCredentials&&(l.withCredentials=!0);try{l.responseType="arraybuffer"}catch(e){}try{e.body?l.send(e.body):l.send()}catch(t){if(!e.body||"object"!=typeof e.body.buffer)throw t;l.send(e.body.buffer)}return u},parseHeaders:function(e){var t={};return r.util.arrayEach(e.split(/\r?\n/),function(e){var n=e.split(":",1)[0],r=e.substring(n.length+2);n.length>0&&(t[n.toLowerCase()]=r)}),t},finishRequest:function(e,t){var n;if("arraybuffer"===e.responseType&&e.response){var i=e.response;n=new r.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<n.length;++a)n[a]=o[a]}try{n||"string"!=typeof e.responseText||(n=new r.util.Buffer(e.responseText))}catch(e){}n&&t.emit("data",n),t.emit("end")}}),r.HttpClient.prototype=r.XHRClient.prototype,r.HttpClient.streamsApiVersion=1},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},i=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.level;if(e.LOG_LEVEL&&(o=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(o=window.LOG_LEVEL),r[t]>=r[o]){var a=console.log.bind(console);"ERROR"===t&&console.error&&(a=console.error.bind(console)),"WARN"===t&&console.warn&&(a=console.warn.bind(console));var s="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"==typeof n[0])a(s+" - "+n[0]);else if(1===n.length)a(s,n[0]);else if("string"==typeof n[0]){var u=n.slice(1);1===u.length&&(u=u[0]),a(s+" - "+n[0],u)}else a(s,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["INFO"].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["INFO"].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["WARN"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["ERROR"].concat(e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["DEBUG"].concat(e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,["VERBOSE"].concat(e))},e.LOG_LEVEL=null,e}();t.ConsoleLogger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),i=function(){function e(){}return e.clientInfo=function(){return r.clientInfo()},e.dimension=function(){return r.dimension()},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(6).ConsoleLogger)("ClientDevice_Browser");t.clientInfo=function(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return r.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return r.warn("No navigator object available to get browser client info"),{};var t,n=e.platform,i=e.product,o=e.vendor,a=e.userAgent,s=e.language,u=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var i=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var a=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return a?{type:a[1],version:a[2]}:{type:"",version:""}}(a),c=(t=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()))&&t[1]||"";return{platform:n,make:i||o,model:u.type,version:u.version,appVersion:[u.type,u.version].join("/"),language:s,timezone:c}}()},t.dimension=function(){return"undefined"==typeof window?(r.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missingConfig=function(e){return new Error("Missing config value of "+e)},t.invalidParameter=function(e){return new Error("Invalid parameter value of "+e)}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=new(n(6).ConsoleLogger)("Hub"),o="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var a=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find(function(t){return t.pattern.source===e.source});if(!n)return void i.warn("No listeners for "+e);this.patterns=this.patterns.filter(function(e){return e!==n}).slice()}else{var r=this.listeners[e];if(!r)return void i.warn("No listeners for "+e);this.listeners[e]=r.filter(function(e){return e.callback!==t}).slice()}},e.prototype.dispatch=function(e,t,n,a){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(a===o||i.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var s={channel:e,payload:r({},t),source:n,patternInfo:[]};try{this._toListeners(s)}catch(e){i.error(e)}},e.prototype.listen=function(e,t,n){var r;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))i.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,o=this.listeners[t];if(o&&o.forEach(function(r){i.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){i.error(e)}}),this.patterns.length>0){if(!n.message)return void i.warn("Cannot perform pattern matching without a message key");var a=n.message;this.patterns.forEach(function(t){var n=a.match(t.pattern);if(n){var o=n.slice(1),s=r({},e,{patternInfo:o});try{t.callback(s)}catch(e){i.error(e)}}})}},e}();t.HubClass=a;var s=new a("__default__");t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(161),i=n(6),o=n(22),a=new i.ConsoleLogger("I18n"),s=null,u=null,c=function(){function e(){}return e.configure=function(t){return a.debug("configure I18n"),t?(s=Object.assign({},s,t.I18n||t),e.createInstance(),s):s},e.getModuleName=function(){return"I18n"},e.createInstance=function(){a.debug("create I18n instance"),u||(u=new r.I18n(s))},e.setLanguage=function(t){return e.checkConfig(),u.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?u.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),u.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),u.putVocabularies(t)},e.checkConfig=function(){return u||(u=new r.I18n(s)),!0},e}();o.default.register(c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(6).ConsoleLogger)("I18n"),i=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),r.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map(function(n){t.putVocabulariesForLanguage(n,e[n])})},e}();t.I18n=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(18),s=new o.ConsoleLogger("Signer"),u=n(17),c=a.AWS.util.crypto,l=function(e,t,n){return c.lib.createHmac("sha256",e).update(t,"utf8").digest(n)},p=function(e){var t=e||"";return c.createHash("sha256").update(t,"utf8").digest("hex")},d=function(e){return Object.keys(e).map(function(e){return e.toLowerCase()}).sort().join(";")},f=function(e){var t,n,r=u.parse(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map(function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()});return t[0]+"="+n}).sort(function(e,t){return e<t?-1:1}).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map(function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}}).sort(function(e,t){return e.key<t.key?-1:1}).map(function(e){return e.key+":"+e.value}).join("\n")+"\n":""),d(e.headers),p(e.data)].join("\n")},h=function(e){var t=(u.parse(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},m=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},y=function(e,t,n,r){return[e,n,r,p(t)].join("\n")},g=function(e,t,n){s.debug(n);var r=l("AWS4"+e,t),i=l(r,n.region),o=l(i,n.service);return l(o,"aws4_request")},v=function(e,t){return l(e,t,"hex")},b=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=(new Date).toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=u.parse(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=f(e);s.debug(a);var c=n||h(e),l=m(i,c.region,c.service),p=y("AWS4-HMAC-SHA256",a,r,l),b=g(t.secret_key,i,c),S=v(b,p),_=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}("AWS4-HMAC-SHA256",t.access_key,l,d(e.headers),S);return e.headers.Authorization=_,e},S=function(e,t,n,o){var a=(new Date).toISOString().replace(/[:\-]|\.\d{3}/g,""),s=a.substr(0,8),c=u.parse(e,!0,!0),l=(c.search,i(c,["search"])),p={host:l.host},d=n||h({url:u.format(l)}),b=d.region,S=d.service,_=m(s,b,S),E=t.session_token&&"iotdevicegateway"!==S,w=r({"X-Amz-Algorithm":"AWS4-HMAC-SHA256","X-Amz-Credential":[t.access_key,_].join("/"),"X-Amz-Date":a.substr(0,16)},E?{"X-Amz-Security-Token":""+t.session_token}:{},o?{"X-Amz-Expires":""+o}:{},{"X-Amz-SignedHeaders":Object.keys(p).join(",")}),I=f({method:"GET",url:u.format(r({},l,{query:r({},l.query,w)})),headers:p}),T=y("AWS4-HMAC-SHA256",I,a,_),C=g(t.secret_key,s,{region:b,service:S}),N=v(C,T),A=r({"X-Amz-Signature":N},t.session_token&&{"X-Amz-Security-Token":t.session_token});return u.format({protocol:l.protocol,slashes:!0,hostname:l.hostname,pathname:l.pathname,query:r({},l.query,w,A)})},_=function(){function e(){}return e.sign=b,e.signUrl=S,e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(6).ConsoleLogger)("Parser"),i=function(){function e(){}return e.parseMobilehubConfig=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var i={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=i}if(e.aws_cognito_identity_pool_id||e.aws_user_pools_id){var o={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,mandatorySignIn:"enable"===e.aws_mandatory_sign_in};n.Auth=o}return t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region}}:e?e.Storage||e:{},n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),r.debug("parse config",e,"to amplifyconfig",n),n},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(14),s=new o.ConsoleLogger("CognitoCredentials"),u=new Promise(function(e,t){return a.default.browserOrNode().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(s.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(s.debug("not in the browser, directly resolved"),e())}),c=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(s.debug("need to wait for the Google SDK loaded"),[4,u]);case 1:e.sent(),this.initialized=!0,s.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return a.default.browserOrNode().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise(function(t,n){e.getAuthInstance().then(function(e){e||(console.log("google Auth undefiend"),n("google Auth undefiend"));var r=e.currentUser.get();r.isSignedIn()?(s.debug("refreshing the google access token"),r.reloadAuthResponse().then(function(e){var n=e.id_token,i=e.expires_at,o=r.getBasicProfile();o.getEmail(),o.getName();t({token:n,expires_at:i})})):n("User is not signed in with Google")}).catch(function(e){s.debug("Failed to refresh google token",e),n("Failed to refresh google token")})}):(s.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(14),s=new o.ConsoleLogger("CognitoCredentials"),u=new Promise(function(e,t){return a.default.browserOrNode().isBrowser?window.FB?(s.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(s.debug("not in the browser, directly resolved"),e())}),c=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(s.debug("need to wait for the Facebook SDK loaded"),[4,u]);case 1:e.sent(),this.initialized=!0,s.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var e=null;return a.default.browserOrNode().isBrowser&&(e=window.FB),e?new Promise(function(t,n){e.getLoginStatus(function(e){e&&e.authResponse||(s.debug("no response from facebook when refreshing the jwt token"),n("no response from facebook when refreshing the jwt token"));var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();i||(s.debug("the jwtToken is undefined"),n("the jwtToken is undefined")),t({token:i,expires_at:o})},{scope:"public_profile,email"})}):(s.debug("no fb sdk available"),Promise.reject("no fb sdk available"))},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(31);t.Linking={};t.AppState={addEventListener:function(e,t){}};var o=r.default.browserOrNode().isBrowser?(new i.default).getStorage():void 0;t.AsyncStorage=o},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=n(31),u=n(18),c=n(14),l=n(58),p=n(22),d=new a.ConsoleLogger("Credentials"),f=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.configure(e),this._refreshHandlers.google=l.GoogleOAuth.refreshGoogleToken,this._refreshHandlers.facebook=l.FacebookOAuth.refreshFacebookToken}return e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=r({},this._refreshHandlers,t)),this._storage=this._config.storage,this._storage||(this._storage=(new s.default).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return d.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return d.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?d.debug("getting old cred promise"):(d.debug("getting new cred promise"),u.AWS.config&&u.AWS.config.credentials&&u.AWS.config.credentials instanceof u.AWS.Credentials?this._gettingCredPromise=c.default.makeQuerablePromise(this._setCredentialsFromAWS()):this._gettingCredPromise=c.default.makeQuerablePromise(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){d.debug("checking if credentials exists and not expired");var e=this._credentials;return e&&!this._isExpired(e)?(d.debug("credentials not changed and not expired, directly return"),Promise.resolve(e)):(d.debug("need to get a new credential or refresh the existing one"),p.default.Auth&&"function"==typeof p.default.Auth.currentUserCredentials?p.default.Auth.currentUserCredentials():Promise.reject("No Auth module registered in Amplify"))},e.prototype.refreshFederatedToken=function(e){var t=this;d.debug("Getting federated credentials");var n=e.provider,r=e.user,i=e.token,o=e.expires_at,a=e.identity_id,s=this;return d.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(d.debug("token not expired"),this._setCredentialsFromFederation({provider:n,token:i,user:r,identity_id:a,expires_at:o})):s._refreshHandlers[n]&&"function"==typeof s._refreshHandlers[n]?(d.debug("getting refreshed jwt token from federation provider"),s._refreshHandlers[n]().then(function(e){return d.debug("refresh federated token sucessfully",e),i=e.token,a=e.identity_id,o=e.expires_at,s._setCredentialsFromFederation({provider:n,token:i,user:r,identity_id:a,expires_at:o})}).catch(function(e){return d.debug("refresh federated token failed",e),t.clear(),Promise.reject("refreshing federation token failed: "+e)})):(d.debug("no refresh handler for provider:",n),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._isExpired=function(e){if(!e)return d.debug("no credentials for expiration check"),!0;d.debug("is this credentials expired?",e);var t=(new Date).getTime(),n=e.expired,r=e.expireTime;return!(!n&&r>t+6e5)},e.prototype._setCredentialsForGuest=function(){return i(this,void 0,void 0,function(){var e,t,n,r,a,s,c,l=this;return o(this,function(p){switch(p.label){case 0:if(e=!1,d.debug("setting credentials for guest"),t=this._config,n=t.identityPoolId,r=t.region,t.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!n)return d.debug("No Cognito Federated Identity pool provided"),[2,Promise.reject("No Cognito Federated Identity pool provided")];a=void 0,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this._storageSync];case 2:return p.sent(),a=this._storage.getItem("CognitoIdentityId-"+n),[3,4];case 3:return s=p.sent(),d.debug("Failed to get the cached identityId",s),[3,4];case 4:return c=new u.AWS.CognitoIdentityCredentials({IdentityPoolId:n,IdentityId:a||void 0},{region:r}),this,[2,this._loadCredentials(c,"guest",!1,null).then(function(e){return e}).catch(function(t){return i(l,void 0,void 0,function(){var i;return o(this,function(o){return"ResourceNotFoundException"!==t.code||t.message!=="Identity '"+a+"' not found."||e?[2,t]:(e=!0,d.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+n),c.clearCachedId(),i=new u.AWS.CognitoIdentityCredentials({IdentityPoolId:n,IdentityId:void 0},{region:r}),[2,this._loadCredentials(i,"guest",!1,null)])})})})]}})})},e.prototype._setCredentialsFromAWS=function(){var e=u.AWS.config.credentials;d.debug("setting credentials from aws");return e instanceof u.AWS.Credentials?Promise.resolve(e):(d.debug("AWS.config.credentials is not an instance of AWS Credentials"),Promise.reject("AWS.config.credentials is not an instance of AWS Credentials"))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i=(e.user,e.expires_at,{google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t);if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,c=a.region;if(!s)return d.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");var l=new u.AWS.CognitoIdentityCredentials({IdentityPoolId:s,IdentityId:r,Logins:o},{region:c});return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){d.debug("set credentials from session");var t=e.getIdToken().getJwtToken(),n=this._config,r=n.region,i=n.userPoolId,o=n.identityPoolId;if(!o)return d.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");var a={};a["cognito-idp."+r+".amazonaws.com/"+i]=t;var s=new u.AWS.CognitoIdentityCredentials({IdentityPoolId:o,Logins:a},{region:r});return this._loadCredentials(s,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var a=this,s=this,u=this._config.identityPoolId;return new Promise(function(c,l){e.get(function(f){return i(a,void 0,void 0,function(){var i,a,h,m,y,g;return o(this,function(o){switch(o.label){case 0:if(f)return d.debug("Failed to load credentials",e),l(f),[2];if(d.debug("Load credentials successfully",e),s._credentials=e,s._credentials.authenticated=n,s._credentials_source=t,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,h=r.token,m=r.expires_at,y=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:h,user:i,expires_at:m,identity_id:y}))}catch(e){d.debug("Failed to put federated info into auth storage",e)}p.default.Cache&&"function"==typeof p.default.Cache.setItem?p.default.Cache.setItem("federatedInfo",{provider:a,token:h,user:i,expires_at:m,identity_id:y},{priority:1}):d.debug("No Cache module registered in Amplify")}if("guest"!==t)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),this._storage.setItem("CognitoIdentityId-"+u,e.identityId),[3,4];case 3:return g=o.sent(),d.debug("Failed to cache identityId",g),[3,4];case 4:return c(s._credentials),[2]}})})})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(d.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return i(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return e=this._config,t=e.identityPoolId,n=e.region,t&&new u.AWS.CognitoIdentityCredentials({IdentityPoolId:t},{region:n}).clearCachedId(),this._credentials=null,this._credentials_source=null,this._storage.removeItem("aws-amplify-federatedInfo"),p.default.Cache&&"function"==typeof p.default.Cache.setItem?[4,p.default.Cache.removeItem("federatedInfo")]:[3,2];case 1:return r.sent(),[3,3];case 2:d.debug("No Cache module registered in Amplify"),r.label=3;case 3:return[2]}})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}();t.Credentials=f;var h=new f(null);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169);t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(14),o=n(22),a=function(){function e(){this._logger=new r.ConsoleLogger("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise(function(r,i){if(!(navigator&&"serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then(function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)}).catch(function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)})})},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise(function(n,r){if(!i.default.browserOrNode().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then(function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then(function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)}).catch(function(e){t._logger.error(e)});t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)})})},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),o.default.Analytics&&"function"==typeof o.default.Analytics.record&&o.default.Analytics.record({name:"ServiceWorker",attributes:{state:n}})}),this._serviceWorker.addEventListener("message",function(t){e._logger.debug("ServiceWorker message event: "+t)})},e}();t.default=a},function(e){e.exports={_args:[["@aws-amplify/core@1.0.27","C:\\Projects\\Perso\\football-championship\\src\\Aguacongas.FootballChampionship.Services"]],_from:"@aws-amplify/core@1.0.27",_id:"@aws-amplify/core@1.0.27",_inBundle:!1,_integrity:"sha512-PQCmo3ECmF+4IfipNdLKKZ1QTRzXpkRsvma+HHKNlGQOxaFbHVQNF4gC0m8m0xNzgxhb31yLs4Q9zZPSTO3sbw==",_location:"/@aws-amplify/core",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"@aws-amplify/core@1.0.27",name:"@aws-amplify/core",escapedName:"@aws-amplify%2fcore",scope:"@aws-amplify",rawSpec:"1.0.27",saveSpec:null,fetchSpec:"1.0.27"},_requiredBy:["/@aws-amplify/analytics","/@aws-amplify/api","/@aws-amplify/auth","/@aws-amplify/cache","/@aws-amplify/interactions","/@aws-amplify/pubsub","/@aws-amplify/storage","/@aws-amplify/xr","/aws-amplify"],_resolved:"https://registry.npmjs.org/@aws-amplify/core/-/core-1.0.27.tgz",_spec:"1.0.27",_where:"C:\\Projects\\Perso\\football-championship\\src\\Aguacongas.FootballChampionship.Services",author:{name:"Amazon Web Services"},bugs:{url:"https://github.com/aws/aws-amplify/issues"},dependencies:{"aws-sdk":"2.329.0",url:"^0.11.0"},description:"Core category of aws-amplify",devDependencies:{"@types/jest":"^20.0.8","@types/node":"^8.10.15","awesome-typescript-loader":"^3.2.2","babel-loader":"^7.1.2","babel-preset-es2015":"^6.24.1","babel-preset-react":"^6.24.1","babel-preset-stage-2":"^6.24.1","compression-webpack-plugin":"^1.1.3",find:"^0.2.7",jest:"^22.4.3","json-loader":"^0.5.7","prepend-file":"^1.3.1",prettier:"^1.7.4",rimraf:"^2.6.2","source-map-loader":"^0.2.1","ts-jest":"^22.0.0",tslint:"^5.7.0","tslint-config-airbnb":"^5.8.0","typescript-formatter":"^6.0.0","uglifyjs-webpack-plugin":"^0.4.6",webpack:"^3.5.5"},homepage:"https://github.com/aws/aws-amplify#readme",jest:{transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>../../node_modules/ts-jest/preprocessor.js"},testRegex:"(/__tests__/.*|\\.(test|spec))\\.(tsx?|jsx?)$",moduleFileExtensions:["ts","tsx","js","json","jsx"],testEnvironment:"jsdom",mapCoverage:!0,coverageThreshold:{global:{branches:0,functions:0,lines:0,statements:0}},testURL:"http://localhost/",coveragePathIgnorePatterns:["/node_modules/"]},license:"Apache-2.0",main:"./lib/index.js",module:"./lib/index.js",name:"@aws-amplify/core",publishConfig:{access:"public"},"react-native":{"./lib/ClientDevice":"./lib/ClientDevice/reactnative.js","./lib/RNComponents":"./lib/RNComponents/reactnative.js","./lib/StorageHelper":"./lib/StorageHelper/reactnative.js"},repository:{type:"git",url:"git+https://github.com/aws/aws-amplify.git"},scripts:{build:"npm run clean && tsc && webpack","build-with-test":"npm run clean && npm test && tsc && webpack",clean:"rimraf lib lib-esm dist",format:"tsfmt --useTsfmt tsfmt.json -r src/**/*.ts",lint:"tslint 'src/**/*.ts'",test:"tslint 'src/**/*.ts' && jest --coverage"},typings:"./lib/index.d.ts",version:"1.0.27"}},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.mobileanalytics={},r.MobileAnalytics=i.defineService("mobileanalytics",["2014-06-05"]),Object.defineProperty(o.services.mobileanalytics,"2014-06-05",{get:function(){return n(172)},enumerable:!0,configurable:!0}),e.exports=r.MobileAnalytics},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2014-06-05",endpointPrefix:"mobileanalytics",serviceFullName:"Amazon Mobile Analytics",serviceId:"Mobile Analytics",signatureVersion:"v4",protocol:"rest-json"},operations:{PutEvents:{http:{requestUri:"/2014-06-05/events",responseCode:202},input:{type:"structure",required:["events","clientContext"],members:{events:{type:"list",member:{type:"structure",required:["eventType","timestamp"],members:{eventType:{},timestamp:{},session:{type:"structure",members:{id:{},duration:{type:"long"},startTimestamp:{},stopTimestamp:{}}},version:{},attributes:{type:"map",key:{},value:{}},metrics:{type:"map",key:{},value:{type:"double"}}}}},clientContext:{location:"header",locationName:"x-amz-Client-Context"},clientContextEncoding:{location:"header",locationName:"x-amz-Client-Context-Encoding"}}}}},shapes:{}}},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.pinpoint={},r.Pinpoint=i.defineService("pinpoint",["2016-12-01"]),Object.defineProperty(o.services.pinpoint,"2016-12-01",{get:function(){return n(174)},enumerable:!0,configurable:!0}),e.exports=r.Pinpoint},function(e){e.exports={metadata:{apiVersion:"2016-12-01",endpointPrefix:"pinpoint",signingName:"mobiletargeting",serviceFullName:"Amazon Pinpoint",serviceId:"Pinpoint",protocol:"rest-json",jsonVersion:"1.1",uid:"pinpoint-2016-12-01",signatureVersion:"v4"},operations:{CreateApp:{http:{requestUri:"/v1/apps",responseCode:201},input:{type:"structure",members:{CreateApplicationRequest:{type:"structure",members:{Name:{}},required:[]}},required:["CreateApplicationRequest"],payload:"CreateApplicationRequest"},output:{type:"structure",members:{ApplicationResponse:{shape:"S5"}},required:["ApplicationResponse"],payload:"ApplicationResponse"}},CreateCampaign:{http:{requestUri:"/v1/apps/{application-id}/campaigns",responseCode:201},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},WriteCampaignRequest:{shape:"S7"}},required:["ApplicationId","WriteCampaignRequest"],payload:"WriteCampaignRequest"},output:{type:"structure",members:{CampaignResponse:{shape:"Sp"}},required:["CampaignResponse"],payload:"CampaignResponse"}},CreateExportJob:{http:{requestUri:"/v1/apps/{application-id}/jobs/export",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},ExportJobRequest:{type:"structure",members:{RoleArn:{},S3UrlPrefix:{},SegmentId:{},SegmentVersion:{type:"integer"}},required:[]}},required:["ApplicationId","ExportJobRequest"],payload:"ExportJobRequest"},output:{type:"structure",members:{ExportJobResponse:{shape:"Sx"}},required:["ExportJobResponse"],payload:"ExportJobResponse"}},CreateImportJob:{http:{requestUri:"/v1/apps/{application-id}/jobs/import",responseCode:201},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},ImportJobRequest:{type:"structure",members:{DefineSegment:{type:"boolean"},ExternalId:{},Format:{},RegisterEndpoints:{type:"boolean"},RoleArn:{},S3Url:{},SegmentId:{},SegmentName:{}},required:[]}},required:["ApplicationId","ImportJobRequest"],payload:"ImportJobRequest"},output:{type:"structure",members:{ImportJobResponse:{shape:"S15"}},required:["ImportJobResponse"],payload:"ImportJobResponse"}},CreateSegment:{http:{requestUri:"/v1/apps/{application-id}/segments",responseCode:201},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},WriteSegmentRequest:{shape:"S18"}},required:["ApplicationId","WriteSegmentRequest"],payload:"WriteSegmentRequest"},output:{type:"structure",members:{SegmentResponse:{shape:"S20"}},required:["SegmentResponse"],payload:"SegmentResponse"}},DeleteAdmChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/adm",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ADMChannelResponse:{shape:"S26"}},required:["ADMChannelResponse"],payload:"ADMChannelResponse"}},DeleteApnsChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/apns",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSChannelResponse:{shape:"S29"}},required:["APNSChannelResponse"],payload:"APNSChannelResponse"}},DeleteApnsSandboxChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/apns_sandbox",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSSandboxChannelResponse:{shape:"S2c"}},required:["APNSSandboxChannelResponse"],payload:"APNSSandboxChannelResponse"}},DeleteApnsVoipChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/apns_voip",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSVoipChannelResponse:{shape:"S2f"}},required:["APNSVoipChannelResponse"],payload:"APNSVoipChannelResponse"}},DeleteApnsVoipSandboxChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/apns_voip_sandbox",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSVoipSandboxChannelResponse:{shape:"S2i"}},required:["APNSVoipSandboxChannelResponse"],payload:"APNSVoipSandboxChannelResponse"}},DeleteApp:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ApplicationResponse:{shape:"S5"}},required:["ApplicationResponse"],payload:"ApplicationResponse"}},DeleteBaiduChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/baidu",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{BaiduChannelResponse:{shape:"S2n"}},required:["BaiduChannelResponse"],payload:"BaiduChannelResponse"}},DeleteCampaign:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"}},required:["CampaignId","ApplicationId"]},output:{type:"structure",members:{CampaignResponse:{shape:"Sp"}},required:["CampaignResponse"],payload:"CampaignResponse"}},DeleteEmailChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/email",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{EmailChannelResponse:{shape:"S2s"}},required:["EmailChannelResponse"],payload:"EmailChannelResponse"}},DeleteEndpoint:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/endpoints/{endpoint-id}",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EndpointId:{location:"uri",locationName:"endpoint-id"}},required:["ApplicationId","EndpointId"]},output:{type:"structure",members:{EndpointResponse:{shape:"S2v"}},required:["EndpointResponse"],payload:"EndpointResponse"}},DeleteEventStream:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/eventstream",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{EventStream:{shape:"S34"}},required:["EventStream"],payload:"EventStream"}},DeleteGcmChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/gcm",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{GCMChannelResponse:{shape:"S37"}},required:["GCMChannelResponse"],payload:"GCMChannelResponse"}},DeleteSegment:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/segments/{segment-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SegmentId:{location:"uri",locationName:"segment-id"}},required:["SegmentId","ApplicationId"]},output:{type:"structure",members:{SegmentResponse:{shape:"S20"}},required:["SegmentResponse"],payload:"SegmentResponse"}},DeleteSmsChannel:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/channels/sms",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{SMSChannelResponse:{shape:"S3c"}},required:["SMSChannelResponse"],payload:"SMSChannelResponse"}},DeleteUserEndpoints:{http:{method:"DELETE",requestUri:"/v1/apps/{application-id}/users/{user-id}",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},UserId:{location:"uri",locationName:"user-id"}},required:["ApplicationId","UserId"]},output:{type:"structure",members:{EndpointsResponse:{shape:"S3f"}},required:["EndpointsResponse"],payload:"EndpointsResponse"}},GetAdmChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/adm",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ADMChannelResponse:{shape:"S26"}},required:["ADMChannelResponse"],payload:"ADMChannelResponse"}},GetApnsChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/apns",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSChannelResponse:{shape:"S29"}},required:["APNSChannelResponse"],payload:"APNSChannelResponse"}},GetApnsSandboxChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/apns_sandbox",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSSandboxChannelResponse:{shape:"S2c"}},required:["APNSSandboxChannelResponse"],payload:"APNSSandboxChannelResponse"}},GetApnsVoipChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/apns_voip",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSVoipChannelResponse:{shape:"S2f"}},required:["APNSVoipChannelResponse"],payload:"APNSVoipChannelResponse"}},GetApnsVoipSandboxChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/apns_voip_sandbox",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{APNSVoipSandboxChannelResponse:{shape:"S2i"}},required:["APNSVoipSandboxChannelResponse"],payload:"APNSVoipSandboxChannelResponse"}},GetApp:{http:{method:"GET",requestUri:"/v1/apps/{application-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ApplicationResponse:{shape:"S5"}},required:["ApplicationResponse"],payload:"ApplicationResponse"}},GetApplicationSettings:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/settings",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ApplicationSettingsResource:{shape:"S3v"}},required:["ApplicationSettingsResource"],payload:"ApplicationSettingsResource"}},GetApps:{http:{method:"GET",requestUri:"/v1/apps",responseCode:200},input:{type:"structure",members:{PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}}},output:{type:"structure",members:{ApplicationsResponse:{type:"structure",members:{Item:{type:"list",member:{shape:"S5"}},NextToken:{}}}},required:["ApplicationsResponse"],payload:"ApplicationsResponse"}},GetBaiduChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/baidu",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{BaiduChannelResponse:{shape:"S2n"}},required:["BaiduChannelResponse"],payload:"BaiduChannelResponse"}},GetCampaign:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"}},required:["CampaignId","ApplicationId"]},output:{type:"structure",members:{CampaignResponse:{shape:"Sp"}},required:["CampaignResponse"],payload:"CampaignResponse"}},GetCampaignActivities:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}/activities",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId","CampaignId"]},output:{type:"structure",members:{ActivitiesResponse:{type:"structure",members:{Item:{type:"list",member:{type:"structure",members:{ApplicationId:{},CampaignId:{},End:{},Id:{},Result:{},ScheduledStart:{},Start:{},State:{},SuccessfulEndpointCount:{type:"integer"},TimezonesCompletedCount:{type:"integer"},TimezonesTotalCount:{type:"integer"},TotalEndpointCount:{type:"integer"},TreatmentId:{}},required:[]}},NextToken:{}},required:[]}},required:["ActivitiesResponse"],payload:"ActivitiesResponse"}},GetCampaignVersion:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}/versions/{version}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"},Version:{location:"uri",locationName:"version"}},required:["Version","ApplicationId","CampaignId"]},output:{type:"structure",members:{CampaignResponse:{shape:"Sp"}},required:["CampaignResponse"],payload:"CampaignResponse"}},GetCampaignVersions:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}/versions",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId","CampaignId"]},output:{type:"structure",members:{CampaignsResponse:{shape:"S4d"}},required:["CampaignsResponse"],payload:"CampaignsResponse"}},GetCampaigns:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/campaigns",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId"]},output:{type:"structure",members:{CampaignsResponse:{shape:"S4d"}},required:["CampaignsResponse"],payload:"CampaignsResponse"}},GetChannels:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{ChannelsResponse:{type:"structure",members:{Channels:{type:"map",key:{},value:{type:"structure",members:{ApplicationId:{},CreationDate:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Version:{type:"integer"}}}}},required:[]}},required:["ChannelsResponse"],payload:"ChannelsResponse"}},GetEmailChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/email",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{EmailChannelResponse:{shape:"S2s"}},required:["EmailChannelResponse"],payload:"EmailChannelResponse"}},GetEndpoint:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/endpoints/{endpoint-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EndpointId:{location:"uri",locationName:"endpoint-id"}},required:["ApplicationId","EndpointId"]},output:{type:"structure",members:{EndpointResponse:{shape:"S2v"}},required:["EndpointResponse"],payload:"EndpointResponse"}},GetEventStream:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/eventstream",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{EventStream:{shape:"S34"}},required:["EventStream"],payload:"EventStream"}},GetExportJob:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/jobs/export/{job-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},JobId:{location:"uri",locationName:"job-id"}},required:["ApplicationId","JobId"]},output:{type:"structure",members:{ExportJobResponse:{shape:"Sx"}},required:["ExportJobResponse"],payload:"ExportJobResponse"}},GetExportJobs:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/jobs/export",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId"]},output:{type:"structure",members:{ExportJobsResponse:{shape:"S4w"}},required:["ExportJobsResponse"],payload:"ExportJobsResponse"}},GetGcmChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/gcm",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{GCMChannelResponse:{shape:"S37"}},required:["GCMChannelResponse"],payload:"GCMChannelResponse"}},GetImportJob:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/jobs/import/{job-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},JobId:{location:"uri",locationName:"job-id"}},required:["ApplicationId","JobId"]},output:{type:"structure",members:{ImportJobResponse:{shape:"S15"}},required:["ImportJobResponse"],payload:"ImportJobResponse"}},GetImportJobs:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/jobs/import",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId"]},output:{type:"structure",members:{ImportJobsResponse:{shape:"S54"}},required:["ImportJobsResponse"],payload:"ImportJobsResponse"}},GetSegment:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments/{segment-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SegmentId:{location:"uri",locationName:"segment-id"}},required:["SegmentId","ApplicationId"]},output:{type:"structure",members:{SegmentResponse:{shape:"S20"}},required:["SegmentResponse"],payload:"SegmentResponse"}},GetSegmentExportJobs:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments/{segment-id}/jobs/export",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},SegmentId:{location:"uri",locationName:"segment-id"},Token:{location:"querystring",locationName:"token"}},required:["SegmentId","ApplicationId"]},output:{type:"structure",members:{ExportJobsResponse:{shape:"S4w"}},required:["ExportJobsResponse"],payload:"ExportJobsResponse"}},GetSegmentImportJobs:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments/{segment-id}/jobs/import",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},SegmentId:{location:"uri",locationName:"segment-id"},Token:{location:"querystring",locationName:"token"}},required:["SegmentId","ApplicationId"]},output:{type:"structure",members:{ImportJobsResponse:{shape:"S54"}},required:["ImportJobsResponse"],payload:"ImportJobsResponse"}},GetSegmentVersion:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments/{segment-id}/versions/{version}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SegmentId:{location:"uri",locationName:"segment-id"},Version:{location:"uri",locationName:"version"}},required:["SegmentId","Version","ApplicationId"]},output:{type:"structure",members:{SegmentResponse:{shape:"S20"}},required:["SegmentResponse"],payload:"SegmentResponse"}},GetSegmentVersions:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments/{segment-id}/versions",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},SegmentId:{location:"uri",locationName:"segment-id"},Token:{location:"querystring",locationName:"token"}},required:["SegmentId","ApplicationId"]},output:{type:"structure",members:{SegmentsResponse:{shape:"S5g"}},required:["SegmentsResponse"],payload:"SegmentsResponse"}},GetSegments:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/segments",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},PageSize:{location:"querystring",locationName:"page-size"},Token:{location:"querystring",locationName:"token"}},required:["ApplicationId"]},output:{type:"structure",members:{SegmentsResponse:{shape:"S5g"}},required:["SegmentsResponse"],payload:"SegmentsResponse"}},GetSmsChannel:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/channels/sms",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId"]},output:{type:"structure",members:{SMSChannelResponse:{shape:"S3c"}},required:["SMSChannelResponse"],payload:"SMSChannelResponse"}},GetUserEndpoints:{http:{method:"GET",requestUri:"/v1/apps/{application-id}/users/{user-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},UserId:{location:"uri",locationName:"user-id"}},required:["ApplicationId","UserId"]},output:{type:"structure",members:{EndpointsResponse:{shape:"S3f"}},required:["EndpointsResponse"],payload:"EndpointsResponse"}},PhoneNumberValidate:{http:{requestUri:"/v1/phone/number/validate",responseCode:200},input:{type:"structure",members:{NumberValidateRequest:{type:"structure",members:{IsoCountryCode:{},PhoneNumber:{}}}},required:["NumberValidateRequest"],payload:"NumberValidateRequest"},output:{type:"structure",members:{NumberValidateResponse:{type:"structure",members:{Carrier:{},City:{},CleansedPhoneNumberE164:{},CleansedPhoneNumberNational:{},Country:{},CountryCodeIso2:{},CountryCodeNumeric:{},County:{},OriginalCountryCodeIso2:{},OriginalPhoneNumber:{},PhoneType:{},PhoneTypeCode:{type:"integer"},Timezone:{},ZipCode:{}}}},required:["NumberValidateResponse"],payload:"NumberValidateResponse"}},PutEventStream:{http:{requestUri:"/v1/apps/{application-id}/eventstream",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},WriteEventStream:{type:"structure",members:{DestinationStreamArn:{},RoleArn:{}},required:[]}},required:["ApplicationId","WriteEventStream"],payload:"WriteEventStream"},output:{type:"structure",members:{EventStream:{shape:"S34"}},required:["EventStream"],payload:"EventStream"}},PutEvents:{http:{requestUri:"/v1/apps/{application-id}/events",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EventsRequest:{type:"structure",members:{BatchItem:{type:"map",key:{},value:{type:"structure",members:{Endpoint:{type:"structure",members:{Address:{},Attributes:{shape:"S2w"},ChannelType:{},Demographic:{shape:"S2y"},EffectiveDate:{},EndpointStatus:{},Location:{shape:"S2z"},Metrics:{shape:"S30"},OptOut:{},RequestId:{},User:{shape:"S31"}}},Events:{type:"map",key:{},value:{type:"structure",members:{Attributes:{shape:"S62"},ClientSdkVersion:{},EventType:{},Metrics:{shape:"S30"},Session:{type:"structure",members:{Duration:{type:"integer"},Id:{},StartTimestamp:{},StopTimestamp:{}},required:[]},Timestamp:{}},required:[]}}},required:[]}}},required:[]}},required:["ApplicationId","EventsRequest"],payload:"EventsRequest"},output:{type:"structure",members:{EventsResponse:{type:"structure",members:{Results:{type:"map",key:{},value:{type:"structure",members:{EndpointItemResponse:{type:"structure",members:{Message:{},StatusCode:{type:"integer"}}},EventsItemResponse:{type:"map",key:{},value:{type:"structure",members:{Message:{},StatusCode:{type:"integer"}}}}}}}}}},required:["EventsResponse"],payload:"EventsResponse"}},RemoveAttributes:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/attributes/{attribute-type}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},AttributeType:{location:"uri",locationName:"attribute-type"},UpdateAttributesRequest:{type:"structure",members:{Blacklist:{shape:"Sz"}}}},required:["AttributeType","ApplicationId","UpdateAttributesRequest"],payload:"UpdateAttributesRequest"},output:{type:"structure",members:{AttributesResource:{type:"structure",members:{ApplicationId:{},AttributeType:{},Attributes:{shape:"Sz"}},required:[]}},required:["AttributesResource"],payload:"AttributesResource"}},SendMessages:{http:{requestUri:"/v1/apps/{application-id}/messages",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},MessageRequest:{type:"structure",members:{Addresses:{type:"map",key:{},value:{type:"structure",members:{BodyOverride:{},ChannelType:{},Context:{shape:"S62"},RawContent:{},Substitutions:{shape:"S2w"},TitleOverride:{}}}},Context:{shape:"S62"},Endpoints:{shape:"S6j"},MessageConfiguration:{shape:"S6l"},TraceId:{}},required:[]}},required:["ApplicationId","MessageRequest"],payload:"MessageRequest"},output:{type:"structure",members:{MessageResponse:{type:"structure",members:{ApplicationId:{},EndpointResult:{shape:"S6v"},RequestId:{},Result:{type:"map",key:{},value:{type:"structure",members:{DeliveryStatus:{},MessageId:{},StatusCode:{type:"integer"},StatusMessage:{},UpdatedToken:{}},required:[]}}},required:[]}},required:["MessageResponse"],payload:"MessageResponse"}},SendUsersMessages:{http:{requestUri:"/v1/apps/{application-id}/users-messages",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SendUsersMessageRequest:{type:"structure",members:{Context:{shape:"S62"},MessageConfiguration:{shape:"S6l"},TraceId:{},Users:{shape:"S6j"}},required:[]}},required:["ApplicationId","SendUsersMessageRequest"],payload:"SendUsersMessageRequest"},output:{type:"structure",members:{SendUsersMessageResponse:{type:"structure",members:{ApplicationId:{},RequestId:{},Result:{type:"map",key:{},value:{shape:"S6v"}}},required:[]}},required:["SendUsersMessageResponse"],payload:"SendUsersMessageResponse"}},UpdateAdmChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/adm",responseCode:200},input:{type:"structure",members:{ADMChannelRequest:{type:"structure",members:{ClientId:{},ClientSecret:{},Enabled:{type:"boolean"}},required:[]},ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId","ADMChannelRequest"],payload:"ADMChannelRequest"},output:{type:"structure",members:{ADMChannelResponse:{shape:"S26"}},required:["ADMChannelResponse"],payload:"ADMChannelResponse"}},UpdateApnsChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/apns",responseCode:200},input:{type:"structure",members:{APNSChannelRequest:{type:"structure",members:{BundleId:{},Certificate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},PrivateKey:{},TeamId:{},TokenKey:{},TokenKeyId:{}},required:[]},ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId","APNSChannelRequest"],payload:"APNSChannelRequest"},output:{type:"structure",members:{APNSChannelResponse:{shape:"S29"}},required:["APNSChannelResponse"],payload:"APNSChannelResponse"}},UpdateApnsSandboxChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/apns_sandbox",responseCode:200},input:{type:"structure",members:{APNSSandboxChannelRequest:{type:"structure",members:{BundleId:{},Certificate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},PrivateKey:{},TeamId:{},TokenKey:{},TokenKeyId:{}},required:[]},ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId","APNSSandboxChannelRequest"],payload:"APNSSandboxChannelRequest"},output:{type:"structure",members:{APNSSandboxChannelResponse:{shape:"S2c"}},required:["APNSSandboxChannelResponse"],payload:"APNSSandboxChannelResponse"}},UpdateApnsVoipChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/apns_voip",responseCode:200},input:{type:"structure",members:{APNSVoipChannelRequest:{type:"structure",members:{BundleId:{},Certificate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},PrivateKey:{},TeamId:{},TokenKey:{},TokenKeyId:{}},required:[]},ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId","APNSVoipChannelRequest"],payload:"APNSVoipChannelRequest"},output:{type:"structure",members:{APNSVoipChannelResponse:{shape:"S2f"}},required:["APNSVoipChannelResponse"],payload:"APNSVoipChannelResponse"}},UpdateApnsVoipSandboxChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/apns_voip_sandbox",responseCode:200},input:{type:"structure",members:{APNSVoipSandboxChannelRequest:{type:"structure",members:{BundleId:{},Certificate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},PrivateKey:{},TeamId:{},TokenKey:{},TokenKeyId:{}},required:[]},ApplicationId:{location:"uri",locationName:"application-id"}},required:["ApplicationId","APNSVoipSandboxChannelRequest"],payload:"APNSVoipSandboxChannelRequest"},output:{type:"structure",members:{APNSVoipSandboxChannelResponse:{shape:"S2i"}},required:["APNSVoipSandboxChannelResponse"],payload:"APNSVoipSandboxChannelResponse"}},UpdateApplicationSettings:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/settings",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},WriteApplicationSettingsRequest:{type:"structure",members:{CampaignHook:{shape:"Sl"},CloudWatchMetricsEnabled:{type:"boolean"},Limits:{shape:"Sn"},QuietTime:{shape:"Sk"}}}},required:["ApplicationId","WriteApplicationSettingsRequest"],payload:"WriteApplicationSettingsRequest"},output:{type:"structure",members:{ApplicationSettingsResource:{shape:"S3v"}},required:["ApplicationSettingsResource"],payload:"ApplicationSettingsResource"}},UpdateBaiduChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/baidu",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},BaiduChannelRequest:{type:"structure",members:{ApiKey:{},Enabled:{type:"boolean"},SecretKey:{}},required:[]}},required:["ApplicationId","BaiduChannelRequest"],payload:"BaiduChannelRequest"},output:{type:"structure",members:{BaiduChannelResponse:{shape:"S2n"}},required:["BaiduChannelResponse"],payload:"BaiduChannelResponse"}},UpdateCampaign:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/campaigns/{campaign-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},CampaignId:{location:"uri",locationName:"campaign-id"},WriteCampaignRequest:{shape:"S7"}},required:["CampaignId","ApplicationId","WriteCampaignRequest"],payload:"WriteCampaignRequest"},output:{type:"structure",members:{CampaignResponse:{shape:"Sp"}},required:["CampaignResponse"],payload:"CampaignResponse"}},UpdateEmailChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/email",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EmailChannelRequest:{type:"structure",members:{Enabled:{type:"boolean"},FromAddress:{},Identity:{},RoleArn:{}},required:[]}},required:["ApplicationId","EmailChannelRequest"],payload:"EmailChannelRequest"},output:{type:"structure",members:{EmailChannelResponse:{shape:"S2s"}},required:["EmailChannelResponse"],payload:"EmailChannelResponse"}},UpdateEndpoint:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/endpoints/{endpoint-id}",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EndpointId:{location:"uri",locationName:"endpoint-id"},EndpointRequest:{type:"structure",members:{Address:{},Attributes:{shape:"S2w"},ChannelType:{},Demographic:{shape:"S2y"},EffectiveDate:{},EndpointStatus:{},Location:{shape:"S2z"},Metrics:{shape:"S30"},OptOut:{},RequestId:{},User:{shape:"S31"}}}},required:["ApplicationId","EndpointId","EndpointRequest"],payload:"EndpointRequest"},output:{type:"structure",members:{MessageBody:{shape:"S7y"}},required:["MessageBody"],payload:"MessageBody"}},UpdateEndpointsBatch:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/endpoints",responseCode:202},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},EndpointBatchRequest:{type:"structure",members:{Item:{type:"list",member:{type:"structure",members:{Address:{},Attributes:{shape:"S2w"},ChannelType:{},Demographic:{shape:"S2y"},EffectiveDate:{},EndpointStatus:{},Id:{},Location:{shape:"S2z"},Metrics:{shape:"S30"},OptOut:{},RequestId:{},User:{shape:"S31"}}}}},required:[]}},required:["ApplicationId","EndpointBatchRequest"],payload:"EndpointBatchRequest"},output:{type:"structure",members:{MessageBody:{shape:"S7y"}},required:["MessageBody"],payload:"MessageBody"}},UpdateGcmChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/gcm",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},GCMChannelRequest:{type:"structure",members:{ApiKey:{},Enabled:{type:"boolean"}},required:[]}},required:["ApplicationId","GCMChannelRequest"],payload:"GCMChannelRequest"},output:{type:"structure",members:{GCMChannelResponse:{shape:"S37"}},required:["GCMChannelResponse"],payload:"GCMChannelResponse"}},UpdateSegment:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/segments/{segment-id}",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SegmentId:{location:"uri",locationName:"segment-id"},WriteSegmentRequest:{shape:"S18"}},required:["SegmentId","ApplicationId","WriteSegmentRequest"],payload:"WriteSegmentRequest"},output:{type:"structure",members:{SegmentResponse:{shape:"S20"}},required:["SegmentResponse"],payload:"SegmentResponse"}},UpdateSmsChannel:{http:{method:"PUT",requestUri:"/v1/apps/{application-id}/channels/sms",responseCode:200},input:{type:"structure",members:{ApplicationId:{location:"uri",locationName:"application-id"},SMSChannelRequest:{type:"structure",members:{Enabled:{type:"boolean"},SenderId:{},ShortCode:{}},required:[]}},required:["ApplicationId","SMSChannelRequest"],payload:"SMSChannelRequest"},output:{type:"structure",members:{SMSChannelResponse:{shape:"S3c"}},required:["SMSChannelResponse"],payload:"SMSChannelResponse"}}},shapes:{S5:{type:"structure",members:{Id:{},Name:{}},required:[]},S7:{type:"structure",members:{AdditionalTreatments:{type:"list",member:{type:"structure",members:{MessageConfiguration:{shape:"Sa"},Schedule:{shape:"Si"},SizePercent:{type:"integer"},TreatmentDescription:{},TreatmentName:{}},required:[]}},Description:{},HoldoutPercent:{type:"integer"},Hook:{shape:"Sl"},IsPaused:{type:"boolean"},Limits:{shape:"Sn"},MessageConfiguration:{shape:"Sa"},Name:{},Schedule:{shape:"Si"},SegmentId:{},SegmentVersion:{type:"integer"},TreatmentDescription:{},TreatmentName:{}}},Sa:{type:"structure",members:{ADMMessage:{shape:"Sb"},APNSMessage:{shape:"Sb"},BaiduMessage:{shape:"Sb"},DefaultMessage:{shape:"Sb"},EmailMessage:{type:"structure",members:{Body:{},FromAddress:{},HtmlBody:{},Title:{}},required:[]},GCMMessage:{shape:"Sb"},SMSMessage:{type:"structure",members:{Body:{},MessageType:{},SenderId:{}}}}},Sb:{type:"structure",members:{Action:{},Body:{},ImageIconUrl:{},ImageSmallIconUrl:{},ImageUrl:{},JsonBody:{},MediaUrl:{},RawContent:{},SilentPush:{type:"boolean"},TimeToLive:{type:"integer"},Title:{},Url:{}},required:[]},Si:{type:"structure",members:{EndTime:{},Frequency:{},IsLocalTime:{type:"boolean"},QuietTime:{shape:"Sk"},StartTime:{},Timezone:{}},required:[]},Sk:{type:"structure",members:{End:{},Start:{}}},Sl:{type:"structure",members:{LambdaFunctionName:{},Mode:{},WebUrl:{}}},Sn:{type:"structure",members:{Daily:{type:"integer"},MaximumDuration:{type:"integer"},MessagesPerSecond:{type:"integer"},Total:{type:"integer"}}},Sp:{type:"structure",members:{AdditionalTreatments:{type:"list",member:{type:"structure",members:{Id:{},MessageConfiguration:{shape:"Sa"},Schedule:{shape:"Si"},SizePercent:{type:"integer"},State:{shape:"Ss"},TreatmentDescription:{},TreatmentName:{}},required:[]}},ApplicationId:{},CreationDate:{},DefaultState:{shape:"Ss"},Description:{},HoldoutPercent:{type:"integer"},Hook:{shape:"Sl"},Id:{},IsPaused:{type:"boolean"},LastModifiedDate:{},Limits:{shape:"Sn"},MessageConfiguration:{shape:"Sa"},Name:{},Schedule:{shape:"Si"},SegmentId:{},SegmentVersion:{type:"integer"},State:{shape:"Ss"},TreatmentDescription:{},TreatmentName:{},Version:{type:"integer"}},required:[]},Ss:{type:"structure",members:{CampaignStatus:{}}},Sx:{type:"structure",members:{ApplicationId:{},CompletedPieces:{type:"integer"},CompletionDate:{},CreationDate:{},Definition:{type:"structure",members:{RoleArn:{},S3UrlPrefix:{},SegmentId:{},SegmentVersion:{type:"integer"}},required:[]},FailedPieces:{type:"integer"},Failures:{shape:"Sz"},Id:{},JobStatus:{},TotalFailures:{type:"integer"},TotalPieces:{type:"integer"},TotalProcessed:{type:"integer"},Type:{}},required:[]},Sz:{type:"list",member:{}},S15:{type:"structure",members:{ApplicationId:{},CompletedPieces:{type:"integer"},CompletionDate:{},CreationDate:{},Definition:{type:"structure",members:{DefineSegment:{type:"boolean"},ExternalId:{},Format:{},RegisterEndpoints:{type:"boolean"},RoleArn:{},S3Url:{},SegmentId:{},SegmentName:{}},required:[]},FailedPieces:{type:"integer"},Failures:{shape:"Sz"},Id:{},JobStatus:{},TotalFailures:{type:"integer"},TotalPieces:{type:"integer"},TotalProcessed:{type:"integer"},Type:{}},required:[]},S18:{type:"structure",members:{Dimensions:{shape:"S19"},Name:{},SegmentGroups:{shape:"S1q"}},required:[]},S19:{type:"structure",members:{Attributes:{shape:"S1a"},Behavior:{type:"structure",members:{Recency:{type:"structure",members:{Duration:{},RecencyType:{}},required:[]}}},Demographic:{type:"structure",members:{AppVersion:{shape:"S1i"},Channel:{shape:"S1i"},DeviceType:{shape:"S1i"},Make:{shape:"S1i"},Model:{shape:"S1i"},Platform:{shape:"S1i"}}},Location:{type:"structure",members:{Country:{shape:"S1i"},GPSPoint:{type:"structure",members:{Coordinates:{type:"structure",members:{Latitude:{type:"double"},Longitude:{type:"double"}},required:[]},RangeInKilometers:{type:"double"}},required:[]}}},Metrics:{type:"map",key:{},value:{type:"structure",members:{ComparisonOperator:{},Value:{type:"double"}}}},UserAttributes:{shape:"S1a"}}},S1a:{type:"map",key:{},value:{type:"structure",members:{AttributeType:{},Values:{shape:"Sz"}},required:[]}},S1i:{type:"structure",members:{DimensionType:{},Values:{shape:"Sz"}},required:[]},S1q:{type:"structure",members:{Groups:{type:"list",member:{type:"structure",members:{Dimensions:{type:"list",member:{shape:"S19"}},SourceSegments:{type:"list",member:{type:"structure",members:{Id:{},Version:{type:"integer"}}}},SourceType:{},Type:{}},required:[]}},Include:{}},required:[]},S20:{type:"structure",members:{ApplicationId:{},CreationDate:{},Dimensions:{shape:"S19"},Id:{},ImportDefinition:{type:"structure",members:{ChannelCounts:{type:"map",key:{},value:{type:"integer"}},ExternalId:{},Format:{},RoleArn:{},S3Url:{},Size:{type:"integer"}},required:[]},LastModifiedDate:{},Name:{},SegmentGroups:{shape:"S1q"},SegmentType:{},Version:{type:"integer"}},required:[]},S26:{type:"structure",members:{ApplicationId:{},CreationDate:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S29:{type:"structure",members:{ApplicationId:{},CreationDate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},HasTokenKey:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S2c:{type:"structure",members:{ApplicationId:{},CreationDate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},HasTokenKey:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S2f:{type:"structure",members:{ApplicationId:{},CreationDate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},HasTokenKey:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S2i:{type:"structure",members:{ApplicationId:{},CreationDate:{},DefaultAuthenticationMethod:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},HasTokenKey:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S2n:{type:"structure",members:{ApplicationId:{},CreationDate:{},Credential:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S2s:{type:"structure",members:{ApplicationId:{},CreationDate:{},Enabled:{type:"boolean"},FromAddress:{},HasCredential:{type:"boolean"},Id:{},Identity:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},MessagesPerSecond:{type:"integer"},Platform:{},RoleArn:{},Version:{type:"integer"}},required:[]},S2v:{type:"structure",members:{Address:{},ApplicationId:{},Attributes:{shape:"S2w"},ChannelType:{},CohortId:{},CreationDate:{},Demographic:{shape:"S2y"},EffectiveDate:{},EndpointStatus:{},Id:{},Location:{shape:"S2z"},Metrics:{shape:"S30"},OptOut:{},RequestId:{},User:{shape:"S31"}}},S2w:{type:"map",key:{},value:{shape:"Sz"}},S2y:{type:"structure",members:{AppVersion:{},Locale:{},Make:{},Model:{},ModelVersion:{},Platform:{},PlatformVersion:{},Timezone:{}}},S2z:{type:"structure",members:{City:{},Country:{},Latitude:{type:"double"},Longitude:{type:"double"},PostalCode:{},Region:{}}},S30:{type:"map",key:{},value:{type:"double"}},S31:{type:"structure",members:{UserAttributes:{shape:"S2w"},UserId:{}}},S34:{type:"structure",members:{ApplicationId:{},DestinationStreamArn:{},ExternalId:{},LastModifiedDate:{},LastUpdatedBy:{},RoleArn:{}},required:[]},S37:{type:"structure",members:{ApplicationId:{},CreationDate:{},Credential:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},Version:{type:"integer"}},required:[]},S3c:{type:"structure",members:{ApplicationId:{},CreationDate:{},Enabled:{type:"boolean"},HasCredential:{type:"boolean"},Id:{},IsArchived:{type:"boolean"},LastModifiedBy:{},LastModifiedDate:{},Platform:{},PromotionalMessagesPerSecond:{type:"integer"},SenderId:{},ShortCode:{},TransactionalMessagesPerSecond:{type:"integer"},Version:{type:"integer"}},required:[]},S3f:{type:"structure",members:{Item:{type:"list",member:{shape:"S2v"}}},required:[]},S3v:{type:"structure",members:{ApplicationId:{},CampaignHook:{shape:"Sl"},LastModifiedDate:{},Limits:{shape:"Sn"},QuietTime:{shape:"Sk"}},required:[]},S4d:{type:"structure",members:{Item:{type:"list",member:{shape:"Sp"}},NextToken:{}},required:[]},S4w:{type:"structure",members:{Item:{type:"list",member:{shape:"Sx"}},NextToken:{}},required:[]},S54:{type:"structure",members:{Item:{type:"list",member:{shape:"S15"}},NextToken:{}},required:[]},S5g:{type:"structure",members:{Item:{type:"list",member:{shape:"S20"}},NextToken:{}},required:[]},S62:{type:"map",key:{},value:{}},S6j:{type:"map",key:{},value:{type:"structure",members:{BodyOverride:{},Context:{shape:"S62"},RawContent:{},Substitutions:{shape:"S2w"},TitleOverride:{}}}},S6l:{type:"structure",members:{ADMMessage:{type:"structure",members:{Action:{},Body:{},ConsolidationKey:{},Data:{shape:"S62"},ExpiresAfter:{},IconReference:{},ImageIconUrl:{},ImageUrl:{},MD5:{},RawContent:{},SilentPush:{type:"boolean"},SmallImageIconUrl:{},Sound:{},Substitutions:{shape:"S2w"},Title:{},Url:{}}},APNSMessage:{type:"structure",members:{Action:{},Badge:{type:"integer"},Body:{},Category:{},CollapseId:{},Data:{shape:"S62"},MediaUrl:{},PreferredAuthenticationMethod:{},Priority:{},RawContent:{},SilentPush:{type:"boolean"},Sound:{},Substitutions:{shape:"S2w"},ThreadId:{},TimeToLive:{type:"integer"},Title:{},Url:{}}},BaiduMessage:{type:"structure",members:{Action:{},Body:{},Data:{shape:"S62"},IconReference:{},ImageIconUrl:{},ImageUrl:{},RawContent:{},SilentPush:{type:"boolean"},SmallImageIconUrl:{},Sound:{},Substitutions:{shape:"S2w"},TimeToLive:{type:"integer"},Title:{},Url:{}}},DefaultMessage:{type:"structure",members:{Body:{},Substitutions:{shape:"S2w"}}},DefaultPushNotificationMessage:{type:"structure",members:{Action:{},Body:{},Data:{shape:"S62"},SilentPush:{type:"boolean"},Substitutions:{shape:"S2w"},Title:{},Url:{}}},GCMMessage:{type:"structure",members:{Action:{},Body:{},CollapseKey:{},Data:{shape:"S62"},IconReference:{},ImageIconUrl:{},ImageUrl:{},Priority:{},RawContent:{},RestrictedPackageName:{},SilentPush:{type:"boolean"},SmallImageIconUrl:{},Sound:{},Substitutions:{shape:"S2w"},TimeToLive:{type:"integer"},Title:{},Url:{}}},SMSMessage:{type:"structure",members:{Body:{},Keyword:{},MessageType:{},OriginationNumber:{},SenderId:{},Substitutions:{shape:"S2w"}}}},required:[]},S6v:{type:"map",key:{},value:{type:"structure",members:{Address:{},DeliveryStatus:{},MessageId:{},StatusCode:{type:"integer"},StatusMessage:{},UpdatedToken:{}},required:[]}},S7y:{type:"structure",members:{Message:{},RequestID:{}}}}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=n(61),s=new(n(1).ConsoleLogger)("Cache"),u=function(e){function t(t){var n=this,r=t?Object.assign({},o.defaultConfig,t):o.defaultConfig;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return i(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=o.getCurrTime(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return o.getCurrTime()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),s.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var a=JSON.parse(o);n.push(a)}}n.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1});for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){s.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+o.getCurrTime()};if(i.priority<1||i.priority>5)s.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var a=this.fillCacheItem(r,t,i);if(a.byteSize>this.config.itemMaxSize)s.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var u=this.config.storage.getItem(r);if(u&&this._removeItem(r,JSON.parse(u).byteSize),this._isCacheFull(a.byteSize)){var c=this._findValidKeys();if(this._isCacheFull(a.byteSize)){var l=this._sizeToPop(a.byteSize);this._popOutItems(c,l)}}this._setItem(r,a)}catch(e){s.warn("setItem failed! "+e)}}}else s.warn("The value of item should not be undefined!");else s.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){s.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return s.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return s.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){s.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){s.warn("removeItem failed! "+e)}},t.prototype.clear=function(){s.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){s.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==o.defaultConfig.keyPrefix||(s.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=o.getCurrTime.toString()),new t(e)},t}(a.default);t.BrowserStorageCache=u;var c=new u;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.defaultConfig={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new r.StorageHelper).getStorage()},t.getByteLength=function(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t},t.getCurrTime=function(){return(new Date).getTime()},t.isInteger=function(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)};var i={},o=function(){function e(){}return e.clear=function(){i={}},e.getItem=function(e){return i[e]||null},e.setItem=function(e,t){i[e]=t},e.removeItem=function(e){delete i[e]},e}();t.CacheObject=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.key=e||"",this.prevNode=null,this.nextNode=null}}(),i=function(){function e(){this.head=new r,this.tail=new r,this.hashtable={},this.length=0,this.head.nextNode=this.tail,this.tail.prevNode=this.head}return e.prototype.insertNodeToHead=function(e){var t=this.head.nextNode;this.head.nextNode=e,e.nextNode=t,e.prevNode=this.head,t.prevNode=e,this.length=this.length+1},e.prototype.removeNode=function(e){e.prevNode.nextNode=e.nextNode,e.nextNode.prevNode=e.prevNode,e.prevNode=null,e.nextNode=null,this.length=this.length-1},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.refresh=function(e){var t=this.hashtable[e];this.removeNode(t),this.insertNodeToHead(t)},e.prototype.insertItem=function(e){var t=new r(e);this.hashtable[e]=t,this.insertNodeToHead(t)},e.prototype.getLastItem=function(){return this.tail.prevNode.key},e.prototype.removeItem=function(e){var t=this.hashtable[e];this.removeNode(t),delete this.hashtable[e]},e.prototype.getSize=function(){return this.length},e.prototype.containsKey=function(e){return e in this.hashtable},e.prototype.clearList=function(){for(var e=0,t=Object.keys(this.hashtable);e<t.length;e++){var n=t[e];this.hashtable.hasOwnProperty(n)&&delete this.hashtable[n]}this.head.nextNode=this.tail,this.tail.prevNode=this.head,this.length=0},e.prototype.getKeys=function(){return Object.keys(this.hashtable)},e.prototype.isHeadNode=function(e){return this.hashtable[e].prevNode===this.head},e.prototype.isTailNode=function(e){return this.hashtable[e].nextNode===this.tail},e}();t.default=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=n(61),s=new(n(1).ConsoleLogger)("InMemoryCache"),u=function(e){function t(t){var n=this,r=t?Object.assign({},o.defaultConfig,t):o.defaultConfig;n=e.call(this,r)||this,s.debug("now we start!"),n.cacheList=[],n.curSizeInBytes=0,n.maxPriority=5,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n);for(var i=0;i<n.maxPriority;i+=1)n.cacheList[i]=new o.CacheList;return n}return i(t,e),t.prototype._decreaseCurSizeInBytes=function(e){this.curSizeInBytes-=e},t.prototype._increaseCurSizeInBytes=function(e){this.curSizeInBytes+=e},t.prototype._isExpired=function(e){var t=o.CacheObject.getItem(e),n=JSON.parse(t);return o.getCurrTime()>=n.expires},t.prototype._removeItem=function(e,t){this.cacheList[t].removeItem(e),this._decreaseCurSizeInBytes(JSON.parse(o.CacheObject.getItem(e)).byteSize),o.CacheObject.removeItem(e)},t.prototype._setItem=function(e,t,n){this.cacheList[n].insertItem(e),this._increaseCurSizeInBytes(t.byteSize),o.CacheObject.setItem(e,JSON.stringify(t))},t.prototype._isCacheFull=function(e){return this.curSizeInBytes+e>this.config.capacityInBytes},t.prototype.containsKey=function(e){for(var t=this.config.keyPrefix+e,n=0;n<this.maxPriority;n+=1)if(this.cacheList[n].containsKey(t))return n+1;return-1},t.prototype.setItem=function(e,t,n){var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+o.getCurrTime()};if(i.priority<1||i.priority>5)s.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var a=this.fillCacheItem(r,t,i);if(a.byteSize>this.config.itemMaxSize)s.warn("Item with key: "+e+" you are trying to put into is too big!");else{var u=this.containsKey(e);-1!==u&&this._removeItem(r,u-1);for(var c=this.maxPriority-1;this._isCacheFull(a.byteSize)&&c>=0;)if(this.cacheList[c].isEmpty())c-=1;else{var l=this.cacheList[c].getLastItem();this._removeItem(l,c)}this._setItem(r,a,Number(a.priority)-1)}}}else s.warn("The value of item should not be undefined!");else s.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return s.warn("Invalid key: should not be empty or 'CurSize'"),null;var i=this.containsKey(e);if(-1!==i){if(!this._isExpired(r)){n=o.CacheObject.getItem(r);var a=JSON.parse(n);return this.cacheList[a.priority-1].refresh(r),a.data}this._removeItem(r,i-1)}if(t&&void 0!==t.callback){var u=t.callback();return null!==u&&this.setItem(e,u,t),u}return null},t.prototype.removeItem=function(e){var t=this.config.keyPrefix+e,n=this.containsKey(e);-1!==n&&this._removeItem(t,n-1)},t.prototype.clear=function(){for(var e=0;e<this.maxPriority;e+=1)for(var t=0,n=this.cacheList[e].getKeys();t<n.length;t++){var r=n[t];this._removeItem(r,e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.maxPriority;t+=1)for(var n=0,r=this.cacheList[t].getKeys();n<r.length;n++){var i=r[n];e.push(i.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){return this.curSizeInBytes},t.prototype.createInstance=function(e){return new t(e)},t}(a.default);t.InMemoryCache=u;var c=new u;t.default=c},function(e,t,n){var r,i,o=n(62),a=n(63),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],p=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==d){var f=o();null==p&&(p=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=m,i=d;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var v=h/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=p[b];return t||a(l)}},function(e,t,n){var r=n(62),i=n(63);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(182);t.PageViewTracker=r.default;var i=n(184);t.EventTracker=i.default;var o=n(190);t.SessionTracker=o.default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(183),a=n(1),s=new a.ConsoleLogger("PageViewTracker"),u="aws-amplify-analytics-prevUrl",c={enable:!1,provider:"AWSPinpoint",getUrl:function(){return a.JS.browserOrNode().isBrowser?window.location.origin+window.location.pathname:""}},l=function(){function e(e,t){s.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},c,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(u)===this._config.getUrl()&&(s.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:return a.JS.browserOrNode().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(s.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch(function(e){s.debug("Failed to record the page view event",e)}),sessionStorage.setItem(u,e)),[2]}})})},e.prototype._trackFunc=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:return a.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(s.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch(function(e){s.debug("Failed to record the page view event",e)}),sessionStorage.setItem(u,e)),[2]}})})},e.prototype._pageViewTrackSPA=function(){a.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(o.default.add(history,"pushState",this._trackFunc),o.default.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(o.default.remove(history,"pushState"),o.default.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):s.debug("not in the supported web enviroment")},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],i=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){o(e,t).set(n)},e.remove=function(e,t){o(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,n))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function o(e,t){var n=r.filter(function(n){return n.context===e&&n.methodName===t})[0];return n||(n=new i(e,t),r.push(n)),n}t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(185),a=n(1),s=new a.ConsoleLogger("EventTracker"),u={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},c=function(){function e(e,t){a.JS.browserOrNode().isBrowser&&window.addEventListener?(this._config=Object.assign({},u,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),s.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):s.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach(function(e){t._delegates[e]=o.delegate(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})})}}else Object.keys(this._delegates).forEach(function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()}),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u,c,l;return i(this,function(i){switch(i.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),o=t.getAttribute(this._config.selectorPrefix+"name"),(a=t.getAttribute(this._config.selectorPrefix+"attrs"))&&a.split(/\s*,\s*/).forEach(function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]}),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return c=i.sent(),[3,3];case 2:c=this._config.attributes,i.label=3;case 3:return u=c,l=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},u,n),s.debug("events needed to be recorded",r),s.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(s.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:o||"event",attributes:l},this._config.provider).catch(function(t){s.debug("Failed to record the "+e.type+" event', "+t)}),[2])}})})},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);t.closest=r.default;var i=n(186);t.delegate=i.default;var o=n(187);t.dispatch=o.default;var a=n(188);t.getAttributes=a.default;var s=n(35);t.matches=s.default;var u=n(65);t.parents=u.default;var c=n(189);t.parseUrl=c.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),i=n(35);t.default=function(e,t,n,o,a){void 0===a&&(a={});var s=function(e){var t;if(a.composed&&"function"==typeof e.composedPath)for(var s=e.composedPath(),u=0,c=void 0;c=s[u];u++)1===c.nodeType&&i.default(c,n)&&(t=c);else t=r.default(e.target,n,!0);t&&o.call(t,e,t)};return e.addEventListener(t,s,a.useCapture),{destroy:function(){e.removeEventListener(t,s,a.useCapture)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i,o;void 0===n&&(n="Event"),void 0===r&&(r={});var a=r,s=n;"object"==typeof s&&(a=s,s="Event"),a.bubbles=a.bubbles||!1,a.cancelable=a.cancelable||!1,a.composed=a.composed||!1,"detail"in a&&(o=!0),s=o?"CustomEvent":s;try{i=new window[s](t,a)}catch(e){(i=document.createEvent(s))["init"+(o?"Custom":"")+"Event"](t,a.bubbles,a.cancelable,a.detail)}return e.dispatchEvent(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};if(!e||1!==e.nodeType)return t;var n=e.attributes;if(0===n.length)return{};for(var r=0,i=void 0;i=n[r];r++)t[i.name]=i.value;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="80",o="443",a=RegExp(":("+i+"|"+o+")$"),s=r.JS.browserOrNode().isBrowser?document.createElement("a"):null,u={};t.default=function e(t){var n=t;if(n=n&&"."!==n?n:location.href,u[n])return u[n];if(s.href=n,"."===n.charAt(0)||"/"===n.charAt(0))return e(s.href);var r=s.port===i||s.port===o?"":s.port;r="0"===r?"":r;var c=s.host.replace(a,""),l=s.origin?s.origin:s.protocol+"//"+c,p="/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname;return u[n]={hash:s.hash,host:c,hostname:s.hostname,href:s.href,origin:l,pathname:p,port:r,protocol:s.protocol,search:s.search}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=new o.ConsoleLogger("SessionTracker"),s={enable:!1,provider:"AWSPinpoint"},u=!1,c=function(){function e(e,t){this._config=Object.assign({},s,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!o.JS.browserOrNode().isBrowser)return!1;if(!document||!document.addEventListener)return a.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return a.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document[this._hidden]?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch(function(e){a.debug("record session stop event failed.",e)}):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch(function(e){a.debug("record session start event failed.",e)}),[2]}})})},e.prototype._trackBeforeUnload=function(){var e=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then(function(t){var n=Object.assign({},t);e._tracker({name:"_session.stop",attributes:n,immediate:!0},e._config.provider).catch(function(e){a.debug("record session stop event failed.",e)})})},e.prototype._sendInitialEvent=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return u?(a.debug("the start session has been sent when the page is loaded"),[2]):(u=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch(function(e){a.debug("record session start event failed.",e)}),[2]}})})},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60);t.AWSPinpointProvider=r.default;var i=n(192);t.AWSKinesisProvider=i.default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(193),s=new o.ConsoleLogger("AWSKineisProvider"),u=1e3,c=100,l=5e3,p=5,d=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||u,this._config.flushSize=this._config.flushSize||c,this._config.flushInterval=this._config.flushInterval||l,this._config.resendLimit=this._config.resendLimit||p;this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval,i=this;this._timer=setInterval(function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],o=0;o<t;o+=1){var a=e._buffer.shift();r.push(a)}i._sendFromBuffer(r)},r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){s.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this._getCredentials()];case 1:return(t=n.sent())?(Object.assign(e,{config:this._config,credentials:t}),[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}})})},e.prototype.updateEndpoint=function(e){return s.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<u?(this._buffer.push(e),Promise.resolve(!0)):(s.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,i=[],o=0;o<e.length;o+=1){var a=e[o].credentials;0===o?(i.push(e[o]),r=a):a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(s.debug("no change for cred, put event in the same group"),i.push(e[o])):(n.push(i),(i=[]).push(e[o]),r=a)}n.push(i),n.map(function(e){t._sendEvents(e)})},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map(function(e){var t=e.event,n=t.streamName;void 0===o[n]&&(o[n]=[]);var r={Data:JSON.stringify(t.data),PartitionKey:t.partitionKey||"partition-"+i.identityId};o[n].push(r)}),Object.keys(o).map(function(e){s.debug("putting records to kinesis with records",o[e]),t._kinesis.putRecords({Records:o[e],StreamName:e},function(t,n){t?s.debug("Failed to upload records to Kinesis",t):s.debug("Upload records to stream",e)})})}},e.prototype._init=function(e,t){if(s.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return s.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return s.debug("initialize kinesis with credentials",t),this._kinesis=new a({apiVersion:"2013-12-02",region:n,credentials:t}),!0},e.prototype._getCredentials=function(){var e=this;return o.Credentials.get().then(function(t){return t?(s.debug("set credentials for analytics",e._config.credentials),o.Credentials.shear(t)):null}).catch(function(e){return s.debug("ensure credentials error",e),null})},e}();t.default=d},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.kinesis={},r.Kinesis=i.defineService("kinesis",["2013-12-02"]),Object.defineProperty(o.services.kinesis,"2013-12-02",{get:function(){var e=n(194);return e.paginators=n(195).pagination,e.waiters=n(196).waiters,e},enumerable:!0,configurable:!0}),e.exports=r.Kinesis},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2013-12-02",endpointPrefix:"kinesis",jsonVersion:"1.1",protocol:"json",protocolSettings:{h2:"eventstream"},serviceAbbreviation:"Kinesis",serviceFullName:"Amazon Kinesis",serviceId:"Kinesis",signatureVersion:"v4",targetPrefix:"Kinesis_20131202",uid:"kinesis-2013-12-02"},operations:{AddTagsToStream:{input:{type:"structure",required:["StreamName","Tags"],members:{StreamName:{},Tags:{type:"map",key:{},value:{}}}}},CreateStream:{input:{type:"structure",required:["StreamName","ShardCount"],members:{StreamName:{},ShardCount:{type:"integer"}}}},DecreaseStreamRetentionPeriod:{input:{type:"structure",required:["StreamName","RetentionPeriodHours"],members:{StreamName:{},RetentionPeriodHours:{type:"integer"}}}},DeleteStream:{input:{type:"structure",required:["StreamName"],members:{StreamName:{},EnforceConsumerDeletion:{type:"boolean"}}}},DeregisterStreamConsumer:{input:{type:"structure",members:{StreamARN:{},ConsumerName:{},ConsumerARN:{}}}},DescribeLimits:{input:{type:"structure",members:{}},output:{type:"structure",required:["ShardLimit","OpenShardCount"],members:{ShardLimit:{type:"integer"},OpenShardCount:{type:"integer"}}}},DescribeStream:{input:{type:"structure",required:["StreamName"],members:{StreamName:{},Limit:{type:"integer"},ExclusiveStartShardId:{}}},output:{type:"structure",required:["StreamDescription"],members:{StreamDescription:{type:"structure",required:["StreamName","StreamARN","StreamStatus","Shards","HasMoreShards","RetentionPeriodHours","StreamCreationTimestamp","EnhancedMonitoring"],members:{StreamName:{},StreamARN:{},StreamStatus:{},Shards:{shape:"Sp"},HasMoreShards:{type:"boolean"},RetentionPeriodHours:{type:"integer"},StreamCreationTimestamp:{type:"timestamp"},EnhancedMonitoring:{shape:"Sw"},EncryptionType:{},KeyId:{}}}}}},DescribeStreamConsumer:{input:{type:"structure",members:{StreamARN:{},ConsumerName:{},ConsumerARN:{}}},output:{type:"structure",required:["ConsumerDescription"],members:{ConsumerDescription:{type:"structure",required:["ConsumerName","ConsumerARN","ConsumerStatus","ConsumerCreationTimestamp","StreamARN"],members:{ConsumerName:{},ConsumerARN:{},ConsumerStatus:{},ConsumerCreationTimestamp:{type:"timestamp"},StreamARN:{}}}}}},DescribeStreamSummary:{input:{type:"structure",required:["StreamName"],members:{StreamName:{}}},output:{type:"structure",required:["StreamDescriptionSummary"],members:{StreamDescriptionSummary:{type:"structure",required:["StreamName","StreamARN","StreamStatus","RetentionPeriodHours","StreamCreationTimestamp","EnhancedMonitoring","OpenShardCount"],members:{StreamName:{},StreamARN:{},StreamStatus:{},RetentionPeriodHours:{type:"integer"},StreamCreationTimestamp:{type:"timestamp"},EnhancedMonitoring:{shape:"Sw"},EncryptionType:{},KeyId:{},OpenShardCount:{type:"integer"},ConsumerCount:{type:"integer"}}}}}},DisableEnhancedMonitoring:{input:{type:"structure",required:["StreamName","ShardLevelMetrics"],members:{StreamName:{},ShardLevelMetrics:{shape:"Sy"}}},output:{shape:"S1b"}},EnableEnhancedMonitoring:{input:{type:"structure",required:["StreamName","ShardLevelMetrics"],members:{StreamName:{},ShardLevelMetrics:{shape:"Sy"}}},output:{shape:"S1b"}},GetRecords:{input:{type:"structure",required:["ShardIterator"],members:{ShardIterator:{},Limit:{type:"integer"}}},output:{type:"structure",required:["Records"],members:{Records:{type:"list",member:{type:"structure",required:["SequenceNumber","Data","PartitionKey"],members:{SequenceNumber:{},ApproximateArrivalTimestamp:{type:"timestamp"},Data:{type:"blob"},PartitionKey:{},EncryptionType:{}}}},NextShardIterator:{},MillisBehindLatest:{type:"long"}}}},GetShardIterator:{input:{type:"structure",required:["StreamName","ShardId","ShardIteratorType"],members:{StreamName:{},ShardId:{},ShardIteratorType:{},StartingSequenceNumber:{},Timestamp:{type:"timestamp"}}},output:{type:"structure",members:{ShardIterator:{}}}},IncreaseStreamRetentionPeriod:{input:{type:"structure",required:["StreamName","RetentionPeriodHours"],members:{StreamName:{},RetentionPeriodHours:{type:"integer"}}}},ListShards:{input:{type:"structure",members:{StreamName:{},NextToken:{},ExclusiveStartShardId:{},MaxResults:{type:"integer"},StreamCreationTimestamp:{type:"timestamp"}}},output:{type:"structure",members:{Shards:{shape:"Sp"},NextToken:{}}}},ListStreamConsumers:{input:{type:"structure",required:["StreamARN"],members:{StreamARN:{},NextToken:{},MaxResults:{type:"integer"},StreamCreationTimestamp:{type:"timestamp"}}},output:{type:"structure",members:{Consumers:{type:"list",member:{shape:"S1y"}},NextToken:{}}}},ListStreams:{input:{type:"structure",members:{Limit:{type:"integer"},ExclusiveStartStreamName:{}}},output:{type:"structure",required:["StreamNames","HasMoreStreams"],members:{StreamNames:{type:"list",member:{}},HasMoreStreams:{type:"boolean"}}}},ListTagsForStream:{input:{type:"structure",required:["StreamName"],members:{StreamName:{},ExclusiveStartTagKey:{},Limit:{type:"integer"}}},output:{type:"structure",required:["Tags","HasMoreTags"],members:{Tags:{type:"list",member:{type:"structure",required:["Key"],members:{Key:{},Value:{}}}},HasMoreTags:{type:"boolean"}}}},MergeShards:{input:{type:"structure",required:["StreamName","ShardToMerge","AdjacentShardToMerge"],members:{StreamName:{},ShardToMerge:{},AdjacentShardToMerge:{}}}},PutRecord:{input:{type:"structure",required:["StreamName","Data","PartitionKey"],members:{StreamName:{},Data:{type:"blob"},PartitionKey:{},ExplicitHashKey:{},SequenceNumberForOrdering:{}}},output:{type:"structure",required:["ShardId","SequenceNumber"],members:{ShardId:{},SequenceNumber:{},EncryptionType:{}}}},PutRecords:{input:{type:"structure",required:["Records","StreamName"],members:{Records:{type:"list",member:{type:"structure",required:["Data","PartitionKey"],members:{Data:{type:"blob"},ExplicitHashKey:{},PartitionKey:{}}}},StreamName:{}}},output:{type:"structure",required:["Records"],members:{FailedRecordCount:{type:"integer"},Records:{type:"list",member:{type:"structure",members:{SequenceNumber:{},ShardId:{},ErrorCode:{},ErrorMessage:{}}}},EncryptionType:{}}}},RegisterStreamConsumer:{input:{type:"structure",required:["StreamARN","ConsumerName"],members:{StreamARN:{},ConsumerName:{}}},output:{type:"structure",required:["Consumer"],members:{Consumer:{shape:"S1y"}}}},RemoveTagsFromStream:{input:{type:"structure",required:["StreamName","TagKeys"],members:{StreamName:{},TagKeys:{type:"list",member:{}}}}},SplitShard:{input:{type:"structure",required:["StreamName","ShardToSplit","NewStartingHashKey"],members:{StreamName:{},ShardToSplit:{},NewStartingHashKey:{}}}},StartStreamEncryption:{input:{type:"structure",required:["StreamName","EncryptionType","KeyId"],members:{StreamName:{},EncryptionType:{},KeyId:{}}}},StopStreamEncryption:{input:{type:"structure",required:["StreamName","EncryptionType","KeyId"],members:{StreamName:{},EncryptionType:{},KeyId:{}}}},UpdateShardCount:{input:{type:"structure",required:["StreamName","TargetShardCount","ScalingType"],members:{StreamName:{},TargetShardCount:{type:"integer"},ScalingType:{}}},output:{type:"structure",members:{StreamName:{},CurrentShardCount:{type:"integer"},TargetShardCount:{type:"integer"}}}}},shapes:{Sp:{type:"list",member:{type:"structure",required:["ShardId","HashKeyRange","SequenceNumberRange"],members:{ShardId:{},ParentShardId:{},AdjacentParentShardId:{},HashKeyRange:{type:"structure",required:["StartingHashKey","EndingHashKey"],members:{StartingHashKey:{},EndingHashKey:{}}},SequenceNumberRange:{type:"structure",required:["StartingSequenceNumber"],members:{StartingSequenceNumber:{},EndingSequenceNumber:{}}}}}},Sw:{type:"list",member:{type:"structure",members:{ShardLevelMetrics:{shape:"Sy"}}}},Sy:{type:"list",member:{}},S1b:{type:"structure",members:{StreamName:{},CurrentShardLevelMetrics:{shape:"Sy"},DesiredShardLevelMetrics:{shape:"Sy"}}},S1y:{type:"structure",required:["ConsumerName","ConsumerARN","ConsumerStatus","ConsumerCreationTimestamp"],members:{ConsumerName:{},ConsumerARN:{},ConsumerStatus:{},ConsumerCreationTimestamp:{type:"timestamp"}}}}}},function(e){e.exports={pagination:{DescribeStream:{input_token:"ExclusiveStartShardId",limit_key:"Limit",more_results:"StreamDescription.HasMoreShards",output_token:"StreamDescription.Shards[-1].ShardId",result_key:"StreamDescription.Shards"},ListStreamConsumers:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken"},ListStreams:{input_token:"ExclusiveStartStreamName",limit_key:"Limit",more_results:"HasMoreStreams",output_token:"StreamNames[-1]",result_key:"StreamNames"}}}},function(e){e.exports={version:2,waiters:{StreamExists:{delay:10,operation:"DescribeStream",maxAttempts:18,acceptors:[{expected:"ACTIVE",matcher:"path",state:"success",argument:"StreamDescription.StreamStatus"}]},StreamNotExists:{delay:10,operation:"DescribeStream",maxAttempts:18,acceptors:[{expected:"ResourceNotFoundException",matcher:"error",state:"success"}]}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(198),s=n(1),u=n(85),c=n(17),l=n(200),p=n(203),d=new s.ConsoleLogger("AuthClass"),f="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",h=function(e,t,n){s.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",f)};!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon"}(o=t.CognitoHostedUIIdentityProvider||(t.CognitoHostedUIIdentityProvider={}));var m=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.configure(e),this.currentUserCredentials=this.currentUserCredentials.bind(this),s.AWS.config?s.AWS.config.update({customUserAgent:s.Constants.userAgent}):d.warn("No AWS.config"),s.Hub.listen("auth",function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};d.debug("configure Auth");var n=Object.assign({},this._config,s.Parser.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,c=r.cookieStorage,f=r.oauth,m=r.region,y=r.identityPoolId,g=r.mandatorySignIn,v=r.refreshHandlers,b=r.identityPoolRegion;if(this._config.storage){if(s.JS.isEmpty(this._config.storage))throw d.error("The storage in the Auth config can not be empty!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=c?new u.CookieStorage(c):(new s.StorageHelper).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var S={UserPoolId:i,ClientId:o};S.Storage=this._storage,this.userPool=new u.CognitoUserPool(S)}s.Credentials.configure({mandatorySignIn:g,region:b||m,userPoolId:i,identityPoolId:y,refreshHandlers:v,storage:this._storage});var _=f?a.isCognitoHostedOpts(this._config.oauth)?f:f.awsCognito:void 0;if(_){var E=Object.assign({cognitoClientId:o,UserPoolId:i,domain:_.domain,scopes:_.scope,redirectSignIn:_.redirectSignIn,redirectSignOut:_.redirectSignOut,responseType:_.responseType,Storage:this._storage,urlOpener:_.urlOpener},_.options);this._oAuthHandler=new l.default({scopes:E.scopes,config:E,cognitoClientId:E.cognitoClientId}),p.default(function(e){var n=e.url;t._handleAuthResponse(n)})}return h("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return Promise.reject("No userPool");var i=null,o=null,a=[],s=null;if(e&&"string"==typeof e){i=e,o=n?n[0]:null;var u=n?n[1]:null,c=n?n[2]:null;u&&a.push({Name:"email",Value:u}),c&&a.push({Name:"phone_number",Value:c})}else{if(!e||"object"!=typeof e)return Promise.reject("The first parameter should either be non-null string or object");i=e.username,o=e.password;var l=e.attributes;l&&Object.keys(l).map(function(e){var t={Name:e,Value:l[e]};a.push(t)}),s=e.validationData||null}return i?o?(d.debug("signUp attrs:",a),d.debug("signUp validation data:",s),new Promise(function(e,n){t.userPool.signUp(i,o,a,s,function(t,r){t?(h("signUp_failure",t,i+" failed to signup"),n(t)):(h("signUp",r,i+" has signed up successfully"),e(r))})})):Promise.reject("Password cannot be empty"):Promise.reject("Username cannot be empty")},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return Promise.reject("No userPool");if(!e)return Promise.reject("Username cannot be empty");if(!t)return Promise.reject("Code cannot be empty");var r=this.createCognitoUser(e),i=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return new Promise(function(e,n){r.confirmRegistration(t,i,function(t,r){t?n(t):e(r)})})},e.prototype.resendSignUp=function(e){if(!this.userPool)return Promise.reject("No userPool");if(!e)return Promise.reject("Username cannot be empty");var t=this.createCognitoUser(e);return new Promise(function(e,n){t.resendConfirmationCode(function(t,r){t?n(t):e(r)})})},e.prototype.signIn=function(e,t){if(!this.userPool)return Promise.reject("No userPool");var n=null,r=null,i={};if("string"==typeof e)n=e,r=t;else{if(!a.isUsernamePasswordOpts(e))return Promise.reject(new Error("The username should either be a string or one of the sign in types"));void 0!==t&&d.warn("The password should be defined under the first parameter object!"),n=e.username,r=e.password,i=e.validationData}if(!n)return Promise.reject("Username cannot be empty");var o=new u.AuthenticationDetails({Username:n,Password:r,ValidationData:i});return r?this.signInWithPassword(o):this.signInWithoutPassword(o)},e.prototype.authCallbacks=function(e,t,n){var o=this,a=this;return{onSuccess:function(u){return r(o,void 0,void 0,function(){var r,o,c,l;return i(this,function(i){switch(i.label){case 0:d.debug(u),delete e.challengeName,delete e.challengeParam,i.label=1;case 1:return i.trys.push([1,4,5,9]),[4,s.Credentials.clear()];case 2:return i.sent(),[4,s.Credentials.set(u,"session")];case 3:return r=i.sent(),d.debug("succeed to get cognito credentials",r),[3,9];case 4:return o=i.sent(),d.debug("cannot get cognito credentials",o),[3,9];case 5:return i.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return c=i.sent(),a.user=c,h("signIn",c,"A user "+e.getUsername()+" has been signed in"),t(c),[3,8];case 7:return l=i.sent(),d.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){d.debug("signIn failure",t),h("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){d.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){d.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){d.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){d.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){d.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){d.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return new Promise(function(r,i){n.authenticateUser(e,t.authCallbacks(n,r,i))})},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))})},e.prototype.getMFAOptions=function(e){return new Promise(function(t,n){e.getMFAOptions(function(e,r){if(e)return d.debug("get MFA Options failed",e),void n(e);d.debug("get MFA options success",r),t(r)})})},e.prototype.getPreferredMFA=function(e,t){var n=this;return new Promise(function(r,i){var o=!!t&&t.bypassCache;e.getUserData(function(e,t){if(e)return d.debug("getting preferred mfa failed",e),void i(e);var o=n._getMfaTypeFromUserData(t);return o?void r(o):void i("invalid MFA Type")},{bypassCache:o})})},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":d.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise(function(n,r){e.getUserData(function(e,t){return e?(d.debug("getting user data failed",e),void r(e)):void n(t)},t)})},e.prototype.setPreferredMFA=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,s;return i(this,function(i){switch(i.label){case 0:return[4,this._getUserData(e,{bypassCache:!0})];case 1:switch(n=i.sent(),r=null,o=null,t){case"TOTP":return[3,2];case"SMS":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return r={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if("NOMFA"===(s=i.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)r={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,Promise.reject("invalid MFA type")];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach(function(e){"SMS_MFA"===e?r={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return d.debug("no validmfa method provided"),[2,Promise.reject("no validmfa method provided")];case 7:return this,[2,new Promise(function(t,n){e.setUserMfaPreference(r,o,function(r,i){if(r)return d.debug("Set user mfa preference error",r),n(r);d.debug("Set user mfa success",i),d.debug("Caching the latest user data into local"),e.getUserData(function(e,r){return e?(d.debug("getting user data failed",e),n(e)):t(i)},{bypassCache:!0})})})]}})})},e.prototype.disableSMS=function(e){return new Promise(function(t,n){e.disableMFA(function(e,r){if(e)return d.debug("disable mfa failed",e),void n(e);d.debug("disable mfa succeed",r),t(r)})})},e.prototype.enableSMS=function(e){return new Promise(function(t,n){e.enableMFA(function(e,r){if(e)return d.debug("enable mfa failed",e),void n(e);d.debug("enable mfa succeed",r),t(r)})})},e.prototype.setupTOTP=function(e){return new Promise(function(t,n){e.associateSoftwareToken({onFailure:function(e){d.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){d.debug("associateSoftwareToken sucess",e),t(e)}})})},e.prototype.verifyTotpToken=function(e,t){return d.debug("verfication totp token",e,t),new Promise(function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){d.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(e){d.debug("verifyTotpToken success",e),n(e)}})})},e.prototype.confirmSignIn=function(e,t,n){var o=this;if(!t)return Promise.reject("Code cannot be empty");var a=this;return new Promise(function(u,c){e.sendMFACode(t,{onSuccess:function(t){return r(o,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:d.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,s.Credentials.clear()];case 2:return i.sent(),[4,s.Credentials.set(t,"session")];case 3:return n=i.sent(),d.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),d.debug("cannot get cognito credentials",r),[3,6];case 5:return a.user=e,h("signIn",e,e+" has signed in"),u(e),[7];case 6:return[2]}})})},onFailure:function(e){d.debug("confirm signIn failure",e),c(e)}},n)})},e.prototype.completeNewPassword=function(e,t,n){var o=this;if(!t)return Promise.reject("Password cannot be empty");var a=this;return new Promise(function(u,c){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return r(o,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:d.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,s.Credentials.clear()];case 2:return i.sent(),[4,s.Credentials.set(t,"session")];case 3:return n=i.sent(),d.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),d.debug("cannot get cognito credentials",r),[3,6];case 5:return a.user=e,h("signIn",e,e+" has signed in"),u(e),[7];case 6:return[2]}})})},onFailure:function(e){d.debug("completeNewPassword failure",e),h("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),c(e)},mfaRequired:function(t,n){d.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,u(e)},mfaSetup:function(t,n){d.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,u(e)}})})},e.prototype.sendCustomChallengeAnswer=function(e,t){var n=this;if(!this.userPool)return Promise.reject("No userPool");if(!t)return Promise.reject("Challenge response cannot be empty");return new Promise(function(r,i){e.sendCustomChallengeAnswer(t,n.authCallbacks(e,r,i))})},e.prototype.updateUserAttributes=function(e,t){var n=[],r=this;return new Promise(function(i,o){r.userSession(e).then(function(r){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var s={Name:a,Value:t[a]};n.push(s)}e.updateAttributes(n,function(e,t){return e?o(e):i(t)})})})},e.prototype.userAttributes=function(e){var t=this;return new Promise(function(n,r){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?r(e):n(t)})})})},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}})},e.prototype.currentUserPoolUser=function(e){var t=this;if(!this.userPool)return Promise.reject("No userPool");var n=this;return new Promise(function(r,i){t._storageSync.then(function(){var t=n.userPool.getCurrentUser();if(!t)return d.debug("Failed to get user from user pool"),void i("No current user");t.getSession(function(o,a){if(o)return d.debug("Failed to get the user session",o),void i(o);var s=!!e&&e.bypassCache,c=a.getAccessToken().decodePayload().scope;if(!(void 0===c?"":c).split(" ").includes("aws.cognito.signin.user.admin"))return d.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),r(t);t.getUserData(function(e,o){if(e)return d.debug("getting user data failed",e),void("User is disabled"===e.message||"User does not exist."===e.message?i(e):r(t));for(var a=o.PreferredMfaSetting||"NOMFA",s=[],c=0;c<o.UserAttributes.length;c++){var l={Name:o.UserAttributes[c].Name,Value:o.UserAttributes[c].Value},p=new u.CognitoUserAttribute(l);s.push(p)}var f=n.attributesToObject(s);return Object.assign(t,{attributes:f,preferredMFA:a}),r(t)},{bypassCache:s})})}).catch(function(e){return d.debug("Failed to sync cache info into memory",e),i(e)})})},e.prototype.currentAuthenticatedUser=function(e){return r(this,void 0,void 0,function(){var t,n,r,o;return i(this,function(i){switch(i.label){case 0:d.debug("getting current authenticted user"),t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),d.debug("Failed to sync cache info into memory",n),n;case 4:try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user}catch(e){d.debug("cannot load federated user from auth storage")}return t?(this.user=t,d.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:d.debug("get current authenticated userpool user"),r=null,i.label=6;case 6:return i.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return r=i.sent(),[3,9];case 8:throw"No userPool"===(o=i.sent())&&d.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),d.debug("The user is not authenticated by the error",o),"not authenticated";case 9:return this.user=r,[2,this.user]}})})},e.prototype.currentSession=function(){var e=this;return d.debug("Getting current session"),this.userPool?new Promise(function(t,n){e.currentUserPoolUser().then(function(r){e.userSession(r).then(function(e){t(e)}).catch(function(e){d.debug("Failed to get the current session",e),n(e)})}).catch(function(e){d.debug("Failed to get the current user",e),n(e)})}):Promise.reject("No userPool")},e.prototype.userSession=function(e){return e?new Promise(function(t,n){d.debug("Getting the session from this user:",e),e.getSession(function(r,i){return r?(d.debug("Failed to get the session from user",e),void n(r)):(d.debug("Succeed to get the user session",i),void t(i))})}):(d.debug("the user is null"),Promise.reject("Failed to get the session because the user is empty"))},e.prototype.currentUserCredentials=function(){return r(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:this,d.debug("Getting current user credentials"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),d.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){d.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,s.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then(function(e){return d.debug("getting session success",e),s.Credentials.set(e,"session")}).catch(function(e){return d.debug("getting session failed",e),s.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return d.debug("getting current credntials"),s.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t){return new Promise(function(n,r){e.getAttributeVerificationCode(t,{onSuccess:function(){return n()},onFailure:function(e){return r(e)}})})},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise(function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})}):Promise.reject("Code cannot be empty")},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(n){return t.verifyUserAttribute(n,e)})},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then(function(r){return n.verifyUserAttributeSubmit(r,e,t)})},e.prototype.cognitoIdentitySignOut=function(e,t){return r(this,void 0,void 0,function(){var n,r,o=this;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),d.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,i){if(!e||!e.global)return d.debug("user sign out",t),t.signOut(),r?o._oAuthHandler.signOut().then(function(){return n()}):n();d.debug("user global sign out",t),t.getSession(function(e,a){if(e)return d.debug("failed to get the user session",e),i(e);t.globalSignOut({onSuccess:function(e){return d.debug("global sign out success"),r?o._oAuthHandler.signOut().then(function(){return n()}):n()},onFailure:function(e){return d.debug("global sign out failed",e),i(e)}})})})]}})})},e.prototype.signOut=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),d.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:d.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:d.debug("no Congito User pool"),n.label=8;case 8:return h("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,s.Credentials.clear()];case 1:return e.sent(),[2]}})})},e.prototype.changePassword=function(e,t,n){var r=this;return new Promise(function(i,o){r.userSession(e).then(function(r){e.changePassword(t,n,function(e,t){return e?(d.debug("change password failure",e),o(e)):i(t)})})})},e.prototype.forgotPassword=function(e){if(!this.userPool)return Promise.reject("No userPool");if(!e)return Promise.reject("Username cannot be empty");var t=this.createCognitoUser(e);return new Promise(function(e,n){t.forgotPassword({onSuccess:function(){e()},onFailure:function(e){d.debug("forgot password failure",e),n(e)},inputVerificationCode:function(t){e(t)}})})},e.prototype.forgotPasswordSubmit=function(e,t,n){if(!this.userPool)return Promise.reject("No userPool");if(!e)return Promise.reject("Username cannot be empty");if(!t)return Promise.reject("Code cannot be empty");if(!n)return Promise.reject("Password cannot be empty");var r=this.createCognitoUser(e);return new Promise(function(e,i){r.confirmPassword(t,n,{onSuccess:function(){e()},onFailure:function(e){i(e)}})})},e.prototype.currentUserInfo=function(){return r(this,void 0,void 0,function(){var e,t,n,r,o,a,u;return i(this,function(i){switch(i.label){case 0:return(e=s.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch(function(e){return d.debug(e)})];case 1:if(!(u=i.sent()))return[2,null];i.label=2;case 2:return i.trys.push([2,8,,9]),[4,this.userAttributes(u)];case 3:t=i.sent(),n=this.attributesToObject(t),r=null,i.label=4;case 4:return i.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=i.sent(),[3,7];case 6:return o=i.sent(),d.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:u.getUsername(),attributes:n}];case 8:return a=i.sent(),d.debug("currentUserInfo error",a),[2,{}];case 9:return"federated"===e?[2,(u=this.user)||{}]:[2]}})})},e.prototype.federatedSignIn=function(e,t,n){return r(this,void 0,void 0,function(){var r,u,c,l,p,f,m,y,g,v;return i(this,function(i){switch(i.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return a.isFederatedSignInOptions(e)||a.isFederatedSignInOptionsCustom(e)||void 0===e?(r=e||{provider:o.Cognito},l=a.isFederatedSignInOptions(r)?r.provider:r.customProvider,this._config.userPoolId&&(u=a.isCognitoHostedOpts(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,c=a.isCognitoHostedOpts(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,c,u,l)),[3,8]):[3,1];case 1:l=e,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.currentAuthenticatedUser()];case 3:return p=i.sent(),d.warn("There is already a signed in user: "+p+" in your app.\n                You should not call Auth.federatedSignIn method again as it may cause unexpected behavior."),[3,5];case 4:return i.sent(),[3,5];case 5:return f=t.token,m=t.identity_id,y=t.expires_at,[4,s.Credentials.set({provider:l,token:f,identity_id:m,user:n,expires_at:y},"federation")];case 6:return g=i.sent(),[4,this.currentAuthenticatedUser()];case 7:return v=i.sent(),h("signIn",v,"A user "+v.username+" has been signed in"),d.debug("federated sign in credentials",g),[2,g];case 8:return[2]}})})},e.prototype._handleAuthResponse=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,a,l,p,f,m,y,g;return i(this,function(i){switch(i.label){case 0:if(!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(t=e||(s.JS.browserOrNode().isBrowser?window.location.href:null),n=!!(c.parse(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=e[0];return"code"===t||"error"===t}),r=!!(c.parse(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=e[0];return"access_token"===t||"error"===t}),!n&&!r)return[3,6];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this._oAuthHandler.handleAuthResponse(t)];case 2:return o=i.sent(),a=o.accessToken,l=o.idToken,p=o.refreshToken,f=new u.CognitoUserSession({IdToken:new u.CognitoIdToken({IdToken:l}),RefreshToken:new u.CognitoRefreshToken({RefreshToken:p}),AccessToken:new u.CognitoAccessToken({AccessToken:a})}),m=void 0,this._config.identityPoolId?[4,s.Credentials.set(f,"session")]:[3,4];case 3:m=i.sent(),d.debug("AWS credentials",m),i.label=4;case 4:return y=this.createCognitoUser(f.getIdToken().decodePayload()["cognito:username"]),h("signIn",y,"A user "+y.getUsername()+" has been signed in"),h("cognitoHostedUI",y,"A user "+y.getUsername()+" has been signed in via Cognito Hosted UI"),y.setSignInUserSession(f),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),[2,m];case 5:throw g=i.sent(),d.debug("Error in cognito hosted auth response",g),h("signIn_failure",g,"The OAuth response flow failed"),h("cognitoHostedUI_failure",g,"A failure occurred when returning to the Cognito Hosted UI"),g;case 6:return[2]}})})},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t={};return e&&e.map(function(e){"true"===e.Value?t[e.Name]=!0:"false"===e.Value?t[e.Name]=!1:t[e.Name]=e.Value}),t},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new u.CognitoUser(t);return n&&r.setAuthenticationFlowType(n),r},e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(67))},function(e,t,n){var r,i,o,a,s,u,c;e.exports=(r=n(4),o=(i=r).lib,a=o.Base,s=i.enc,u=s.Utf8,c=i.algo,void(c.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,s=o.words,c=0;c<n;c++)a[c]^=1549556828,s[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),s=n(201),u=n(202),c=n(67),l=n(1),p=n(24),d=n(25),f="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",h=function(e,t,n){l.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",f)},m=new l.ConsoleLogger("OAuth"),y=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;this._urlOpener=t.urlOpener||s.launchUri,this._config=t,this._cognitoClientId=n,this._scopes=i}return e.prototype.oauthSignIn=function(e,t,n,i,o){void 0===e&&(e="code"),void 0===o&&(o=c.CognitoHostedUIIdentityProvider.Cognito);var a=this._generateState(32);u.setState(a);var s=this._generateRandom(128);u.setPKCE(s);var l=this._generateChallenge(s),p="https://"+t+"/oauth2/authorize?"+Object.entries(r({redirect_uri:n,response_type:e,client_id:i,identity_provider:o,scopes:this._scopes,state:a},"code"===e?{code_challenge:l}:{},"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&");m.debug("Redirecting to "+p),this._urlOpener(p,n)},e.prototype._handleCodeFlow=function(e){return i(this,void 0,void 0,function(){var t,n,i,s,l,p,d,f,y,g,v,b;return o(this,function(o){switch(o.label){case 0:return(t=(a.parse(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,i=t[0],o=t[1];return r({},e,((n={})[i]=o,n))},{code:void 0}).code)?(n="https://"+this._config.domain+"/oauth2/token",h("codeFlow",{},"Retrieving tokens from "+n),i=c.isCognitoHostedOpts(this._config)?this._cognitoClientId:this._config.clientID,s=c.isCognitoHostedOpts(this._config)?this._config.redirectSignIn:this._config.redirectUri,l=u.getPKCE(),p=r({grant_type:"authorization_code",code:t,client_id:i,redirect_uri:s},l?{code_verifier:l}:{}),m.debug("Calling token endpoint: "+n+" with",p),d=Object.entries(p).map(function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&"),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"undefined"!=typeof URLSearchParams?new URLSearchParams(d):d})]):[2];case 1:return[4,o.sent().json()];case 2:if(f=o.sent(),y=f.access_token,g=f.refresh_token,v=f.id_token,b=f.error)throw new Error(b);return[2,{accessToken:y,refreshToken:g,idToken:v}]}})})},e.prototype._handleImplicitFlow=function(e){return i(this,void 0,void 0,function(){var t,n,i;return o(this,function(o){return t=a.parse(e).hash.substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,i=t[0],o=t[1];return r({},e,((n={})[i]=o,n))},{id_token:void 0,access_token:void 0}),n=t.id_token,i=t.access_token,h("implicitFlow",{},"Got tokens from "+e),m.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(e){return i(this,void 0,void 0,function(){var t,n,i;return o(this,function(o){if(t=e?r({},(a.parse(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{}),(a.parse(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})):{},n=t.error,i=t.error_description,n)throw new Error(i);return this._validateState(t),m.debug("Starting "+this._config.responseType+" flow with "+e),"code"===this._config.responseType?[2,this._handleCodeFlow(e)]:[2,this._handleImplicitFlow(e)]})})},e.prototype._validateState=function(e){if(e){var t=u.getState(),n=e.state;if(t&&t!==n)throw new Error("Invalid state in OAuth flow")}},e.prototype.signOut=function(){return i(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){return e="https://"+this._config.domain+"/logout?",t=c.isCognitoHostedOpts(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=c.isCognitoHostedOpts(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map(function(e){return e[0]+"="+e[1]}).join("&"),h("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),m.debug("Signing out from "+e),this._urlOpener(e),[2]})})},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(p(e))},e.prototype._base64URL=function(e){return e.toString(d).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.launchUri=function(e){return window.open(e,"_self")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setState=function(e){window.sessionStorage.setItem("oauth_state",e)},t.getState=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},t.setPKCE=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},t.getPKCE=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},t.clearAll=function(){window.sessionStorage.removeItem("ouath_pkce_key"),window.sessionStorage.removeItem("oauth_state")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e){if(r.JS.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!r.JS.browserOrNode().isNode)throw new Error("Not supported")}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(205);t.StorageClass=i.default;var o=n(1),a=new o.ConsoleLogger("Storage"),s=null;if(!s){a.debug("Create Storage Instance"),(s=new i.default).vault=new i.default;var u=s.configure;s.configure=function(e){a.debug("storage configure called");var t=r({},u.call(s,e));Object.keys(t).forEach(function(e){"string"!=typeof t[e]&&(t[e]=r({},t[e],{level:"private"}))}),a.debug("storage vault configure called"),s.vault.configure(t)}}var c=s;o.default.register(c),t.default=c,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(212))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(69),u=new a.ConsoleLogger("StorageClass"),c=function(){function e(){this._config={},this._pluggables=[],u.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find(function(t){return t.getProviderName()===e});return void 0===t?(u.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter(function(t){return t.getProviderName()!==e})},e.prototype.configure=function(e){var t=this;if(u.debug("configure Storage"),!e)return this._config;var n=a.Parser.parseMobilehubConfig(e),i=n.Storage,o=i.bucket,c=i.region,l=i.level,p=i.track,d=i.customPrefix;return(o||c||l||p||d)&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),o&&(n.Storage.AWSS3.bucket=o,delete n.Storage.bucket),c&&(n.Storage.AWSS3.region=c,delete n.Storage.region),l&&(n.Storage.AWSS3.level=l,delete n.Storage.level),p&&(n.Storage.AWSS3.track=p,delete n.Storage.track),d&&(n.Storage.AWSS3.customPrefix=d,delete n.Storage.customPrefix),Object.keys(n.Storage).forEach(function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=r({},t._config[e],n.Storage[e]))}),this._pluggables.forEach(function(e){e.configure(t._config[e.getProviderName()])}),0===this._pluggables.length&&this.addPluggable(new s.default),this._config},e.prototype.get=function(e,t){return i(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){return n=(t||{}).provider,r=void 0===n?"AWSS3":n,void 0===(i=this._pluggables.find(function(e){return e.getProviderName()===r}))&&(u.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")),[2,i.get(e,t)]})})},e.prototype.put=function(e,t,n){return i(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){return r=(n||{}).provider,i=void 0===r?"AWSS3":r,void 0===(a=this._pluggables.find(function(e){return e.getProviderName()===i}))&&(u.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider")),[2,a.put(e,t,n)]})})},e.prototype.remove=function(e,t){return i(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){return n=(t||{}).provider,r=void 0===n?"AWSS3":n,void 0===(i=this._pluggables.find(function(e){return e.getProviderName()===r}))&&(u.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")),[2,i.remove(e,t)]})})},e.prototype.list=function(e,t){return i(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){return n=(t||{}).provider,r=void 0===n?"AWSS3":n,void 0===(i=this._pluggables.find(function(e){return e.getProviderName()===r}))&&(u.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")),[2,i.list(e,t)]})})},e}();t.default=c},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.s3={},r.S3=i.defineService("s3",["2006-03-01"]),n(207),Object.defineProperty(o.services.s3,"2006-03-01",{get:function(){var e=n(209);return e.paginators=n(210).pagination,e.waiters=n(211).waiters,e},enumerable:!0,configurable:!0}),e.exports=r.S3},function(e,t,n){var r=n(0),i=n(53);n(208);var o={completeMultipartUpload:!0,copyObject:!0,uploadPartCopy:!0},a=["AuthorizationHeaderMalformed","BadRequest","PermanentRedirect",301];r.util.update(r.S3.prototype,{getSignatureVersion:function(e){var t=this.api.signatureVersion,n=this._originalConfig?this._originalConfig.signatureVersion:null,r=this.config.signatureVersion,i=!!e&&e.isPresigned();return n?n="v2"===n?"s3":n:(!0!==i?t="v4":r&&(t=r),t)},getSignerClass:function(e){var t=this.getSignatureVersion(e);return r.Signers.RequestSigner.getVersion(t)},validateService:function(){var e,t=[];if(this.config.region||(this.config.region="us-east-1"),!this.config.endpoint&&this.config.s3BucketEndpoint&&t.push("An endpoint must be provided when configuring `s3BucketEndpoint` to true."),1===t.length?e=t[0]:t.length>1&&(e="Multiple configuration errors:\n"+t.join("\n")),e)throw r.util.error(new Error,{name:"InvalidEndpoint",message:e})},shouldDisableBodySigning:function(e){var t=this.getSignerClass();return!0===this.config.s3DisableBodySigning&&t===r.Signers.V4&&"https:"===e.httpRequest.endpoint.protocol},setupRequestListeners:function(e){e.addListener("validate",this.validateScheme),e.addListener("validate",this.validateBucketEndpoint),e.addListener("validate",this.correctBucketRegionFromCache),e.addListener("validate",this.validateBucketName,!0),e.addListener("build",this.addContentType),e.addListener("build",this.populateURI),e.addListener("build",this.computeContentMd5),e.addListener("build",this.computeSseCustomerKeyMd5),e.addListener("afterBuild",this.addExpect100Continue),e.removeListener("validate",r.EventListeners.Core.VALIDATE_REGION),e.addListener("extractError",this.extractError),e.onAsync("extractError",this.requestBucketRegion),e.addListener("extractData",this.extractData),e.addListener("extractData",r.util.hoistPayloadMember),e.addListener("beforePresign",this.prepareSignedUrl),r.util.isBrowser()&&e.onAsync("retry",this.reqRegionForNetworkingError),this.shouldDisableBodySigning(e)&&(e.removeListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256),e.addListener("afterBuild",this.disableBodySigning))},validateScheme:function(e){var t=e.params,n=e.httpRequest.endpoint.protocol;if((t.SSECustomerKey||t.CopySourceSSECustomerKey)&&"https:"!==n){throw r.util.error(new Error,{code:"ConfigError",message:"Cannot send SSE keys over HTTP. Set 'sslEnabled'to 'true' in your configuration"})}},validateBucketEndpoint:function(e){if(!e.params.Bucket&&e.service.config.s3BucketEndpoint){throw r.util.error(new Error,{code:"ConfigError",message:"Cannot send requests to root API with `s3BucketEndpoint` set."})}},validateBucketName:function(e){var t=e.service.getSignatureVersion(e),n=e.params&&e.params.Bucket,i=e.params&&e.params.Key,o=n&&n.indexOf("/");if(n&&o>=0)if("string"==typeof i){e.params=r.util.copy(e.params);var a=n.substr(o+1)||"";e.params.Key=a+"/"+i,e.params.Bucket=n.substr(0,o)}else if("v4"===t){var s="Bucket names cannot contain forward slashes. Bucket: "+n;throw r.util.error(new Error,{code:"InvalidBucket",message:s})}},isValidAccelerateOperation:function(e){return-1===["createBucket","deleteBucket","listBuckets"].indexOf(e)},populateURI:function(e){var t=e.httpRequest,n=e.params.Bucket,r=e.service,i=t.endpoint;if(n&&!r.pathStyleBucketName(n)){r.config.useAccelerateEndpoint&&r.isValidAccelerateOperation(e.operation)?r.config.useDualstack?i.hostname=n+".s3-accelerate.dualstack.amazonaws.com":i.hostname=n+".s3-accelerate.amazonaws.com":r.config.s3BucketEndpoint||(i.hostname=n+"."+i.hostname);var o=i.port;i.host=80!==o&&443!==o?i.hostname+":"+i.port:i.hostname,t.virtualHostedBucket=n,r.removeVirtualHostedBucketFromPath(e)}},removeVirtualHostedBucketFromPath:function(e){var t=e.httpRequest,n=t.virtualHostedBucket;if(n&&t.path){if(e.params&&e.params.Key&&0===t.path.indexOf("/"+r.util.uriEscapePath(e.params.Key)))return;t.path=t.path.replace(new RegExp("/"+n),""),"/"!==t.path[0]&&(t.path="/"+t.path)}},addExpect100Continue:function(e){var t=e.httpRequest.headers["Content-Length"];r.util.isNode()&&t>=1048576&&(e.httpRequest.headers.Expect="100-continue")},addContentType:function(e){var t=e.httpRequest;if("GET"!==t.method&&"HEAD"!==t.method){t.headers["Content-Type"]||(t.headers["Content-Type"]="application/octet-stream");var n=t.headers["Content-Type"];if(r.util.isBrowser())if("string"!=typeof t.body||n.match(/;\s*charset=/)){t.headers["Content-Type"]=n.replace(/(;\s*charset=)(.+)$/,function(e,t,n){return t+n.toUpperCase()})}else{t.headers["Content-Type"]+="; charset=UTF-8"}}else delete t.headers["Content-Type"]},computableChecksumOperations:{putBucketCors:!0,putBucketLifecycle:!0,putBucketLifecycleConfiguration:!0,putBucketTagging:!0,deleteObjects:!0,putBucketReplication:!0},willComputeChecksums:function(e){if(this.computableChecksumOperations[e.operation])return!0;if(!this.config.computeChecksums)return!1;if(!r.util.Buffer.isBuffer(e.httpRequest.body)&&"string"!=typeof e.httpRequest.body)return!1;var t=e.service.api.operations[e.operation].input.members;return!(!e.service.shouldDisableBodySigning(e)||Object.prototype.hasOwnProperty.call(e.httpRequest.headers,"presigned-expires")||!t.ContentMD5||e.params.ContentMD5)||!(e.service.getSignerClass(e)===r.Signers.V4&&t.ContentMD5&&!t.ContentMD5.required)&&(!(!t.ContentMD5||e.params.ContentMD5)||void 0)},computeContentMd5:function(e){if(e.service.willComputeChecksums(e)){var t=r.util.crypto.md5(e.httpRequest.body,"base64");e.httpRequest.headers["Content-MD5"]=t}},computeSseCustomerKeyMd5:function(e){r.util.each({SSECustomerKey:"x-amz-server-side-encryption-customer-key-MD5",CopySourceSSECustomerKey:"x-amz-copy-source-server-side-encryption-customer-key-MD5"},function(t,n){if(e.params[t]){var i=r.util.crypto.md5(e.params[t],"base64");e.httpRequest.headers[n]=i}})},pathStyleBucketName:function(e){return!!this.config.s3ForcePathStyle||!this.config.s3BucketEndpoint&&(!this.dnsCompatibleBucketName(e)||!(!this.config.sslEnabled||!e.match(/\./)))},dnsCompatibleBucketName:function(e){var t=e,n=new RegExp(/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/),r=new RegExp(/(\d+\.){3}\d+/),i=new RegExp(/\.\./);return!(!t.match(n)||t.match(r)||t.match(i))},successfulResponse:function(e){var t=e.request,n=e.httpResponse;return(!o[t.operation]||!n.body.toString().match("<Error>"))&&n.statusCode<300},retryableError:function(e,t){return!(!o[t.operation]||200!==e.statusCode)||(!t._requestRegionForBucket||!t.service.bucketRegionCache[t._requestRegionForBucket])&&(!(!e||"RequestTimeout"!==e.code)||(e&&-1!=a.indexOf(e.code)&&e.region&&e.region!=t.httpRequest.region?(t.httpRequest.region=e.region,301===e.statusCode&&t.service.updateReqBucketRegion(t),!0):r.Service.prototype.retryableError.call(this,e,t)))},updateReqBucketRegion:function(e,t){var n=e.httpRequest;if("string"==typeof t&&t.length&&(n.region=t),n.endpoint.host.match(/s3(?!-accelerate).*\.amazonaws\.com$/)){var i=e.service,o=i.config,a=o.s3BucketEndpoint;a&&delete o.s3BucketEndpoint;var s=r.util.copy(o);delete s.endpoint,s.region=n.region,n.endpoint=new r.S3(s).endpoint,i.populateURI(e),o.s3BucketEndpoint=a,n.headers.Host=n.endpoint.host,"validate"===e._asm.currentState&&(e.removeListener("build",i.populateURI),e.addListener("build",i.removeVirtualHostedBucketFromPath))}},extractData:function(e){var t=e.request;if("getBucketLocation"===t.operation){var n=e.httpResponse.body.toString().match(/>(.+)<\/Location/);delete e.data._,e.data.LocationConstraint=n?n[1]:""}var r=t.params.Bucket||null;if("deleteBucket"!==t.operation||"string"!=typeof r||e.error){var i=(e.httpResponse.headers||{})["x-amz-bucket-region"]||null;if(!i&&"createBucket"===t.operation&&!e.error){var o=t.params.CreateBucketConfiguration;i=o?"EU"===o.LocationConstraint?"eu-west-1":o.LocationConstraint:"us-east-1"}i&&r&&i!==t.service.bucketRegionCache[r]&&(t.service.bucketRegionCache[r]=i)}else t.service.clearBucketRegionCache(r);t.service.extractRequestIds(e)},extractError:function(e){var t,n={304:"NotModified",403:"Forbidden",400:"BadRequest",404:"NotFound"},i=e.request,o=e.httpResponse.statusCode,a=e.httpResponse.body||"",s=(e.httpResponse.headers||{})["x-amz-bucket-region"]||null,u=i.params.Bucket||null,c=i.service.bucketRegionCache;if(s&&u&&s!==c[u]&&(c[u]=s),n[o]&&0===a.length)u&&!s&&(t=c[u]||null)!==i.httpRequest.region&&(s=t),e.error=r.util.error(new Error,{code:n[o],message:null,region:s});else{var l=(new r.XML.Parser).parse(a.toString());l.Region&&!s?(s=l.Region,u&&s!==c[u]&&(c[u]=s)):!u||s||l.Region||(t=c[u]||null)!==i.httpRequest.region&&(s=t),e.error=r.util.error(new Error,{code:l.Code||o,message:l.Message||null,region:s})}i.service.extractRequestIds(e)},requestBucketRegion:function(e,t){var n=e.error,i=e.request,o=i.params.Bucket||null;if(!n||!o||n.region||"listObjects"===i.operation||r.util.isNode()&&"headBucket"===i.operation||400===n.statusCode&&"headObject"!==i.operation||-1===a.indexOf(n.code))return t();var s=r.util.isNode()?"headBucket":"listObjects",u={Bucket:o};"listObjects"===s&&(u.MaxKeys=0);var c=i.service[s](u);c._requestRegionForBucket=o,c.send(function(){var e=i.service.bucketRegionCache[o]||null;n.region=e,t()})},reqRegionForNetworkingError:function(e,t){if(!r.util.isBrowser())return t();var n=e.error,i=e.request,o=i.params.Bucket;if(!n||"NetworkingError"!==n.code||!o||"us-east-1"===i.httpRequest.region)return t();var a=i.service,s=a.bucketRegionCache,u=s[o]||null;if(u&&u!==i.httpRequest.region)a.updateReqBucketRegion(i,u),t();else if(a.dnsCompatibleBucketName(o))if(i.httpRequest.virtualHostedBucket){var c=a.listObjects({Bucket:o,MaxKeys:0});a.updateReqBucketRegion(c,"us-east-1"),c._requestRegionForBucket=o,c.send(function(){var e=a.bucketRegionCache[o]||null;e&&e!==i.httpRequest.region&&a.updateReqBucketRegion(i,e),t()})}else t();else a.updateReqBucketRegion(i,"us-east-1"),"us-east-1"!==s[o]&&(s[o]="us-east-1"),t()},bucketRegionCache:{},clearBucketRegionCache:function(e){var t=this.bucketRegionCache;e?"string"==typeof e&&(e=[e]):e=Object.keys(t);for(var n=0;n<e.length;n++)delete t[e[n]];return t},correctBucketRegionFromCache:function(e){var t=e.params.Bucket||null;if(t){var n=e.service,r=e.httpRequest.region,i=n.bucketRegionCache[t];i&&i!==r&&n.updateReqBucketRegion(e,i)}},extractRequestIds:function(e){var t=e.httpResponse.headers?e.httpResponse.headers["x-amz-id-2"]:null,n=e.httpResponse.headers?e.httpResponse.headers["x-amz-cf-id"]:null;e.extendedRequestId=t,e.cfId=n,e.error&&(e.error.requestId=e.requestId||null,e.error.extendedRequestId=t,e.error.cfId=n)},getSignedUrl:function(e,t,n){var i=(t=r.util.copy(t||{})).Expires||900;delete t.Expires;var o=this.makeRequest(e,t);if(!n)return o.presign(i,n);r.util.defer(function(){o.presign(i,n)})},createPresignedPost:function(e,t){"function"==typeof e&&void 0===t&&(t=e,e=null),e=r.util.copy(e||{});var n=this.config.params||{},i=e.Bucket||n.Bucket,o=this,a=this.config,s=r.util.copy(this.endpoint);function u(){return{url:r.util.urlFormat(s),fields:o.preparePostFields(a.credentials,a.region,i,e.Fields,e.Conditions,e.Expires)}}if(a.s3BucketEndpoint||(s.pathname="/"+i),!t)return u();a.getCredentials(function(e){e&&t(e),t(null,u())})},preparePostFields:function(e,t,n,o,a,s){var u=this.getSkewCorrectedDate();if(!e||!t||!n)throw new Error("Unable to create a POST object policy without a bucket, region, and credentials");o=r.util.copy(o||{}),a=(a||[]).slice(0),s=s||3600;var c=r.util.date.iso8601(u).replace(/[:\-]|\.\d{3}/g,""),l=c.substr(0,8),p=i.createScope(l,t,"s3"),d=e.accessKeyId+"/"+p;for(var f in o.bucket=n,o["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",o["X-Amz-Credential"]=d,o["X-Amz-Date"]=c,e.sessionToken&&(o["X-Amz-Security-Token"]=e.sessionToken),o)if(o.hasOwnProperty(f)){var h={};h[f]=o[f],a.push(h)}return o.Policy=this.preparePostPolicy(new Date(u.valueOf()+1e3*s),a),o["X-Amz-Signature"]=r.util.crypto.hmac(i.getSigningKey(e,l,t,"s3",!0),o.Policy,"hex"),o},preparePostPolicy:function(e,t){return r.util.base64.encode(JSON.stringify({expiration:r.util.date.iso8601(e),conditions:t}))},prepareSignedUrl:function(e){e.addListener("validate",e.service.noPresignedContentLength),e.removeListener("build",e.service.addContentType),e.params.Body?e.addListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256):e.removeListener("build",e.service.computeContentMd5)},disableBodySigning:function(e){var t=e.httpRequest.headers;Object.prototype.hasOwnProperty.call(t,"presigned-expires")||(t["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD")},noPresignedContentLength:function(e){if(void 0!==e.params.ContentLength)throw r.util.error(new Error,{code:"UnexpectedParameter",message:"ContentLength is not supported in pre-signed URLs."})},createBucket:function(e,t){return"function"!=typeof e&&e||(t=t||e,e={}),this.endpoint.hostname===this.api.globalEndpoint||e.CreateBucketConfiguration||(e.CreateBucketConfiguration={LocationConstraint:this.config.region}),this.makeRequest("createBucket",e,t)},upload:function(e,t,n){"function"==typeof t&&void 0===n&&(n=t,t=null),t=t||{},t=r.util.merge(t||{},{service:this,params:e});var i=new r.S3.ManagedUpload(t);return"function"==typeof n&&i.send(n),i}})},function(e,t,n){var r=n(0),i=r.util.string.byteLength,o=r.util.Buffer;r.S3.ManagedUpload=r.util.inherit({constructor:function(e){var t=this;r.SequentialExecutor.call(t),t.body=null,t.sliceFn=null,t.callback=null,t.parts={},t.completeInfo=[],t.fillQueue=function(){t.callback(new Error("Unsupported body payload "+typeof t.body))},t.configure(e)},configure:function(e){if(e=e||{},this.partSize=this.minPartSize,e.queueSize&&(this.queueSize=e.queueSize),e.partSize&&(this.partSize=e.partSize),e.leavePartsOnError&&(this.leavePartsOnError=!0),e.tags){if(!Array.isArray(e.tags))throw new Error("Tags must be specified as an array; "+typeof e.tags+" provided.");this.tags=e.tags}if(this.partSize<this.minPartSize)throw new Error("partSize must be greater than "+this.minPartSize);this.service=e.service,this.bindServiceObject(e.params),this.validateBody(),this.adjustTotalBytes()},leavePartsOnError:!1,queueSize:4,partSize:null,minPartSize:5242880,maxTotalParts:1e4,send:function(e){var t=this;t.failed=!1,t.callback=e||function(e){if(e)throw e};var n=!0;if(t.sliceFn)t.fillQueue=t.fillBuffer;else if(r.util.isNode()){var i=r.util.stream.Stream;t.body instanceof i&&(n=!1,t.fillQueue=t.fillStream,t.partBuffers=[],t.body.on("error",function(e){t.cleanup(e)}).on("readable",function(){t.fillQueue()}).on("end",function(){t.isDoneChunking=!0,t.numParts=t.totalPartNumbers,t.fillQueue.call(t),t.isDoneChunking&&t.totalPartNumbers>=1&&t.doneParts===t.numParts&&t.finishMultiPart()}))}n&&t.fillQueue.call(t)},abort:function(){this.cleanup(r.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1}))},validateBody:function(){if(this.body=this.service.config.params.Body,"string"==typeof this.body)this.body=new r.util.Buffer(this.body);else if(!this.body)throw new Error("params.Body is required");this.sliceFn=r.util.arraySliceFn(this.body)},bindServiceObject:function(e){e=e||{};if(this.service){var t=this.service,n=r.util.copy(t.config);n.signatureVersion=t.getSignatureVersion(),this.service=new t.constructor.__super__(n),this.service.config.params=r.util.merge(this.service.config.params||{},e)}else this.service=new r.S3({params:e})},adjustTotalBytes:function(){try{this.totalBytes=i(this.body)}catch(e){}if(this.totalBytes){var e=Math.ceil(this.totalBytes/this.maxTotalParts);e>this.partSize&&(this.partSize=e)}else this.totalBytes=void 0},isDoneChunking:!1,partPos:0,totalChunkedBytes:0,totalUploadedBytes:0,totalBytes:void 0,numParts:0,totalPartNumbers:0,activeParts:0,doneParts:0,parts:null,completeInfo:null,failed:!1,multipartReq:null,partBuffers:null,partBufferLength:0,fillBuffer:function(){var e=i(this.body);if(0===e)return this.isDoneChunking=!0,this.numParts=1,void this.nextChunk(this.body);for(;this.activeParts<this.queueSize&&this.partPos<e;){var t=Math.min(this.partPos+this.partSize,e),n=this.sliceFn.call(this.body,this.partPos,t);this.partPos+=this.partSize,(i(n)<this.partSize||this.partPos===e)&&(this.isDoneChunking=!0,this.numParts=this.totalPartNumbers+1),this.nextChunk(n)}},fillStream:function(){if(!(this.activeParts>=this.queueSize)){var e=this.body.read(this.partSize-this.partBufferLength)||this.body.read();if(e&&(this.partBuffers.push(e),this.partBufferLength+=e.length,this.totalChunkedBytes+=e.length),this.partBufferLength>=this.partSize){var t=1===this.partBuffers.length?this.partBuffers[0]:o.concat(this.partBuffers);if(this.partBuffers=[],this.partBufferLength=0,t.length>this.partSize){var n=t.slice(this.partSize);this.partBuffers.push(n),this.partBufferLength+=n.length,t=t.slice(0,this.partSize)}this.nextChunk(t)}this.isDoneChunking&&!this.isDoneSending&&(t=1===this.partBuffers.length?this.partBuffers[0]:o.concat(this.partBuffers),this.partBuffers=[],this.partBufferLength=0,this.totalBytes=this.totalChunkedBytes,this.isDoneSending=!0,(0===this.numParts||t.length>0)&&(this.numParts++,this.nextChunk(t))),this.body.read(0)}},nextChunk:function(e){var t=this;if(t.failed)return null;var n=++t.totalPartNumbers;if(t.isDoneChunking&&1===n){var i={Body:e};this.tags&&(i.Tagging=this.getTaggingHeader());var o=t.service.putObject(i);return o._managedUpload=t,o.on("httpUploadProgress",t.progress).send(t.finishSinglePart),null}if(t.service.config.params.ContentMD5){var a=r.util.error(new Error("The Content-MD5 you specified is invalid for multi-part uploads."),{code:"InvalidDigest",retryable:!1});return t.cleanup(a),null}if(t.completeInfo[n]&&null!==t.completeInfo[n].ETag)return null;t.activeParts++,t.service.config.params.UploadId?t.uploadPart(e,n):t.multipartReq?t.queueChunks(e,n):(t.multipartReq=t.service.createMultipartUpload(),t.multipartReq.on("success",function(e){t.service.config.params.UploadId=e.data.UploadId,t.multipartReq=null}),t.queueChunks(e,n),t.multipartReq.on("error",function(e){t.cleanup(e)}),t.multipartReq.send())},getTaggingHeader:function(){for(var e=[],t=0;t<this.tags.length;t++)e.push(r.util.uriEscape(this.tags[t].Key)+"="+r.util.uriEscape(this.tags[t].Value));return e.join("&")},uploadPart:function(e,t){var n=this,i={Body:e,ContentLength:r.util.string.byteLength(e),PartNumber:t},o={ETag:null,PartNumber:t};n.completeInfo[t]=o;var a=n.service.uploadPart(i);n.parts[t]=a,a._lastUploadedBytes=0,a._managedUpload=n,a.on("httpUploadProgress",n.progress),a.send(function(e,t){if(delete n.parts[i.PartNumber],n.activeParts--,!(e||t&&t.ETag)){var a="No access to ETag property on response.";r.util.isBrowser()&&(a+=" Check CORS configuration to expose ETag header."),e=r.util.error(new Error(a),{code:"ETagMissing",retryable:!1})}if(e)return n.cleanup(e);o.ETag=t.ETag,n.doneParts++,n.isDoneChunking&&n.doneParts===n.numParts?n.finishMultiPart():n.fillQueue.call(n)})},queueChunks:function(e,t){var n=this;n.multipartReq.on("success",function(){n.uploadPart(e,t)})},cleanup:function(e){this.failed||("function"==typeof this.body.removeAllListeners&&"function"==typeof this.body.resume&&(this.body.removeAllListeners("readable"),this.body.removeAllListeners("end"),this.body.resume()),this.multipartReq&&(this.multipartReq.removeAllListeners("success"),this.multipartReq.removeAllListeners("error"),this.multipartReq.removeAllListeners("complete"),delete this.multipartReq),this.service.config.params.UploadId&&!this.leavePartsOnError?this.service.abortMultipartUpload().send():this.leavePartsOnError&&(this.isDoneChunking=!1),r.util.each(this.parts,function(e,t){t.removeAllListeners("complete"),t.abort()}),this.activeParts=0,this.partPos=0,this.numParts=0,this.totalPartNumbers=0,this.parts={},this.failed=!0,this.callback(e))},finishMultiPart:function(){var e=this,t={MultipartUpload:{Parts:e.completeInfo.slice(1)}};e.service.completeMultipartUpload(t,function(t,n){if(t)return e.cleanup(t);n&&"string"==typeof n.Location&&(n.Location=n.Location.replace(/%2F/g,"/")),Array.isArray(e.tags)?e.service.putObjectTagging({Tagging:{TagSet:e.tags}},function(t,r){t?e.callback(t):e.callback(t,n)}):e.callback(t,n)})},finishSinglePart:function(e,t){var n=this.request._managedUpload,r=this.request.httpRequest,i=r.endpoint;if(e)return n.callback(e);t.Location=[i.protocol,"//",i.host,r.path].join(""),t.key=this.request.params.Key,t.Key=this.request.params.Key,t.Bucket=this.request.params.Bucket,n.callback(e,t)},progress:function(e){var t=this._managedUpload;"putObject"===this.operation?(e.part=1,e.key=this.params.Key):(t.totalUploadedBytes+=e.loaded-this._lastUploadedBytes,this._lastUploadedBytes=e.loaded,e={loaded:t.totalUploadedBytes,total:t.totalBytes,part:this.params.PartNumber,key:this.params.Key}),t.emit("httpUploadProgress",[e])}}),r.util.mixin(r.S3.ManagedUpload,r.SequentialExecutor),r.S3.ManagedUpload.addPromisesToClass=function(e){this.prototype.promise=r.util.promisifyMethod("send",e)},r.S3.ManagedUpload.deletePromisesFromClass=function(){delete this.prototype.promise},r.util.addPromises(r.S3.ManagedUpload),e.exports=r.S3.ManagedUpload},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2006-03-01",checksumFormat:"md5",endpointPrefix:"s3",globalEndpoint:"s3.amazonaws.com",protocol:"rest-xml",serviceAbbreviation:"Amazon S3",serviceFullName:"Amazon Simple Storage Service",serviceId:"S3",signatureVersion:"s3",uid:"s3-2006-03-01"},operations:{AbortMultipartUpload:{http:{method:"DELETE",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key","UploadId"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},UploadId:{location:"querystring",locationName:"uploadId"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},CompleteMultipartUpload:{http:{requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key","UploadId"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},MultipartUpload:{locationName:"CompleteMultipartUpload",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{Parts:{locationName:"Part",type:"list",member:{type:"structure",members:{ETag:{},PartNumber:{type:"integer"}}},flattened:!0}}},UploadId:{location:"querystring",locationName:"uploadId"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}},payload:"MultipartUpload"},output:{type:"structure",members:{Location:{},Bucket:{},Key:{},Expiration:{location:"header",locationName:"x-amz-expiration"},ETag:{},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},VersionId:{location:"header",locationName:"x-amz-version-id"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},CopyObject:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","CopySource","Key"],members:{ACL:{location:"header",locationName:"x-amz-acl"},Bucket:{location:"uri",locationName:"Bucket"},CacheControl:{location:"header",locationName:"Cache-Control"},ContentDisposition:{location:"header",locationName:"Content-Disposition"},ContentEncoding:{location:"header",locationName:"Content-Encoding"},ContentLanguage:{location:"header",locationName:"Content-Language"},ContentType:{location:"header",locationName:"Content-Type"},CopySource:{location:"header",locationName:"x-amz-copy-source"},CopySourceIfMatch:{location:"header",locationName:"x-amz-copy-source-if-match"},CopySourceIfModifiedSince:{location:"header",locationName:"x-amz-copy-source-if-modified-since",type:"timestamp"},CopySourceIfNoneMatch:{location:"header",locationName:"x-amz-copy-source-if-none-match"},CopySourceIfUnmodifiedSince:{location:"header",locationName:"x-amz-copy-source-if-unmodified-since",type:"timestamp"},Expires:{location:"header",locationName:"Expires",type:"timestamp"},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"},Key:{location:"uri",locationName:"Key"},Metadata:{shape:"S11",location:"headers",locationName:"x-amz-meta-"},MetadataDirective:{location:"header",locationName:"x-amz-metadata-directive"},TaggingDirective:{location:"header",locationName:"x-amz-tagging-directive"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},StorageClass:{location:"header",locationName:"x-amz-storage-class"},WebsiteRedirectLocation:{location:"header",locationName:"x-amz-website-redirect-location"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},CopySourceSSECustomerAlgorithm:{location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-algorithm"},CopySourceSSECustomerKey:{shape:"S1c",location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-key"},CopySourceSSECustomerKeyMD5:{location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-key-MD5"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},Tagging:{location:"header",locationName:"x-amz-tagging"}}},output:{type:"structure",members:{CopyObjectResult:{type:"structure",members:{ETag:{},LastModified:{type:"timestamp"}}},Expiration:{location:"header",locationName:"x-amz-expiration"},CopySourceVersionId:{location:"header",locationName:"x-amz-copy-source-version-id"},VersionId:{location:"header",locationName:"x-amz-version-id"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}},payload:"CopyObjectResult"},alias:"PutObjectCopy"},CreateBucket:{http:{method:"PUT",requestUri:"/{Bucket}"},input:{type:"structure",required:["Bucket"],members:{ACL:{location:"header",locationName:"x-amz-acl"},Bucket:{location:"uri",locationName:"Bucket"},CreateBucketConfiguration:{locationName:"CreateBucketConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{LocationConstraint:{}}},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWrite:{location:"header",locationName:"x-amz-grant-write"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"}},payload:"CreateBucketConfiguration"},output:{type:"structure",members:{Location:{location:"header",locationName:"Location"}}},alias:"PutBucket"},CreateMultipartUpload:{http:{requestUri:"/{Bucket}/{Key+}?uploads"},input:{type:"structure",required:["Bucket","Key"],members:{ACL:{location:"header",locationName:"x-amz-acl"},Bucket:{location:"uri",locationName:"Bucket"},CacheControl:{location:"header",locationName:"Cache-Control"},ContentDisposition:{location:"header",locationName:"Content-Disposition"},ContentEncoding:{location:"header",locationName:"Content-Encoding"},ContentLanguage:{location:"header",locationName:"Content-Language"},ContentType:{location:"header",locationName:"Content-Type"},Expires:{location:"header",locationName:"Expires",type:"timestamp"},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"},Key:{location:"uri",locationName:"Key"},Metadata:{shape:"S11",location:"headers",locationName:"x-amz-meta-"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},StorageClass:{location:"header",locationName:"x-amz-storage-class"},WebsiteRedirectLocation:{location:"header",locationName:"x-amz-website-redirect-location"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},Tagging:{location:"header",locationName:"x-amz-tagging"}}},output:{type:"structure",members:{AbortDate:{location:"header",locationName:"x-amz-abort-date",type:"timestamp"},AbortRuleId:{location:"header",locationName:"x-amz-abort-rule-id"},Bucket:{locationName:"Bucket"},Key:{},UploadId:{},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}},alias:"InitiateMultipartUpload"},DeleteBucket:{http:{method:"DELETE",requestUri:"/{Bucket}"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketAnalyticsConfiguration:{http:{method:"DELETE",requestUri:"/{Bucket}?analytics"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}}},DeleteBucketCors:{http:{method:"DELETE",requestUri:"/{Bucket}?cors"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketEncryption:{http:{method:"DELETE",requestUri:"/{Bucket}?encryption"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketInventoryConfiguration:{http:{method:"DELETE",requestUri:"/{Bucket}?inventory"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}}},DeleteBucketLifecycle:{http:{method:"DELETE",requestUri:"/{Bucket}?lifecycle"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketMetricsConfiguration:{http:{method:"DELETE",requestUri:"/{Bucket}?metrics"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}}},DeleteBucketPolicy:{http:{method:"DELETE",requestUri:"/{Bucket}?policy"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketReplication:{http:{method:"DELETE",requestUri:"/{Bucket}?replication"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketTagging:{http:{method:"DELETE",requestUri:"/{Bucket}?tagging"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteBucketWebsite:{http:{method:"DELETE",requestUri:"/{Bucket}?website"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},DeleteObject:{http:{method:"DELETE",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},MFA:{location:"header",locationName:"x-amz-mfa"},VersionId:{location:"querystring",locationName:"versionId"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{DeleteMarker:{location:"header",locationName:"x-amz-delete-marker",type:"boolean"},VersionId:{location:"header",locationName:"x-amz-version-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},DeleteObjectTagging:{http:{method:"DELETE",requestUri:"/{Bucket}/{Key+}?tagging"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},VersionId:{location:"querystring",locationName:"versionId"}}},output:{type:"structure",members:{VersionId:{location:"header",locationName:"x-amz-version-id"}}}},DeleteObjects:{http:{requestUri:"/{Bucket}?delete"},input:{type:"structure",required:["Bucket","Delete"],members:{Bucket:{location:"uri",locationName:"Bucket"},Delete:{locationName:"Delete",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["Objects"],members:{Objects:{locationName:"Object",type:"list",member:{type:"structure",required:["Key"],members:{Key:{},VersionId:{}}},flattened:!0},Quiet:{type:"boolean"}}},MFA:{location:"header",locationName:"x-amz-mfa"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}},payload:"Delete"},output:{type:"structure",members:{Deleted:{type:"list",member:{type:"structure",members:{Key:{},VersionId:{},DeleteMarker:{type:"boolean"},DeleteMarkerVersionId:{}}},flattened:!0},RequestCharged:{location:"header",locationName:"x-amz-request-charged"},Errors:{locationName:"Error",type:"list",member:{type:"structure",members:{Key:{},VersionId:{},Code:{},Message:{}}},flattened:!0}}},alias:"DeleteMultipleObjects"},GetBucketAccelerateConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?accelerate"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Status:{}}}},GetBucketAcl:{http:{method:"GET",requestUri:"/{Bucket}?acl"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Owner:{shape:"S2v"},Grants:{shape:"S2y",locationName:"AccessControlList"}}}},GetBucketAnalyticsConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?analytics"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}},output:{type:"structure",members:{AnalyticsConfiguration:{shape:"S37"}},payload:"AnalyticsConfiguration"}},GetBucketCors:{http:{method:"GET",requestUri:"/{Bucket}?cors"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{CORSRules:{shape:"S3n",locationName:"CORSRule"}}}},GetBucketEncryption:{http:{method:"GET",requestUri:"/{Bucket}?encryption"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{ServerSideEncryptionConfiguration:{shape:"S40"}},payload:"ServerSideEncryptionConfiguration"}},GetBucketInventoryConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?inventory"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}},output:{type:"structure",members:{InventoryConfiguration:{shape:"S46"}},payload:"InventoryConfiguration"}},GetBucketLifecycle:{http:{method:"GET",requestUri:"/{Bucket}?lifecycle"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Rules:{shape:"S4m",locationName:"Rule"}}},deprecated:!0},GetBucketLifecycleConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?lifecycle"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Rules:{shape:"S51",locationName:"Rule"}}}},GetBucketLocation:{http:{method:"GET",requestUri:"/{Bucket}?location"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{LocationConstraint:{}}}},GetBucketLogging:{http:{method:"GET",requestUri:"/{Bucket}?logging"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{LoggingEnabled:{shape:"S5b"}}}},GetBucketMetricsConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?metrics"},input:{type:"structure",required:["Bucket","Id"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"}}},output:{type:"structure",members:{MetricsConfiguration:{shape:"S5j"}},payload:"MetricsConfiguration"}},GetBucketNotification:{http:{method:"GET",requestUri:"/{Bucket}?notification"},input:{shape:"S5m"},output:{shape:"S5n"},deprecated:!0},GetBucketNotificationConfiguration:{http:{method:"GET",requestUri:"/{Bucket}?notification"},input:{shape:"S5m"},output:{shape:"S5y"}},GetBucketPolicy:{http:{method:"GET",requestUri:"/{Bucket}?policy"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Policy:{}},payload:"Policy"}},GetBucketReplication:{http:{method:"GET",requestUri:"/{Bucket}?replication"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{ReplicationConfiguration:{shape:"S6h"}},payload:"ReplicationConfiguration"}},GetBucketRequestPayment:{http:{method:"GET",requestUri:"/{Bucket}?requestPayment"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Payer:{}}}},GetBucketTagging:{http:{method:"GET",requestUri:"/{Bucket}?tagging"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",required:["TagSet"],members:{TagSet:{shape:"S3d"}}}},GetBucketVersioning:{http:{method:"GET",requestUri:"/{Bucket}?versioning"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{Status:{},MFADelete:{locationName:"MfaDelete"}}}},GetBucketWebsite:{http:{method:"GET",requestUri:"/{Bucket}?website"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},output:{type:"structure",members:{RedirectAllRequestsTo:{shape:"S7a"},IndexDocument:{shape:"S7d"},ErrorDocument:{shape:"S7f"},RoutingRules:{shape:"S7g"}}}},GetObject:{http:{method:"GET",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},IfMatch:{location:"header",locationName:"If-Match"},IfModifiedSince:{location:"header",locationName:"If-Modified-Since",type:"timestamp"},IfNoneMatch:{location:"header",locationName:"If-None-Match"},IfUnmodifiedSince:{location:"header",locationName:"If-Unmodified-Since",type:"timestamp"},Key:{location:"uri",locationName:"Key"},Range:{location:"header",locationName:"Range"},ResponseCacheControl:{location:"querystring",locationName:"response-cache-control"},ResponseContentDisposition:{location:"querystring",locationName:"response-content-disposition"},ResponseContentEncoding:{location:"querystring",locationName:"response-content-encoding"},ResponseContentLanguage:{location:"querystring",locationName:"response-content-language"},ResponseContentType:{location:"querystring",locationName:"response-content-type"},ResponseExpires:{location:"querystring",locationName:"response-expires",type:"timestamp"},VersionId:{location:"querystring",locationName:"versionId"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},PartNumber:{location:"querystring",locationName:"partNumber",type:"integer"}}},output:{type:"structure",members:{Body:{streaming:!0,type:"blob"},DeleteMarker:{location:"header",locationName:"x-amz-delete-marker",type:"boolean"},AcceptRanges:{location:"header",locationName:"accept-ranges"},Expiration:{location:"header",locationName:"x-amz-expiration"},Restore:{location:"header",locationName:"x-amz-restore"},LastModified:{location:"header",locationName:"Last-Modified",type:"timestamp"},ContentLength:{location:"header",locationName:"Content-Length",type:"long"},ETag:{location:"header",locationName:"ETag"},MissingMeta:{location:"header",locationName:"x-amz-missing-meta",type:"integer"},VersionId:{location:"header",locationName:"x-amz-version-id"},CacheControl:{location:"header",locationName:"Cache-Control"},ContentDisposition:{location:"header",locationName:"Content-Disposition"},ContentEncoding:{location:"header",locationName:"Content-Encoding"},ContentLanguage:{location:"header",locationName:"Content-Language"},ContentRange:{location:"header",locationName:"Content-Range"},ContentType:{location:"header",locationName:"Content-Type"},Expires:{location:"header",locationName:"Expires",type:"timestamp"},WebsiteRedirectLocation:{location:"header",locationName:"x-amz-website-redirect-location"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},Metadata:{shape:"S11",location:"headers",locationName:"x-amz-meta-"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},StorageClass:{location:"header",locationName:"x-amz-storage-class"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"},ReplicationStatus:{location:"header",locationName:"x-amz-replication-status"},PartsCount:{location:"header",locationName:"x-amz-mp-parts-count",type:"integer"},TagCount:{location:"header",locationName:"x-amz-tagging-count",type:"integer"}},payload:"Body"}},GetObjectAcl:{http:{method:"GET",requestUri:"/{Bucket}/{Key+}?acl"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},VersionId:{location:"querystring",locationName:"versionId"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{Owner:{shape:"S2v"},Grants:{shape:"S2y",locationName:"AccessControlList"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},GetObjectTagging:{http:{method:"GET",requestUri:"/{Bucket}/{Key+}?tagging"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},VersionId:{location:"querystring",locationName:"versionId"}}},output:{type:"structure",required:["TagSet"],members:{VersionId:{location:"header",locationName:"x-amz-version-id"},TagSet:{shape:"S3d"}}}},GetObjectTorrent:{http:{method:"GET",requestUri:"/{Bucket}/{Key+}?torrent"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{Body:{streaming:!0,type:"blob"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}},payload:"Body"}},HeadBucket:{http:{method:"HEAD",requestUri:"/{Bucket}"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}}},HeadObject:{http:{method:"HEAD",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},IfMatch:{location:"header",locationName:"If-Match"},IfModifiedSince:{location:"header",locationName:"If-Modified-Since",type:"timestamp"},IfNoneMatch:{location:"header",locationName:"If-None-Match"},IfUnmodifiedSince:{location:"header",locationName:"If-Unmodified-Since",type:"timestamp"},Key:{location:"uri",locationName:"Key"},Range:{location:"header",locationName:"Range"},VersionId:{location:"querystring",locationName:"versionId"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},PartNumber:{location:"querystring",locationName:"partNumber",type:"integer"}}},output:{type:"structure",members:{DeleteMarker:{location:"header",locationName:"x-amz-delete-marker",type:"boolean"},AcceptRanges:{location:"header",locationName:"accept-ranges"},Expiration:{location:"header",locationName:"x-amz-expiration"},Restore:{location:"header",locationName:"x-amz-restore"},LastModified:{location:"header",locationName:"Last-Modified",type:"timestamp"},ContentLength:{location:"header",locationName:"Content-Length",type:"long"},ETag:{location:"header",locationName:"ETag"},MissingMeta:{location:"header",locationName:"x-amz-missing-meta",type:"integer"},VersionId:{location:"header",locationName:"x-amz-version-id"},CacheControl:{location:"header",locationName:"Cache-Control"},ContentDisposition:{location:"header",locationName:"Content-Disposition"},ContentEncoding:{location:"header",locationName:"Content-Encoding"},ContentLanguage:{location:"header",locationName:"Content-Language"},ContentType:{location:"header",locationName:"Content-Type"},Expires:{location:"header",locationName:"Expires",type:"timestamp"},WebsiteRedirectLocation:{location:"header",locationName:"x-amz-website-redirect-location"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},Metadata:{shape:"S11",location:"headers",locationName:"x-amz-meta-"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},StorageClass:{location:"header",locationName:"x-amz-storage-class"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"},ReplicationStatus:{location:"header",locationName:"x-amz-replication-status"},PartsCount:{location:"header",locationName:"x-amz-mp-parts-count",type:"integer"}}}},ListBucketAnalyticsConfigurations:{http:{method:"GET",requestUri:"/{Bucket}?analytics"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContinuationToken:{location:"querystring",locationName:"continuation-token"}}},output:{type:"structure",members:{IsTruncated:{type:"boolean"},ContinuationToken:{},NextContinuationToken:{},AnalyticsConfigurationList:{locationName:"AnalyticsConfiguration",type:"list",member:{shape:"S37"},flattened:!0}}}},ListBucketInventoryConfigurations:{http:{method:"GET",requestUri:"/{Bucket}?inventory"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContinuationToken:{location:"querystring",locationName:"continuation-token"}}},output:{type:"structure",members:{ContinuationToken:{},InventoryConfigurationList:{locationName:"InventoryConfiguration",type:"list",member:{shape:"S46"},flattened:!0},IsTruncated:{type:"boolean"},NextContinuationToken:{}}}},ListBucketMetricsConfigurations:{http:{method:"GET",requestUri:"/{Bucket}?metrics"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContinuationToken:{location:"querystring",locationName:"continuation-token"}}},output:{type:"structure",members:{IsTruncated:{type:"boolean"},ContinuationToken:{},NextContinuationToken:{},MetricsConfigurationList:{locationName:"MetricsConfiguration",type:"list",member:{shape:"S5j"},flattened:!0}}}},ListBuckets:{http:{method:"GET"},output:{type:"structure",members:{Buckets:{type:"list",member:{locationName:"Bucket",type:"structure",members:{Name:{},CreationDate:{type:"timestamp"}}}},Owner:{shape:"S2v"}}},alias:"GetService"},ListMultipartUploads:{http:{method:"GET",requestUri:"/{Bucket}?uploads"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},Delimiter:{location:"querystring",locationName:"delimiter"},EncodingType:{location:"querystring",locationName:"encoding-type"},KeyMarker:{location:"querystring",locationName:"key-marker"},MaxUploads:{location:"querystring",locationName:"max-uploads",type:"integer"},Prefix:{location:"querystring",locationName:"prefix"},UploadIdMarker:{location:"querystring",locationName:"upload-id-marker"}}},output:{type:"structure",members:{Bucket:{},KeyMarker:{},UploadIdMarker:{},NextKeyMarker:{},Prefix:{},Delimiter:{},NextUploadIdMarker:{},MaxUploads:{type:"integer"},IsTruncated:{type:"boolean"},Uploads:{locationName:"Upload",type:"list",member:{type:"structure",members:{UploadId:{},Key:{},Initiated:{type:"timestamp"},StorageClass:{},Owner:{shape:"S2v"},Initiator:{shape:"S9c"}}},flattened:!0},CommonPrefixes:{shape:"S9d"},EncodingType:{}}}},ListObjectVersions:{http:{method:"GET",requestUri:"/{Bucket}?versions"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},Delimiter:{location:"querystring",locationName:"delimiter"},EncodingType:{location:"querystring",locationName:"encoding-type"},KeyMarker:{location:"querystring",locationName:"key-marker"},MaxKeys:{location:"querystring",locationName:"max-keys",type:"integer"},Prefix:{location:"querystring",locationName:"prefix"},VersionIdMarker:{location:"querystring",locationName:"version-id-marker"}}},output:{type:"structure",members:{IsTruncated:{type:"boolean"},KeyMarker:{},VersionIdMarker:{},NextKeyMarker:{},NextVersionIdMarker:{},Versions:{locationName:"Version",type:"list",member:{type:"structure",members:{ETag:{},Size:{type:"integer"},StorageClass:{},Key:{},VersionId:{},IsLatest:{type:"boolean"},LastModified:{type:"timestamp"},Owner:{shape:"S2v"}}},flattened:!0},DeleteMarkers:{locationName:"DeleteMarker",type:"list",member:{type:"structure",members:{Owner:{shape:"S2v"},Key:{},VersionId:{},IsLatest:{type:"boolean"},LastModified:{type:"timestamp"}}},flattened:!0},Name:{},Prefix:{},Delimiter:{},MaxKeys:{type:"integer"},CommonPrefixes:{shape:"S9d"},EncodingType:{}}},alias:"GetBucketObjectVersions"},ListObjects:{http:{method:"GET",requestUri:"/{Bucket}"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},Delimiter:{location:"querystring",locationName:"delimiter"},EncodingType:{location:"querystring",locationName:"encoding-type"},Marker:{location:"querystring",locationName:"marker"},MaxKeys:{location:"querystring",locationName:"max-keys",type:"integer"},Prefix:{location:"querystring",locationName:"prefix"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{IsTruncated:{type:"boolean"},Marker:{},NextMarker:{},Contents:{shape:"S9v"},Name:{},Prefix:{},Delimiter:{},MaxKeys:{type:"integer"},CommonPrefixes:{shape:"S9d"},EncodingType:{}}},alias:"GetBucket"},ListObjectsV2:{http:{method:"GET",requestUri:"/{Bucket}?list-type=2"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},Delimiter:{location:"querystring",locationName:"delimiter"},EncodingType:{location:"querystring",locationName:"encoding-type"},MaxKeys:{location:"querystring",locationName:"max-keys",type:"integer"},Prefix:{location:"querystring",locationName:"prefix"},ContinuationToken:{location:"querystring",locationName:"continuation-token"},FetchOwner:{location:"querystring",locationName:"fetch-owner",type:"boolean"},StartAfter:{location:"querystring",locationName:"start-after"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{IsTruncated:{type:"boolean"},Contents:{shape:"S9v"},Name:{},Prefix:{},Delimiter:{},MaxKeys:{type:"integer"},CommonPrefixes:{shape:"S9d"},EncodingType:{},KeyCount:{type:"integer"},ContinuationToken:{},NextContinuationToken:{},StartAfter:{}}}},ListParts:{http:{method:"GET",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key","UploadId"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},MaxParts:{location:"querystring",locationName:"max-parts",type:"integer"},PartNumberMarker:{location:"querystring",locationName:"part-number-marker",type:"integer"},UploadId:{location:"querystring",locationName:"uploadId"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{AbortDate:{location:"header",locationName:"x-amz-abort-date",type:"timestamp"},AbortRuleId:{location:"header",locationName:"x-amz-abort-rule-id"},Bucket:{},Key:{},UploadId:{},PartNumberMarker:{type:"integer"},NextPartNumberMarker:{type:"integer"},MaxParts:{type:"integer"},IsTruncated:{type:"boolean"},Parts:{locationName:"Part",type:"list",member:{type:"structure",members:{PartNumber:{type:"integer"},LastModified:{type:"timestamp"},ETag:{},Size:{type:"integer"}}},flattened:!0},Initiator:{shape:"S9c"},Owner:{shape:"S2v"},StorageClass:{},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},PutBucketAccelerateConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?accelerate"},input:{type:"structure",required:["Bucket","AccelerateConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},AccelerateConfiguration:{locationName:"AccelerateConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{Status:{}}}},payload:"AccelerateConfiguration"}},PutBucketAcl:{http:{method:"PUT",requestUri:"/{Bucket}?acl"},input:{type:"structure",required:["Bucket"],members:{ACL:{location:"header",locationName:"x-amz-acl"},AccessControlPolicy:{shape:"Sad",locationName:"AccessControlPolicy",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}},Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWrite:{location:"header",locationName:"x-amz-grant-write"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"}},payload:"AccessControlPolicy"}},PutBucketAnalyticsConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?analytics"},input:{type:"structure",required:["Bucket","Id","AnalyticsConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"},AnalyticsConfiguration:{shape:"S37",locationName:"AnalyticsConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"AnalyticsConfiguration"}},PutBucketCors:{http:{method:"PUT",requestUri:"/{Bucket}?cors"},input:{type:"structure",required:["Bucket","CORSConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},CORSConfiguration:{locationName:"CORSConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["CORSRules"],members:{CORSRules:{shape:"S3n",locationName:"CORSRule"}}},ContentMD5:{location:"header",locationName:"Content-MD5"}},payload:"CORSConfiguration"}},PutBucketEncryption:{http:{method:"PUT",requestUri:"/{Bucket}?encryption"},input:{type:"structure",required:["Bucket","ServerSideEncryptionConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},ServerSideEncryptionConfiguration:{shape:"S40",locationName:"ServerSideEncryptionConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"ServerSideEncryptionConfiguration"}},PutBucketInventoryConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?inventory"},input:{type:"structure",required:["Bucket","Id","InventoryConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"},InventoryConfiguration:{shape:"S46",locationName:"InventoryConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"InventoryConfiguration"}},PutBucketLifecycle:{http:{method:"PUT",requestUri:"/{Bucket}?lifecycle"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},LifecycleConfiguration:{locationName:"LifecycleConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["Rules"],members:{Rules:{shape:"S4m",locationName:"Rule"}}}},payload:"LifecycleConfiguration"},deprecated:!0},PutBucketLifecycleConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?lifecycle"},input:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"},LifecycleConfiguration:{locationName:"LifecycleConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["Rules"],members:{Rules:{shape:"S51",locationName:"Rule"}}}},payload:"LifecycleConfiguration"}},PutBucketLogging:{http:{method:"PUT",requestUri:"/{Bucket}?logging"},input:{type:"structure",required:["Bucket","BucketLoggingStatus"],members:{Bucket:{location:"uri",locationName:"Bucket"},BucketLoggingStatus:{locationName:"BucketLoggingStatus",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{LoggingEnabled:{shape:"S5b"}}},ContentMD5:{location:"header",locationName:"Content-MD5"}},payload:"BucketLoggingStatus"}},PutBucketMetricsConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?metrics"},input:{type:"structure",required:["Bucket","Id","MetricsConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},Id:{location:"querystring",locationName:"id"},MetricsConfiguration:{shape:"S5j",locationName:"MetricsConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"MetricsConfiguration"}},PutBucketNotification:{http:{method:"PUT",requestUri:"/{Bucket}?notification"},input:{type:"structure",required:["Bucket","NotificationConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},NotificationConfiguration:{shape:"S5n",locationName:"NotificationConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"NotificationConfiguration"},deprecated:!0},PutBucketNotificationConfiguration:{http:{method:"PUT",requestUri:"/{Bucket}?notification"},input:{type:"structure",required:["Bucket","NotificationConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},NotificationConfiguration:{shape:"S5y",locationName:"NotificationConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"NotificationConfiguration"}},PutBucketPolicy:{http:{method:"PUT",requestUri:"/{Bucket}?policy"},input:{type:"structure",required:["Bucket","Policy"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},ConfirmRemoveSelfBucketAccess:{location:"header",locationName:"x-amz-confirm-remove-self-bucket-access",type:"boolean"},Policy:{}},payload:"Policy"}},PutBucketReplication:{http:{method:"PUT",requestUri:"/{Bucket}?replication"},input:{type:"structure",required:["Bucket","ReplicationConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},ReplicationConfiguration:{shape:"S6h",locationName:"ReplicationConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"ReplicationConfiguration"}},PutBucketRequestPayment:{http:{method:"PUT",requestUri:"/{Bucket}?requestPayment"},input:{type:"structure",required:["Bucket","RequestPaymentConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},RequestPaymentConfiguration:{locationName:"RequestPaymentConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["Payer"],members:{Payer:{}}}},payload:"RequestPaymentConfiguration"}},PutBucketTagging:{http:{method:"PUT",requestUri:"/{Bucket}?tagging"},input:{type:"structure",required:["Bucket","Tagging"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},Tagging:{shape:"Saz",locationName:"Tagging",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"Tagging"}},PutBucketVersioning:{http:{method:"PUT",requestUri:"/{Bucket}?versioning"},input:{type:"structure",required:["Bucket","VersioningConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},MFA:{location:"header",locationName:"x-amz-mfa"},VersioningConfiguration:{locationName:"VersioningConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{MFADelete:{locationName:"MfaDelete"},Status:{}}}},payload:"VersioningConfiguration"}},PutBucketWebsite:{http:{method:"PUT",requestUri:"/{Bucket}?website"},input:{type:"structure",required:["Bucket","WebsiteConfiguration"],members:{Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},WebsiteConfiguration:{locationName:"WebsiteConfiguration",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{ErrorDocument:{shape:"S7f"},IndexDocument:{shape:"S7d"},RedirectAllRequestsTo:{shape:"S7a"},RoutingRules:{shape:"S7g"}}}},payload:"WebsiteConfiguration"}},PutObject:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key"],members:{ACL:{location:"header",locationName:"x-amz-acl"},Body:{streaming:!0,type:"blob"},Bucket:{location:"uri",locationName:"Bucket"},CacheControl:{location:"header",locationName:"Cache-Control"},ContentDisposition:{location:"header",locationName:"Content-Disposition"},ContentEncoding:{location:"header",locationName:"Content-Encoding"},ContentLanguage:{location:"header",locationName:"Content-Language"},ContentLength:{location:"header",locationName:"Content-Length",type:"long"},ContentMD5:{location:"header",locationName:"Content-MD5"},ContentType:{location:"header",locationName:"Content-Type"},Expires:{location:"header",locationName:"Expires",type:"timestamp"},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"},Key:{location:"uri",locationName:"Key"},Metadata:{shape:"S11",location:"headers",locationName:"x-amz-meta-"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},StorageClass:{location:"header",locationName:"x-amz-storage-class"},WebsiteRedirectLocation:{location:"header",locationName:"x-amz-website-redirect-location"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},Tagging:{location:"header",locationName:"x-amz-tagging"}},payload:"Body"},output:{type:"structure",members:{Expiration:{location:"header",locationName:"x-amz-expiration"},ETag:{location:"header",locationName:"ETag"},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},VersionId:{location:"header",locationName:"x-amz-version-id"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},PutObjectAcl:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}?acl"},input:{type:"structure",required:["Bucket","Key"],members:{ACL:{location:"header",locationName:"x-amz-acl"},AccessControlPolicy:{shape:"Sad",locationName:"AccessControlPolicy",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}},Bucket:{location:"uri",locationName:"Bucket"},ContentMD5:{location:"header",locationName:"Content-MD5"},GrantFullControl:{location:"header",locationName:"x-amz-grant-full-control"},GrantRead:{location:"header",locationName:"x-amz-grant-read"},GrantReadACP:{location:"header",locationName:"x-amz-grant-read-acp"},GrantWrite:{location:"header",locationName:"x-amz-grant-write"},GrantWriteACP:{location:"header",locationName:"x-amz-grant-write-acp"},Key:{location:"uri",locationName:"Key"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"},VersionId:{location:"querystring",locationName:"versionId"}},payload:"AccessControlPolicy"},output:{type:"structure",members:{RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},PutObjectTagging:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}?tagging"},input:{type:"structure",required:["Bucket","Key","Tagging"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},VersionId:{location:"querystring",locationName:"versionId"},ContentMD5:{location:"header",locationName:"Content-MD5"},Tagging:{shape:"Saz",locationName:"Tagging",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"}}},payload:"Tagging"},output:{type:"structure",members:{VersionId:{location:"header",locationName:"x-amz-version-id"}}}},RestoreObject:{http:{requestUri:"/{Bucket}/{Key+}?restore"},input:{type:"structure",required:["Bucket","Key"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},VersionId:{location:"querystring",locationName:"versionId"},RestoreRequest:{locationName:"RestoreRequest",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",members:{Days:{type:"integer"},GlacierJobParameters:{type:"structure",required:["Tier"],members:{Tier:{}}},Type:{},Tier:{},Description:{},SelectParameters:{type:"structure",required:["InputSerialization","ExpressionType","Expression","OutputSerialization"],members:{InputSerialization:{shape:"Sbi"},ExpressionType:{},Expression:{},OutputSerialization:{shape:"Sbx"}}},OutputLocation:{type:"structure",members:{S3:{type:"structure",required:["BucketName","Prefix"],members:{BucketName:{},Prefix:{},Encryption:{type:"structure",required:["EncryptionType"],members:{EncryptionType:{},KMSKeyId:{shape:"Sj"},KMSContext:{}}},CannedACL:{},AccessControlList:{shape:"S2y"},Tagging:{shape:"Saz"},UserMetadata:{type:"list",member:{locationName:"MetadataEntry",type:"structure",members:{Name:{},Value:{}}}},StorageClass:{}}}}}}},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}},payload:"RestoreRequest"},output:{type:"structure",members:{RequestCharged:{location:"header",locationName:"x-amz-request-charged"},RestoreOutputPath:{location:"header",locationName:"x-amz-restore-output-path"}}},alias:"PostObjectRestore"},SelectObjectContent:{http:{requestUri:"/{Bucket}/{Key+}?select&select-type=2"},input:{locationName:"SelectObjectContentRequest",xmlNamespace:{uri:"http://s3.amazonaws.com/doc/2006-03-01/"},type:"structure",required:["Bucket","Key","Expression","ExpressionType","InputSerialization","OutputSerialization"],members:{Bucket:{location:"uri",locationName:"Bucket"},Key:{location:"uri",locationName:"Key"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},Expression:{},ExpressionType:{},RequestProgress:{type:"structure",members:{Enabled:{type:"boolean"}}},InputSerialization:{shape:"Sbi"},OutputSerialization:{shape:"Sbx"}}},output:{type:"structure",members:{Payload:{type:"structure",members:{Records:{type:"structure",members:{Payload:{eventpayload:!0,type:"blob"}},event:!0},Stats:{type:"structure",members:{Details:{eventpayload:!0,type:"structure",members:{BytesScanned:{type:"long"},BytesProcessed:{type:"long"},BytesReturned:{type:"long"}}}},event:!0},Progress:{type:"structure",members:{Details:{eventpayload:!0,type:"structure",members:{BytesScanned:{type:"long"},BytesProcessed:{type:"long"},BytesReturned:{type:"long"}}}},event:!0},Cont:{type:"structure",members:{},event:!0},End:{type:"structure",members:{},event:!0}},eventstream:!0}},payload:"Payload"}},UploadPart:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","Key","PartNumber","UploadId"],members:{Body:{streaming:!0,type:"blob"},Bucket:{location:"uri",locationName:"Bucket"},ContentLength:{location:"header",locationName:"Content-Length",type:"long"},ContentMD5:{location:"header",locationName:"Content-MD5"},Key:{location:"uri",locationName:"Key"},PartNumber:{location:"querystring",locationName:"partNumber",type:"integer"},UploadId:{location:"querystring",locationName:"uploadId"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}},payload:"Body"},output:{type:"structure",members:{ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},ETag:{location:"header",locationName:"ETag"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}}}},UploadPartCopy:{http:{method:"PUT",requestUri:"/{Bucket}/{Key+}"},input:{type:"structure",required:["Bucket","CopySource","Key","PartNumber","UploadId"],members:{Bucket:{location:"uri",locationName:"Bucket"},CopySource:{location:"header",locationName:"x-amz-copy-source"},CopySourceIfMatch:{location:"header",locationName:"x-amz-copy-source-if-match"},CopySourceIfModifiedSince:{location:"header",locationName:"x-amz-copy-source-if-modified-since",type:"timestamp"},CopySourceIfNoneMatch:{location:"header",locationName:"x-amz-copy-source-if-none-match"},CopySourceIfUnmodifiedSince:{location:"header",locationName:"x-amz-copy-source-if-unmodified-since",type:"timestamp"},CopySourceRange:{location:"header",locationName:"x-amz-copy-source-range"},Key:{location:"uri",locationName:"Key"},PartNumber:{location:"querystring",locationName:"partNumber",type:"integer"},UploadId:{location:"querystring",locationName:"uploadId"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKey:{shape:"S19",location:"header",locationName:"x-amz-server-side-encryption-customer-key"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},CopySourceSSECustomerAlgorithm:{location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-algorithm"},CopySourceSSECustomerKey:{shape:"S1c",location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-key"},CopySourceSSECustomerKeyMD5:{location:"header",locationName:"x-amz-copy-source-server-side-encryption-customer-key-MD5"},RequestPayer:{location:"header",locationName:"x-amz-request-payer"}}},output:{type:"structure",members:{CopySourceVersionId:{location:"header",locationName:"x-amz-copy-source-version-id"},CopyPartResult:{type:"structure",members:{ETag:{},LastModified:{type:"timestamp"}}},ServerSideEncryption:{location:"header",locationName:"x-amz-server-side-encryption"},SSECustomerAlgorithm:{location:"header",locationName:"x-amz-server-side-encryption-customer-algorithm"},SSECustomerKeyMD5:{location:"header",locationName:"x-amz-server-side-encryption-customer-key-MD5"},SSEKMSKeyId:{shape:"Sj",location:"header",locationName:"x-amz-server-side-encryption-aws-kms-key-id"},RequestCharged:{location:"header",locationName:"x-amz-request-charged"}},payload:"CopyPartResult"}}},shapes:{Sj:{type:"string",sensitive:!0},S11:{type:"map",key:{},value:{}},S19:{type:"blob",sensitive:!0},S1c:{type:"blob",sensitive:!0},S2v:{type:"structure",members:{DisplayName:{},ID:{}}},S2y:{type:"list",member:{locationName:"Grant",type:"structure",members:{Grantee:{shape:"S30"},Permission:{}}}},S30:{type:"structure",required:["Type"],members:{DisplayName:{},EmailAddress:{},ID:{},Type:{locationName:"xsi:type",xmlAttribute:!0},URI:{}},xmlNamespace:{prefix:"xsi",uri:"http://www.w3.org/2001/XMLSchema-instance"}},S37:{type:"structure",required:["Id","StorageClassAnalysis"],members:{Id:{},Filter:{type:"structure",members:{Prefix:{},Tag:{shape:"S3a"},And:{type:"structure",members:{Prefix:{},Tags:{shape:"S3d",flattened:!0,locationName:"Tag"}}}}},StorageClassAnalysis:{type:"structure",members:{DataExport:{type:"structure",required:["OutputSchemaVersion","Destination"],members:{OutputSchemaVersion:{},Destination:{type:"structure",required:["S3BucketDestination"],members:{S3BucketDestination:{type:"structure",required:["Format","Bucket"],members:{Format:{},BucketAccountId:{},Bucket:{},Prefix:{}}}}}}}}}}},S3a:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}},S3d:{type:"list",member:{shape:"S3a",locationName:"Tag"}},S3n:{type:"list",member:{type:"structure",required:["AllowedMethods","AllowedOrigins"],members:{AllowedHeaders:{locationName:"AllowedHeader",type:"list",member:{},flattened:!0},AllowedMethods:{locationName:"AllowedMethod",type:"list",member:{},flattened:!0},AllowedOrigins:{locationName:"AllowedOrigin",type:"list",member:{},flattened:!0},ExposeHeaders:{locationName:"ExposeHeader",type:"list",member:{},flattened:!0},MaxAgeSeconds:{type:"integer"}}},flattened:!0},S40:{type:"structure",required:["Rules"],members:{Rules:{locationName:"Rule",type:"list",member:{type:"structure",members:{ApplyServerSideEncryptionByDefault:{type:"structure",required:["SSEAlgorithm"],members:{SSEAlgorithm:{},KMSMasterKeyID:{shape:"Sj"}}}}},flattened:!0}}},S46:{type:"structure",required:["Destination","IsEnabled","Id","IncludedObjectVersions","Schedule"],members:{Destination:{type:"structure",required:["S3BucketDestination"],members:{S3BucketDestination:{type:"structure",required:["Bucket","Format"],members:{AccountId:{},Bucket:{},Format:{},Prefix:{},Encryption:{type:"structure",members:{SSES3:{locationName:"SSE-S3",type:"structure",members:{}},SSEKMS:{locationName:"SSE-KMS",type:"structure",required:["KeyId"],members:{KeyId:{shape:"Sj"}}}}}}}}},IsEnabled:{type:"boolean"},Filter:{type:"structure",required:["Prefix"],members:{Prefix:{}}},Id:{},IncludedObjectVersions:{},OptionalFields:{type:"list",member:{locationName:"Field"}},Schedule:{type:"structure",required:["Frequency"],members:{Frequency:{}}}}},S4m:{type:"list",member:{type:"structure",required:["Prefix","Status"],members:{Expiration:{shape:"S4o"},ID:{},Prefix:{},Status:{},Transition:{shape:"S4t"},NoncurrentVersionTransition:{shape:"S4v"},NoncurrentVersionExpiration:{shape:"S4w"},AbortIncompleteMultipartUpload:{shape:"S4x"}}},flattened:!0},S4o:{type:"structure",members:{Date:{shape:"S4p"},Days:{type:"integer"},ExpiredObjectDeleteMarker:{type:"boolean"}}},S4p:{type:"timestamp",timestampFormat:"iso8601"},S4t:{type:"structure",members:{Date:{shape:"S4p"},Days:{type:"integer"},StorageClass:{}}},S4v:{type:"structure",members:{NoncurrentDays:{type:"integer"},StorageClass:{}}},S4w:{type:"structure",members:{NoncurrentDays:{type:"integer"}}},S4x:{type:"structure",members:{DaysAfterInitiation:{type:"integer"}}},S51:{type:"list",member:{type:"structure",required:["Status"],members:{Expiration:{shape:"S4o"},ID:{},Prefix:{deprecated:!0},Filter:{type:"structure",members:{Prefix:{},Tag:{shape:"S3a"},And:{type:"structure",members:{Prefix:{},Tags:{shape:"S3d",flattened:!0,locationName:"Tag"}}}}},Status:{},Transitions:{locationName:"Transition",type:"list",member:{shape:"S4t"},flattened:!0},NoncurrentVersionTransitions:{locationName:"NoncurrentVersionTransition",type:"list",member:{shape:"S4v"},flattened:!0},NoncurrentVersionExpiration:{shape:"S4w"},AbortIncompleteMultipartUpload:{shape:"S4x"}}},flattened:!0},S5b:{type:"structure",required:["TargetBucket","TargetPrefix"],members:{TargetBucket:{},TargetGrants:{type:"list",member:{locationName:"Grant",type:"structure",members:{Grantee:{shape:"S30"},Permission:{}}}},TargetPrefix:{}}},S5j:{type:"structure",required:["Id"],members:{Id:{},Filter:{type:"structure",members:{Prefix:{},Tag:{shape:"S3a"},And:{type:"structure",members:{Prefix:{},Tags:{shape:"S3d",flattened:!0,locationName:"Tag"}}}}}}},S5m:{type:"structure",required:["Bucket"],members:{Bucket:{location:"uri",locationName:"Bucket"}}},S5n:{type:"structure",members:{TopicConfiguration:{type:"structure",members:{Id:{},Events:{shape:"S5q",locationName:"Event"},Event:{deprecated:!0},Topic:{}}},QueueConfiguration:{type:"structure",members:{Id:{},Event:{deprecated:!0},Events:{shape:"S5q",locationName:"Event"},Queue:{}}},CloudFunctionConfiguration:{type:"structure",members:{Id:{},Event:{deprecated:!0},Events:{shape:"S5q",locationName:"Event"},CloudFunction:{},InvocationRole:{}}}}},S5q:{type:"list",member:{},flattened:!0},S5y:{type:"structure",members:{TopicConfigurations:{locationName:"TopicConfiguration",type:"list",member:{type:"structure",required:["TopicArn","Events"],members:{Id:{},TopicArn:{locationName:"Topic"},Events:{shape:"S5q",locationName:"Event"},Filter:{shape:"S61"}}},flattened:!0},QueueConfigurations:{locationName:"QueueConfiguration",type:"list",member:{type:"structure",required:["QueueArn","Events"],members:{Id:{},QueueArn:{locationName:"Queue"},Events:{shape:"S5q",locationName:"Event"},Filter:{shape:"S61"}}},flattened:!0},LambdaFunctionConfigurations:{locationName:"CloudFunctionConfiguration",type:"list",member:{type:"structure",required:["LambdaFunctionArn","Events"],members:{Id:{},LambdaFunctionArn:{locationName:"CloudFunction"},Events:{shape:"S5q",locationName:"Event"},Filter:{shape:"S61"}}},flattened:!0}}},S61:{type:"structure",members:{Key:{locationName:"S3Key",type:"structure",members:{FilterRules:{locationName:"FilterRule",type:"list",member:{type:"structure",members:{Name:{},Value:{}}},flattened:!0}}}}},S6h:{type:"structure",required:["Role","Rules"],members:{Role:{},Rules:{locationName:"Rule",type:"list",member:{type:"structure",required:["Status","Destination"],members:{ID:{},Priority:{type:"integer"},Prefix:{deprecated:!0},Filter:{type:"structure",members:{Prefix:{},Tag:{shape:"S3a"},And:{type:"structure",members:{Prefix:{},Tags:{shape:"S3d",flattened:!0,locationName:"Tag"}}}}},Status:{},SourceSelectionCriteria:{type:"structure",members:{SseKmsEncryptedObjects:{type:"structure",required:["Status"],members:{Status:{}}}}},Destination:{type:"structure",required:["Bucket"],members:{Bucket:{},Account:{},StorageClass:{},AccessControlTranslation:{type:"structure",required:["Owner"],members:{Owner:{}}},EncryptionConfiguration:{type:"structure",members:{ReplicaKmsKeyID:{}}}}},DeleteMarkerReplication:{type:"structure",members:{Status:{}}}}},flattened:!0}}},S7a:{type:"structure",required:["HostName"],members:{HostName:{},Protocol:{}}},S7d:{type:"structure",required:["Suffix"],members:{Suffix:{}}},S7f:{type:"structure",required:["Key"],members:{Key:{}}},S7g:{type:"list",member:{locationName:"RoutingRule",type:"structure",required:["Redirect"],members:{Condition:{type:"structure",members:{HttpErrorCodeReturnedEquals:{},KeyPrefixEquals:{}}},Redirect:{type:"structure",members:{HostName:{},HttpRedirectCode:{},Protocol:{},ReplaceKeyPrefixWith:{},ReplaceKeyWith:{}}}}}},S9c:{type:"structure",members:{ID:{},DisplayName:{}}},S9d:{type:"list",member:{type:"structure",members:{Prefix:{}}},flattened:!0},S9v:{type:"list",member:{type:"structure",members:{Key:{},LastModified:{type:"timestamp"},ETag:{},Size:{type:"integer"},StorageClass:{},Owner:{shape:"S2v"}}},flattened:!0},Sad:{type:"structure",members:{Grants:{shape:"S2y",locationName:"AccessControlList"},Owner:{shape:"S2v"}}},Saz:{type:"structure",required:["TagSet"],members:{TagSet:{shape:"S3d"}}},Sbi:{type:"structure",members:{CSV:{type:"structure",members:{FileHeaderInfo:{},Comments:{},QuoteEscapeCharacter:{},RecordDelimiter:{},FieldDelimiter:{},QuoteCharacter:{},AllowQuotedRecordDelimiter:{type:"boolean"}}},CompressionType:{},JSON:{type:"structure",members:{Type:{}}},Parquet:{type:"structure",members:{}}}},Sbx:{type:"structure",members:{CSV:{type:"structure",members:{QuoteFields:{},QuoteEscapeCharacter:{},RecordDelimiter:{},FieldDelimiter:{},QuoteCharacter:{}}},JSON:{type:"structure",members:{RecordDelimiter:{}}}}}}}},function(e){e.exports={pagination:{ListBuckets:{result_key:"Buckets"},ListMultipartUploads:{input_token:["KeyMarker","UploadIdMarker"],limit_key:"MaxUploads",more_results:"IsTruncated",output_token:["NextKeyMarker","NextUploadIdMarker"],result_key:["Uploads","CommonPrefixes"]},ListObjectVersions:{input_token:["KeyMarker","VersionIdMarker"],limit_key:"MaxKeys",more_results:"IsTruncated",output_token:["NextKeyMarker","NextVersionIdMarker"],result_key:["Versions","DeleteMarkers","CommonPrefixes"]},ListObjects:{input_token:"Marker",limit_key:"MaxKeys",more_results:"IsTruncated",output_token:"NextMarker || Contents[-1].Key",result_key:["Contents","CommonPrefixes"]},ListObjectsV2:{input_token:"ContinuationToken",limit_key:"MaxKeys",output_token:"NextContinuationToken",result_key:["Contents","CommonPrefixes"]},ListParts:{input_token:"PartNumberMarker",limit_key:"MaxParts",more_results:"IsTruncated",output_token:"NextPartNumberMarker",result_key:"Parts"}}}},function(e){e.exports={version:2,waiters:{BucketExists:{delay:5,operation:"HeadBucket",maxAttempts:20,acceptors:[{expected:200,matcher:"status",state:"success"},{expected:301,matcher:"status",state:"success"},{expected:403,matcher:"status",state:"success"},{expected:404,matcher:"status",state:"retry"}]},BucketNotExists:{delay:5,operation:"HeadBucket",maxAttempts:20,acceptors:[{expected:404,matcher:"status",state:"success"}]},ObjectExists:{delay:5,operation:"HeadObject",maxAttempts:20,acceptors:[{expected:200,matcher:"status",state:"success"},{expected:404,matcher:"status",state:"retry"}]},ObjectNotExists:{delay:5,operation:"HeadObject",maxAttempts:20,acceptors:[{expected:404,matcher:"status",state:"success"}]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(69);t.AWSS3Provider=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(214);t.APIClass=r.default,t.graphqlOperation=r.graphqlOperation;var i=n(1),o=new i.ConsoleLogger("API"),a=null;a||(o.debug("Create API Instance"),a=new r.default(null));var s=a;i.default.register(s),t.default=s},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(262),u=n(215),c=n(217),l=n(23),p=n(227),d=n(1),f=n(66),h=n(32),m=n(79),y=n(34),g=new d.ConsoleLogger("API");t.graphqlOperation=function(e,t){return void 0===t&&(t={}),{query:e,variables:t}};var v=function(){function e(e){this._api=null,this._pubSub=d.default.PubSub,this.clientIdentifier=y.v4(),this._options=e,g.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){var t=e||{},n=t.API,i=void 0===n?{}:n,o=a(t,["API"]),s=r({},o,i);if(g.debug("configure API",{opt:s}),s.aws_project_region){if(s.aws_cloud_logic_custom){var u=s.aws_cloud_logic_custom;s.endpoints="string"==typeof u?JSON.parse(u):u}s=Object.assign({},s,{region:s.aws_project_region,header:{}})}return Array.isArray(s.endpoints)||(s.endpoints=[]),s.endpoints.forEach(function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(g.warn("API "+e.name+", custom_header should be a function"),e.custom_header=void 0)}),void 0!==s.graphql_headers&&"function"!=typeof s.graphql_headers&&(g.warn("graphql_headers should be a function"),s.graphql_headers=void 0),this._options=Object.assign({},this._options,s),this.createInstance(),this._options},e.prototype.createInstance=function(){return g.debug("create API instance"),this._options?(this._api=new p.RestClient(this._options),!0):Promise.reject("API not configured")},e.prototype.get=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.get(i+t,n)]}})})},e.prototype.post=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.post(i+t,n)]}})})},e.prototype.put=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.put(i+t,n)]}})})},e.prototype.patch=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.patch(i+t,n)]}})})},e.prototype.del=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.del(i+t,n)]}})})},e.prototype.head=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if(this._api)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),[2,Promise.reject(r)];case 4:return 0===(i=this._api.endpoint(e)).length?[2,Promise.reject("API "+e+" does not exist")]:[2,this._api.head(i+t,n)]}})})},e.prototype.endpoint=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:if(this._api)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.createInstance()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),[2,Promise.reject(t)];case 4:return[2,this._api.endpoint(e)]}})})},e.prototype._headerBasedAuth=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,a,s;return o(this,function(o){switch(o.label){case 0:switch(t=this._options,n=t.aws_appsync_authenticationType,r=t.aws_appsync_apiKey,i={},e||n||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,6]}return[3,8];case 1:if(!r)throw new Error("No api-key configured");return i={Authorization:null,"X-Api-Key":r},[3,9];case 2:return[4,this._ensureCredentials()];case 3:if(!o.sent())throw new Error("No credentials");return[3,9];case 4:return[4,h.default.getItem("federatedInfo")];case 5:if(!(a=o.sent())||!a.token)throw new Error("No federated jwt");return i={Authorization:a.token},[3,9];case 6:return[4,f.default.currentSession()];case 7:return s=o.sent(),i={Authorization:s.getAccessToken().getJwtToken()},[3,9];case 8:return i={Authorization:null},[3,9];case 9:return[2,i]}})})},e.prototype.getGraphqlOperationType=function(e){return c.parse(e).definitions[0].operation},e.prototype.graphql=function(e){var t=e.query,n=e.variables,r=void 0===n?{}:n,i=e.authMode,o="string"==typeof t?c.parse(t):c.parse(u.print(t)),a=o.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0],s=(void 0===a?{}:a).operation;switch(s){case"query":case"mutation":return this._graphql({query:o,variables:r,authMode:i});case"subscription":return this._graphqlSubscribe({query:o,variables:r,authMode:i})}throw new Error("invalid operation type: "+s)},e.prototype._graphql=function(e,t){var n=e.query,a=e.variables,c=e.authMode;return void 0===t&&(t={}),i(this,void 0,void 0,function(){var e,i,l,p,d,f,h,m,y,g,v,b,S,_,E,w,I,T;return o(this,function(o){switch(o.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:o.sent(),o.label=2;case 2:return e=this._options,i=e.aws_appsync_region,l=e.aws_appsync_graphqlEndpoint,p=e.graphql_headers,d=void 0===p?function(){return{}}:p,f=e.graphql_endpoint,h=e.graphql_endpoint_iam_region,y=[{}],(g=!f)?[4,this._headerBasedAuth(c)]:[3,4];case 3:g=o.sent(),o.label=4;case 4:return y=y.concat([g]),(v=f)?h?[4,this._headerBasedAuth(c)]:[3,6]:[3,8];case 5:return b=o.sent(),[3,7];case 6:b={Authorization:null},o.label=7;case 7:v=b,o.label=8;case 8:return y=y.concat([v,t]),[4,d({query:n,variables:a})];case 9:if(m=r.apply(void 0,y.concat([o.sent()])),S={query:u.print(n),variables:a},_={headers:m,body:S,signerServiceInfo:{service:f?"execute-api":"appsync",region:f?h:i}},!(E=f||l))throw{data:{},errors:[new s.GraphQLError("No graphql endpoint provided.")]};o.label=10;case 10:return o.trys.push([10,12,,13]),[4,this._api.post(E,_)];case 11:return w=o.sent(),[3,13];case 12:return I=o.sent(),w={data:{},errors:[new s.GraphQLError(I.message)]},[3,13];case 13:if((T=w.errors)&&T.length)throw w;return[2,w]}})})},e.prototype._graphqlSubscribe=function(e){var t=this,n=e.query,a=e.variables,u=e.authMode;if(d.default.PubSub&&"function"==typeof d.default.PubSub.subscribe)return new l(function(e){var c=null;return i(t,void 0,void 0,function(){var t,i,l,p,f,h,y;return o(this,function(o){switch(o.label){case 0:t=this._options.aws_appsync_authenticationType,i=r({},"API_KEY"===(u||t)?{"x-amz-subscriber-id":this.clientIdentifier}:{}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._graphql({query:n,variables:a,authMode:u},i)];case 2:return l=o.sent().extensions.subscription,p=l.newSubscriptions,f=Object.getOwnPropertyNames(p).map(function(e){return p[e].topic}),h=d.default.PubSub.subscribe(f,r({},l,{provider:m.INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER})),c=h.subscribe({next:function(t){return e.next(t)},complete:function(){return e.complete()},error:function(t){var n=r({},t);n.errors||(n.errors=[r({},new s.GraphQLError("Network Error"))]),e.error(n)}}),[3,4];case 3:return y=o.sent(),e.error(y),[3,4];case 4:return[2]}})}),function(){c&&c.unsubscribe()}});throw g.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){return d.Credentials.get().then(function(e){if(!e)return!1;var t=d.Credentials.shear(e);return g.debug("set credentials for api",t),!0}).catch(function(e){return g.warn("ensure credentials error",e),!1})},e}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:i})};var r=n(216);var i={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=u("(",a(e.variableDefinitions,", "),")"),i=a(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?a([t,a([n,r]),i,o]," "):o},VariableDefinition:function(e){return e.variable+": "+e.type+u(" = ",e.defaultValue)},SelectionSet:function(e){return s(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return a([u("",t,": ")+n+u("(",a(r,", "),")"),a(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return a(["...",u("on ",t),a(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment "+t+u("(",a(r,", "),")")+" on "+n+" "+u("",a(i," ")," ")+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'+(t?n:c(n))+'\n"""':'"""'+n.replace(/"$/,'"\n')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return a(["schema",a(t," "),s(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o(function(e){return a(["scalar",e.name,a(e.directives," ")]," ")}),ObjectTypeDefinition:o(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["type",t,u("implements ",a(n," & ")),a(r," "),s(i)]," ")}),FieldDefinition:o(function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+u("(",a(n,", "),")")+": "+r+u(" ",a(i," "))}),InputValueDefinition:o(function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return a([t+": "+n,u("= ",r),a(i," ")]," ")}),InterfaceTypeDefinition:o(function(e){var t=e.name,n=e.directives,r=e.fields;return a(["interface",t,a(n," "),s(r)]," ")}),UnionTypeDefinition:o(function(e){var t=e.name,n=e.directives,r=e.types;return a(["union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")}),EnumTypeDefinition:o(function(e){var t=e.name,n=e.directives,r=e.values;return a(["enum",t,a(n," "),s(r)]," ")}),EnumValueDefinition:o(function(e){return a([e.name,a(e.directives," ")]," ")}),InputObjectTypeDefinition:o(function(e){var t=e.name,n=e.directives,r=e.fields;return a(["input",t,a(n," "),s(r)]," ")}),ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["extend type",t,u("implements ",a(n," & ")),a(r," "),s(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend interface",t,a(n," "),s(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return a(["extend union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return a(["extend enum",t,a(n," "),s(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend input",t,a(n," "),s(r)]," ")},DirectiveDefinition:o(function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+u("(",a(n,", "),")")+" on "+a(r," | ")})};function o(e){return function(t){return a([t.description,e(t)],"\n")}}function a(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function s(e){return e&&0!==e.length?"{\n"+c(a(e,"\n"))+"\n}":""}function u(e,t,n){return t?e+t+(n||""):""}function c(e){return e&&"  "+e.replace(/\n/g,"\n  ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=void 0,u=Array.isArray(e),c=[e],l=-1,p=[],d=void 0,f=void 0,h=void 0,m=[],y=[],g=e;do{var v=++l===c.length,b=v&&0!==p.length;if(v){if(f=0===y.length?void 0:m[m.length-1],d=h,h=y.pop(),b){if(u)d=d.slice();else{var S={};for(var _ in d)d.hasOwnProperty(_)&&(S[_]=d[_]);d=S}for(var E=0,w=0;w<p.length;w++){var I=p[w][0],T=p[w][1];u&&(I-=E),u&&null===T?(d.splice(I,1),E++):d[I]=T}}l=s.index,c=s.keys,p=s.edits,u=s.inArray,s=s.prev}else{if(f=h?u?l:c[l]:void 0,null==(d=h?h[f]:g))continue;h&&m.push(f)}var C=void 0;if(!Array.isArray(d)){if(!o(d))throw new Error("Invalid AST Node: "+JSON.stringify(d));var N=a(t,d.kind,v);if(N){if((C=N.call(t,d,f,h,m,y))===i)break;if(!1===C){if(!v){m.pop();continue}}else if(void 0!==C&&(p.push([f,C]),!v)){if(!o(C)){m.pop();continue}d=C}}}void 0===C&&b&&p.push([f,d]),v?m.pop():(s={inArray:u,index:l,keys:c,edits:p,prev:s},u=Array.isArray(d),c=u?d:n[d.kind]||[],l=-1,p=[],h&&y.push(h),h=d)}while(void 0!==s);0!==p.length&&(g=p[p.length-1][1]);return g},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var o=a(e[r],n.kind,!1);if(o){var s=o.apply(e[r],arguments);if(!1===s)t[r]=n;else if(s===i)t[r]=i;else if(void 0!==s)return s}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var o=a(e[r],n.kind,!0);if(o){var s=o.apply(e[r],arguments);if(s===i)t[r]=i;else if(void 0!==s&&!1!==s)return s}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=a(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),o(i)&&e.enter(i)),i}},leave:function(n){var r=a(t,n.kind,!0),i=void 0;return r&&(i=r.apply(t,arguments)),e.leave(n),i}}},t.getVisitFn=a;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},i=t.BREAK={};function o(e){return Boolean(e&&"string"==typeof e.kind)}function a(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var n="string"==typeof e?new r.Source(e):e;if(!(n instanceof r.Source))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;Y(e,o.TokenKind.SOF);var n=[];do{n.push(c(e))}while(!J(e,o.TokenKind.EOF));return{kind:a.Kind.DOCUMENT,definitions:n,loc:G(e,t)}}((0,o.createLexer)(n,t||{}))},t.parseValue=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});Y(i,o.TokenKind.SOF);var a=E(i,!1);return Y(i,o.TokenKind.EOF),a},t.parseType=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});Y(i,o.TokenKind.SOF);var a=k(i);return Y(i,o.TokenKind.EOF),a},t.parseConstValue=I,t.parseTypeReference=k,t.parseNamedType=P;var r=n(218),i=n(71),o=n(222),a=n(224),s=n(225);function u(e){var t=Y(e,o.TokenKind.NAME);return{kind:a.Kind.NAME,value:t.value,loc:G(e,t)}}function c(e){if(W(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return l(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return R(e)}else{if(W(e,o.TokenKind.BRACE_L))return l(e);if(O(e))return R(e)}throw Q(e)}function l(e){if(W(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return p(e);case"fragment":return function(e){var t=e.token;if(X(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:a.Kind.FRAGMENT_DEFINITION,name:_(e),variableDefinitions:f(e),typeCondition:(X(e,"on"),P(e)),directives:N(e,!1),selectionSet:y(e),loc:G(e,t)};return{kind:a.Kind.FRAGMENT_DEFINITION,name:_(e),typeCondition:(X(e,"on"),P(e)),directives:N(e,!1),selectionSet:y(e),loc:G(e,t)}}(e)}else if(W(e,o.TokenKind.BRACE_L))return p(e);throw Q(e)}function p(e){var t=e.token;if(W(e,o.TokenKind.BRACE_L))return{kind:a.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:y(e),loc:G(e,t)};var n=d(e),r=void 0;return W(e,o.TokenKind.NAME)&&(r=u(e)),{kind:a.Kind.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:f(e),directives:N(e,!1),selectionSet:y(e),loc:G(e,t)}}function d(e){var t=Y(e,o.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Q(e,t)}function f(e){return W(e,o.TokenKind.PAREN_L)?Z(e,o.TokenKind.PAREN_L,h,o.TokenKind.PAREN_R):[]}function h(e){var t=e.token;return{kind:a.Kind.VARIABLE_DEFINITION,variable:m(e),type:(Y(e,o.TokenKind.COLON),k(e)),defaultValue:J(e,o.TokenKind.EQUALS)?E(e,!0):void 0,loc:G(e,t)}}function m(e){var t=e.token;return Y(e,o.TokenKind.DOLLAR),{kind:a.Kind.VARIABLE,name:u(e),loc:G(e,t)}}function y(e){var t=e.token;return{kind:a.Kind.SELECTION_SET,selections:Z(e,o.TokenKind.BRACE_L,g,o.TokenKind.BRACE_R),loc:G(e,t)}}function g(e){return W(e,o.TokenKind.SPREAD)?function(e){var t=e.token;if(Y(e,o.TokenKind.SPREAD),W(e,o.TokenKind.NAME)&&"on"!==e.token.value)return{kind:a.Kind.FRAGMENT_SPREAD,name:_(e),directives:N(e,!1),loc:G(e,t)};var n=void 0;"on"===e.token.value&&(e.advance(),n=P(e));return{kind:a.Kind.INLINE_FRAGMENT,typeCondition:n,directives:N(e,!1),selectionSet:y(e),loc:G(e,t)}}(e):function(e){var t=e.token,n=u(e),r=void 0,i=void 0;J(e,o.TokenKind.COLON)?(r=n,i=u(e)):i=n;return{kind:a.Kind.FIELD,alias:r,name:i,arguments:v(e,!1),directives:N(e,!1),selectionSet:W(e,o.TokenKind.BRACE_L)?y(e):void 0,loc:G(e,t)}}(e)}function v(e,t){var n=t?S:b;return W(e,o.TokenKind.PAREN_L)?Z(e,o.TokenKind.PAREN_L,n,o.TokenKind.PAREN_R):[]}function b(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:u(e),value:(Y(e,o.TokenKind.COLON),E(e,!1)),loc:G(e,t)}}function S(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:u(e),value:(Y(e,o.TokenKind.COLON),I(e)),loc:G(e,t)}}function _(e){if("on"===e.token.value)throw Q(e);return u(e)}function E(e,t){var n=e.token;switch(n.kind){case o.TokenKind.BRACKET_L:return function(e,t){var n=e.token,r=t?I:T;return{kind:a.Kind.LIST,values:$(e,o.TokenKind.BRACKET_L,r,o.TokenKind.BRACKET_R),loc:G(e,n)}}(e,t);case o.TokenKind.BRACE_L:return function(e,t){var n=e.token;Y(e,o.TokenKind.BRACE_L);var r=[];for(;!J(e,o.TokenKind.BRACE_R);)r.push(C(e,t));return{kind:a.Kind.OBJECT,fields:r,loc:G(e,n)}}(e,t);case o.TokenKind.INT:return e.advance(),{kind:a.Kind.INT,value:n.value,loc:G(e,n)};case o.TokenKind.FLOAT:return e.advance(),{kind:a.Kind.FLOAT,value:n.value,loc:G(e,n)};case o.TokenKind.STRING:case o.TokenKind.BLOCK_STRING:return w(e);case o.TokenKind.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:a.Kind.BOOLEAN,value:"true"===n.value,loc:G(e,n)}):"null"===n.value?(e.advance(),{kind:a.Kind.NULL,loc:G(e,n)}):(e.advance(),{kind:a.Kind.ENUM,value:n.value,loc:G(e,n)});case o.TokenKind.DOLLAR:if(!t)return m(e)}throw Q(e)}function w(e){var t=e.token;return e.advance(),{kind:a.Kind.STRING,value:t.value,block:t.kind===o.TokenKind.BLOCK_STRING,loc:G(e,t)}}function I(e){return E(e,!0)}function T(e){return E(e,!1)}function C(e,t){var n=e.token;return{kind:a.Kind.OBJECT_FIELD,name:u(e),value:(Y(e,o.TokenKind.COLON),E(e,t)),loc:G(e,n)}}function N(e,t){for(var n=[];W(e,o.TokenKind.AT);)n.push(A(e,t));return n}function A(e,t){var n=e.token;return Y(e,o.TokenKind.AT),{kind:a.Kind.DIRECTIVE,name:u(e),arguments:v(e,t),loc:G(e,n)}}function k(e){var t=e.token,n=void 0;return J(e,o.TokenKind.BRACKET_L)?(n=k(e),Y(e,o.TokenKind.BRACKET_R),n={kind:a.Kind.LIST_TYPE,type:n,loc:G(e,t)}):n=P(e),J(e,o.TokenKind.BANG)?{kind:a.Kind.NON_NULL_TYPE,type:n,loc:G(e,t)}:n}function P(e){var t=e.token;return{kind:a.Kind.NAMED_TYPE,name:u(e),loc:G(e,t)}}function R(e){var t=O(e)?e.lookahead():e.token;if(t.kind===o.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;X(e,"schema");var n=N(e,!0),r=Z(e,o.TokenKind.BRACE_L,D,o.TokenKind.BRACE_R);return{kind:a.Kind.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:G(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=x(e);X(e,"scalar");var r=u(e),i=N(e,!0);return{kind:a.Kind.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:G(e,t)}}(e);case"type":return function(e){var t=e.token,n=x(e);X(e,"type");var r=u(e),i=U(e),o=N(e,!0),s=M(e);return{kind:a.Kind.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s,loc:G(e,t)}}(e);case"interface":return function(e){var t=e.token,n=x(e);X(e,"interface");var r=u(e),i=N(e,!0),o=M(e);return{kind:a.Kind.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:G(e,t)}}(e);case"union":return function(e){var t=e.token,n=x(e);X(e,"union");var r=u(e),i=N(e,!0),o=F(e);return{kind:a.Kind.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:G(e,t)}}(e);case"enum":return function(e){var t=e.token,n=x(e);X(e,"enum");var r=u(e),i=N(e,!0),o=j(e);return{kind:a.Kind.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:G(e,t)}}(e);case"input":return function(e){var t=e.token,n=x(e);X(e,"input");var r=u(e),i=N(e,!0),o=K(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:G(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===o.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;X(e,"extend"),X(e,"scalar");var n=u(e),r=N(e,!0);if(0===r.length)throw Q(e);return{kind:a.Kind.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:G(e,t)}}(e);case"type":return function(e){var t=e.token;X(e,"extend"),X(e,"type");var n=u(e),r=U(e),i=N(e,!0),o=M(e);if(0===r.length&&0===i.length&&0===o.length)throw Q(e);return{kind:a.Kind.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:G(e,t)}}(e);case"interface":return function(e){var t=e.token;X(e,"extend"),X(e,"interface");var n=u(e),r=N(e,!0),i=M(e);if(0===r.length&&0===i.length)throw Q(e);return{kind:a.Kind.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:G(e,t)}}(e);case"union":return function(e){var t=e.token;X(e,"extend"),X(e,"union");var n=u(e),r=N(e,!0),i=F(e);if(0===r.length&&0===i.length)throw Q(e);return{kind:a.Kind.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:G(e,t)}}(e);case"enum":return function(e){var t=e.token;X(e,"extend"),X(e,"enum");var n=u(e),r=N(e,!0),i=j(e);if(0===r.length&&0===i.length)throw Q(e);return{kind:a.Kind.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:G(e,t)}}(e);case"input":return function(e){var t=e.token;X(e,"extend"),X(e,"input");var n=u(e),r=N(e,!0),i=K(e);if(0===r.length&&0===i.length)throw Q(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:G(e,t)}}(e)}throw Q(e,t)}(e);case"directive":return function(e){var t=e.token,n=x(e);X(e,"directive"),Y(e,o.TokenKind.AT);var r=u(e),i=L(e);X(e,"on");var s=function(e){J(e,o.TokenKind.PIPE);var t=[];do{t.push(z(e))}while(J(e,o.TokenKind.PIPE));return t}(e);return{kind:a.Kind.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:s,loc:G(e,t)}}(e)}throw Q(e,t)}function O(e){return W(e,o.TokenKind.STRING)||W(e,o.TokenKind.BLOCK_STRING)}function x(e){if(O(e))return w(e)}function D(e){var t=e.token,n=d(e);Y(e,o.TokenKind.COLON);var r=P(e);return{kind:a.Kind.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:G(e,t)}}function U(e){var t=[];if("implements"===e.token.value){e.advance(),J(e,o.TokenKind.AMP);do{t.push(P(e))}while(J(e,o.TokenKind.AMP)||e.options.allowLegacySDLImplementsInterfaces&&W(e,o.TokenKind.NAME))}return t}function M(e){return e.options.allowLegacySDLEmptyFields&&W(e,o.TokenKind.BRACE_L)&&e.lookahead().kind===o.TokenKind.BRACE_R?(e.advance(),e.advance(),[]):W(e,o.TokenKind.BRACE_L)?Z(e,o.TokenKind.BRACE_L,q,o.TokenKind.BRACE_R):[]}function q(e){var t=e.token,n=x(e),r=u(e),i=L(e);Y(e,o.TokenKind.COLON);var s=k(e),c=N(e,!0);return{kind:a.Kind.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:c,loc:G(e,t)}}function L(e){return W(e,o.TokenKind.PAREN_L)?Z(e,o.TokenKind.PAREN_L,B,o.TokenKind.PAREN_R):[]}function B(e){var t=e.token,n=x(e),r=u(e);Y(e,o.TokenKind.COLON);var i=k(e),s=void 0;J(e,o.TokenKind.EQUALS)&&(s=I(e));var c=N(e,!0);return{kind:a.Kind.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:c,loc:G(e,t)}}function F(e){var t=[];if(J(e,o.TokenKind.EQUALS)){J(e,o.TokenKind.PIPE);do{t.push(P(e))}while(J(e,o.TokenKind.PIPE))}return t}function j(e){return W(e,o.TokenKind.BRACE_L)?Z(e,o.TokenKind.BRACE_L,V,o.TokenKind.BRACE_R):[]}function V(e){var t=e.token,n=x(e),r=u(e),i=N(e,!0);return{kind:a.Kind.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:G(e,t)}}function K(e){return W(e,o.TokenKind.BRACE_L)?Z(e,o.TokenKind.BRACE_L,B,o.TokenKind.BRACE_R):[]}function z(e){var t=e.token,n=u(e);if(s.DirectiveLocation.hasOwnProperty(n.value))return n;throw Q(e,t)}function G(e,t){if(!e.options.noLocation)return new H(t,e.lastToken,e.source)}function H(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function W(e,t){return e.token.kind===t}function J(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Y(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,"Expected "+t+", found "+(0,o.getTokenDesc)(n))}function X(e,t){var n=e.token;if(n.kind===o.TokenKind.NAME&&n.value===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,o.getTokenDesc)(n))}function Q(e,t){var n=t||e.token;return(0,i.syntaxError)(e.source,n.start,"Unexpected "+(0,o.getTokenDesc)(n))}function $(e,t,n,r){Y(e,t);for(var i=[];!J(e,r);)i.push(n(e));return i}function Z(e,t,n,r){Y(e,t);for(var i=[n(e)];!J(e,r);)i.push(n(e));return i}H.prototype.toJSON=H.prototype.inspect=function(){return{start:this.start,end:this.end}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r,i=n(70),o=(r=i)&&r.__esModule?r:{default:r};t.Source=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t,this.name=n||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||(0,o.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,o.default)(0,"column in locationOffset is 1-indexed and must be positive")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: "+n,void 0,e,[t])};var r=n(36)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,n){if(e&&Array.isArray(e.path))return e;return new r.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)};var r=n(36)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatError=function(e){return e||(0,a.default)(0,"Received null or undefined error."),r({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var i,o=n(70),a=(i=o)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var n=new d(c.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:s,lookahead:u}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var r,i=n(71),o=n(223),a=(r=o)&&r.__esModule?r:{default:r};function s(){return this.lastToken=this.token,this.token=this.lookahead()}function u(){var e=this.token;if(e.kind!==c.EOF)do{e=e.next||(e.next=h(this,e))}while(e.kind===c.COMMENT);return e}var c=t.TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});var l=String.prototype.charCodeAt,p=String.prototype.slice;function d(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function f(e){return isNaN(e)?c.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function h(e,t){var n=e.source,r=n.body,o=r.length,s=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=l.call(e,i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===l.call(e,i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),u=e.line,h=1+s-e.lineStart;if(s>=o)return new d(c.EOF,o,o,u,h,t);var g=l.call(r,s);if(g<32&&9!==g&&10!==g&&13!==g)throw(0,i.syntaxError)(n,s,"Cannot contain the invalid character "+f(g)+".");switch(g){case 33:return new d(c.BANG,s,s+1,u,h,t);case 35:return function(e,t,n,r,i){var o=e.body,a=void 0,s=t;do{a=l.call(o,++s)}while(null!==a&&(a>31||9===a));return new d(c.COMMENT,t,s,n,r,i,p.call(o,t+1,s))}(n,s,u,h,t);case 36:return new d(c.DOLLAR,s,s+1,u,h,t);case 38:return new d(c.AMP,s,s+1,u,h,t);case 40:return new d(c.PAREN_L,s,s+1,u,h,t);case 41:return new d(c.PAREN_R,s,s+1,u,h,t);case 46:if(46===l.call(r,s+1)&&46===l.call(r,s+2))return new d(c.SPREAD,s,s+3,u,h,t);break;case 58:return new d(c.COLON,s,s+1,u,h,t);case 61:return new d(c.EQUALS,s,s+1,u,h,t);case 64:return new d(c.AT,s,s+1,u,h,t);case 91:return new d(c.BRACKET_L,s,s+1,u,h,t);case 93:return new d(c.BRACKET_R,s,s+1,u,h,t);case 123:return new d(c.BRACE_L,s,s+1,u,h,t);case 124:return new d(c.PIPE,s,s+1,u,h,t);case 125:return new d(c.BRACE_R,s,s+1,u,h,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&null!==(u=l.call(o,s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new d(c.NAME,t,s,n,r,i,p.call(o,t,s))}(n,s,u,h,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,a){var s=e.body,u=n,h=t,y=!1;45===u&&(u=l.call(s,++h));if(48===u){if((u=l.call(s,++h))>=48&&u<=57)throw(0,i.syntaxError)(e,h,"Invalid number, unexpected digit after 0: "+f(u)+".")}else h=m(e,h,u),u=l.call(s,h);46===u&&(y=!0,u=l.call(s,++h),h=m(e,h,u),u=l.call(s,h));69!==u&&101!==u||(y=!0,43!==(u=l.call(s,++h))&&45!==u||(u=l.call(s,++h)),h=m(e,h,u));return new d(y?c.FLOAT:c.INT,t,h,r,o,a,p.call(s,t,h))}(n,s,g,u,h,t);case 34:return 34===l.call(r,s+1)&&34===l.call(r,s+2)?function(e,t,n,r,o){var s=e.body,u=t+3,h=u,m=0,y="";for(;u<s.length&&null!==(m=l.call(s,u));){if(34===m&&34===l.call(s,u+1)&&34===l.call(s,u+2))return y+=p.call(s,h,u),new d(c.BLOCK_STRING,t,u+3,n,r,o,(0,a.default)(y));if(m<32&&9!==m&&10!==m&&13!==m)throw(0,i.syntaxError)(e,u,"Invalid character within String: "+f(m)+".");92===m&&34===l.call(s,u+1)&&34===l.call(s,u+2)&&34===l.call(s,u+3)?(y+=p.call(s,h,u)+'"""',h=u+=4):++u}throw(0,i.syntaxError)(e,u,"Unterminated string.")}(n,s,u,h,t):function(e,t,n,r,o){var a=e.body,s=t+1,u=s,h=0,m="";for(;s<a.length&&null!==(h=l.call(a,s))&&10!==h&&13!==h;){if(34===h)return m+=p.call(a,u,s),new d(c.STRING,t,s+1,n,r,o,m);if(h<32&&9!==h)throw(0,i.syntaxError)(e,s,"Invalid character within String: "+f(h)+".");if(++s,92===h){switch(m+=p.call(a,u,s-1),h=l.call(a,s)){case 34:m+='"';break;case 47:m+="/";break;case 92:m+="\\";break;case 98:m+="\b";break;case 102:m+="\f";break;case 110:m+="\n";break;case 114:m+="\r";break;case 116:m+="\t";break;case 117:var g=(v=l.call(a,s+1),b=l.call(a,s+2),S=l.call(a,s+3),_=l.call(a,s+4),y(v)<<12|y(b)<<8|y(S)<<4|y(_));if(g<0)throw(0,i.syntaxError)(e,s,"Invalid character escape sequence: \\u"+a.slice(s+1,s+5)+".");m+=String.fromCharCode(g),s+=4;break;default:throw(0,i.syntaxError)(e,s,"Invalid character escape sequence: \\"+String.fromCharCode(h)+".")}u=++s}}var v,b,S,_;throw(0,i.syntaxError)(e,s,"Unterminated string.")}(n,s,u,h,t)}throw(0,i.syntaxError)(n,s,function(e){if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character "+f(e)+"."}(g))}function m(e,t,n){var r=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=l.call(r,++o)}while(a>=48&&a<=57);return o}throw(0,i.syntaxError)(e,o,"Invalid number, expected digit but got: "+f(a)+".")}function y(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}d.prototype.toJSON=d.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function i(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,o=1;o<t.length;o++){var a=t[o],s=r(a);if(s<a.length&&(null===n||s<n)&&0===(n=s))break}if(n)for(var u=1;u<t.length;u++)t[u]=t[u].slice(n);for(;t.length>0&&i(t[0]);)t.shift();for(;t.length>0&&i(t[t.length-1]);)t.pop();return t.join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",VARIABLE:"Variable",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension",DIRECTIVE_DEFINITION:"DirectiveDefinition"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function p(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function f(e){return e instanceof E}function h(e){h.log?h.log(e):setTimeout(function(){throw e})}function m(e){Promise.resolve().then(function(){try{e()}catch(e){h(e)}})}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=p(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var i=p(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){h(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void v(e,t,n);e._queue.push({type:t,value:n})}}var S=function(){function e(t,n){i(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new _(this);try{this._cleanup=n.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return r(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),_=function(){function e(t){i(this,e),this._subscription=t}return r(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=t.Observable=function(){function e(t){if(i(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return r(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new S(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1];return new n(function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i(function(t){var r=void 0,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n(function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),o.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=p(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return f(i)&&i.constructor===n?i:new n(function(e){return i.subscribe(e)})}if(a("iterator")&&(r=p(t,u)))return new n(function(e){m(function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}e.complete()}})});if(Array.isArray(t))return new n(function(e){m(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)(function(e){m(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})}},{key:l,get:function(){return this}}]),e}();o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(228),c=new s.ConsoleLogger("RestClient"),l=n(17),p=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0;e.endpoints;this._options=e,c.debug("API Options",this._options)}return e.prototype.ajax=function(e,t,n){return i(this,void 0,void 0,function(){var i,u,p,d,f,h,m,y,g,v,b=this;return o(this,function(o){switch(o.label){case 0:return c.debug(t+" "+e),i=this._parseUrl(e),u={method:t,url:e,host:i.host,path:i.path,headers:{},data:null,responseType:"json"},p={},s.Platform.isReactNative&&(d=s.Platform.userAgent||"aws-amplify/0.1.x",p={"User-Agent":d}),f=Object.assign({},n),h=f.response,f.body&&(p["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body)),f.responseType&&(u.responseType=f.responseType),u.signerServiceInfo=f.signerServiceInfo,this._custom_header?[4,this._custom_header()]:[3,2];case 1:return y=o.sent(),[3,3];case 2:y=void 0,o.label=3;case 3:return m=y,u.headers=r({},p,m,f.headers),g=l.parse(e,!0,!0),g.search,v=a(g,["search"]),u.url=l.format(r({},v,{query:r({},v.query,f.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce(function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e},{}),[2,this._request(u,h)]):[2,s.Credentials.get().then(function(e){return b._signed(r({},u),e,h)},function(e){return c.debug("No credentials available, the request will be unsigned"),b._request(u,h)})]}})})},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach(function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)}),r):r},e.prototype._signed=function(e,t,n){var r=e.signerServiceInfo,i=a(e,["signerServiceInfo"]),o=this._region||this._options.region,l=this._service||this._options.service,p={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},d={region:o,service:l},f=Object.assign(d,r),h=s.Signer.sign(i,p,f);return h.data&&(h.body=h.data),c.debug("Signed Request: ",h),delete h.headers.host,u.default(h).then(function(e){return n?e:e.data}).catch(function(e){throw c.debug(e),e})},e.prototype._request=function(e,t){return void 0===t&&(t=!1),u.default(e).then(function(e){return t?e:e.data}).catch(function(e){throw c.debug(e),e})},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}();t.RestClient=p},function(e,t,n){e.exports=n(229)},function(e,t,n){"use strict";var r=n(8),i=n(74),o=n(231),a=n(37);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=o,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n(78),u.CancelToken=n(245),u.isCancel=n(77),u.all=function(e){return Promise.all(e)},u.spread=n(246),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(37),i=n(8),o=n(240),a=n(241);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(76);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(8);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(8);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new i;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(8);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(8);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(8),i=n(242),o=n(77),a=n(37),s=n(243),u=n(244);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(78);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(248);t.PubSubClass=r.default;var i=n(1),o=new i.ConsoleLogger("PubSub"),a=null;a||(o.debug("Create PubSub Instance"),a=new r.default(null));var s=a;i.default.register(s),t.default=s,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(81))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(1),s=n(79),u=n(249),c=new a.ConsoleLogger("PubSub"),l=function(){function e(e){this._options=e,c.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new u.AWSAppSyncProvider),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return c.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(e){return e.configure(t._options)}),this._options},e.prototype.addPluggable=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]})})},e.prototype.getProviderByName=function(e){return e===s.INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER?this.awsAppSyncProvider:this._pluggables.find(function(t){return t.getProviderName()===e})},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return[2,this.getProviders(n).map(function(r){return r.publish(e,t,n)})]})})},e.prototype.subscribe=function(e,t){c.debug("subscribe options",t);var n=this.getProviders(t);return new o(function(r){var i=n.map(function(n){return{provider:n,observable:n.subscribe(e,t)}}).map(function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})});return function(){return i.forEach(function(e){return e.unsubscribe()})}})},e}();t.default=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(80)),r(n(250)),r(n(81)),r(n(38))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var u=n(23),c=n(1),l=n(38),p=new c.ConsoleLogger("AWSAppSyncProvider"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return i(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return o(this,void 0,void 0,function(){return a(this,function(e){throw new Error("Operation not supported")})})},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter(function(t){return t[1].clientId===e}).map(function(e){return e[0]}).forEach(function(e){return t._cleanUpForTopic(e)})},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=s(e,["clientId","errorCode"]);0!==r&&(Array.from(this._topicClient.entries()).filter(function(e){return e[1].clientId===n}).map(function(e){return e[0]}).forEach(function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach(function(e){e.closed||e.error(i)}),t._topicObservers.delete(e))}),this._cleanUp(n))},t.prototype.disconnect=function(t){return o(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,function(){return null})];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}})})},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new u(function(r){var i=[].concat(e);return p.debug("Subscribing to topic(s)",i.join(",")),o(n,void 0,void 0,function(){var e,n,s,u,c,l=this;return a(this,function(p){switch(p.label){case 0:return i.forEach(function(e){l._topicObservers.has(e)||l._topicObservers.set(e,new Set),l._topicObservers.get(e).add(r)}),e=t.mqttConnections,n=void 0===e?[]:e,s=t.newSubscriptions,u=Object.entries(s).map(function(e){var t=e[0];return[e[1].topic,t]}),this._topicAlias=new Map(Array.from(this._topicAlias.entries()).concat(u)),c=Object.entries(i.reduce(function(e,t){var r=n.find(function(e){return e.topics.indexOf(t)>-1});if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e},{})),[4,Promise.all(c.map(function(e){var t=e[0],n=e[1],r=n.url,i=n.topics;return o(l,void 0,void 0,function(){var e,n=this;return a(this,function(o){switch(o.label){case 0:return[4,this.connect(t,{clientId:t,url:r})];case 1:return e=o.sent(),i.forEach(function(t){e.isConnected()&&(e.subscribe(t),n._topicClient.set(t,e))}),[2,e]}})})}))];case 1:return p.sent(),[2]}})}),function(){p.debug("Unsubscribing from topic(s)",i.join(",")),i.forEach(function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some(function(e){return e===t})||n.disconnect(t.clientId)),n._topicObservers.delete(e)})}});return u.from(r).map(function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce(function(e,t){var n=t[0],i=t[1];return e[r||n]=i,e},{}),e})},t}(l.MqttOverWSProvider);t.AWSAppSyncProvider=d},function(e,t,n){(function(t){var n;n=function(){var e=function(t){var n,r=t.localStorage||(n={},{setItem:function(e,t){n[e]=t},getItem:function(e){return n[e]},removeItem:function(e){delete n[e]}}),i={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},o=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(r=r+" "+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(c(s.INVALID_TYPE,[typeof e[n],n]))}},a=function(e,t){return function(){return e.apply(t,arguments)}},s={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},u={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},c=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r="{"+o+"}",(i=n.indexOf(r))>0){var a=n.substring(0,i),s=n.substring(i+r.length);n=a+t[o]+s}return n},l=[0,6,77,81,73,115,100,112,3],p=[0,4,77,81,84,84,4],d=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function f(t,n){var r,o=n,a=t[n],s=a>>4,u=a&=15;n+=1;var c=0,l=1;do{if(n==t.length)return[null,o];c+=(127&(r=t[n++]))*l,l*=128}while(0!=(128&r));var p=n+c;if(p>t.length)return[null,o];var f=new d(s);switch(s){case i.CONNACK:1&t[n++]&&(f.sessionPresent=!0),f.returnCode=t[n++];break;case i.PUBLISH:var h=u>>1&3,m=y(t,n),g=b(t,n+=2,m);n+=m,h>0&&(f.messageIdentifier=y(t,n),n+=2);var v=new e.Message(t.subarray(n,p));1==(1&u)&&(v.retained=!0),8==(8&u)&&(v.duplicate=!0),v.qos=h,v.destinationName=g,f.payloadMessage=v;break;case i.PUBACK:case i.PUBREC:case i.PUBREL:case i.PUBCOMP:case i.UNSUBACK:f.messageIdentifier=y(t,n);break;case i.SUBACK:f.messageIdentifier=y(t,n),n+=2,f.returnCode=t.subarray(n,p)}return[f,p]}function h(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function m(e,t,n,r){return v(e,n,r=h(t,n,r)),r+t}function y(e,t){return 256*e[t]+e[t+1]}function g(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function v(e,t,n){for(var r=n,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var a=e.charCodeAt(++i);if(isNaN(a))throw new Error(c(s.MALFORMED_UNICODE,[o,a]));o=a-56320+(o-55296<<10)+65536}o<=127?t[r++]=o:o<=2047?(t[r++]=o>>6&31|192,t[r++]=63&o|128):o<=65535?(t[r++]=o>>12&15|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}function b(e,t,n){for(var r,i="",o=t;o<t+n;){var a=e[o++];if(a<128)r=a;else{var u=e[o++]-128;if(u<0)throw new Error(c(s.MALFORMED_UTF,[a.toString(16),u.toString(16),""]));if(a<224)r=64*(a-192)+u;else{var l=e[o++]-128;if(l<0)throw new Error(c(s.MALFORMED_UTF,[a.toString(16),u.toString(16),l.toString(16)]));if(a<240)r=4096*(a-224)+64*u+l;else{var p=e[o++]-128;if(p<0)throw new Error(c(s.MALFORMED_UTF,[a.toString(16),u.toString(16),l.toString(16),p.toString(16)]));if(!(a<248))throw new Error(c(s.MALFORMED_UTF,[a.toString(16),u.toString(16),l.toString(16),p.toString(16)]));r=262144*(a-240)+4096*u+64*l+p}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}d.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,r=[],o=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case i.CONNECT:switch(this.mqttVersion){case 3:n+=l.length+3;break;case 4:n+=p.length+3}n+=g(this.clientId)+2,void 0!==this.willMessage&&(n+=g(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(s)),n+=e.byteLength+2),void 0!==this.userName&&(n+=g(this.userName)+2),void 0!==this.password&&(n+=g(this.password)+2);break;case i.SUBSCRIBE:t|=2;for(var a=0;a<this.topics.length;a++)r[a]=g(this.topics[a]),n+=r[a]+2;n+=this.requestedQos.length;break;case i.UNSUBSCRIBE:t|=2;for(a=0;a<this.topics.length;a++)r[a]=g(this.topics[a]),n+=r[a]+2;break;case i.PUBREL:t|=2;break;case i.PUBLISH:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(o=g(this.payloadMessage.destinationName))+2;var s=this.payloadMessage.payloadBytes;n+=s.byteLength,s instanceof ArrayBuffer?s=new Uint8Array(s):s instanceof Uint8Array||(s=new Uint8Array(s.buffer));break;case i.DISCONNECT:}var u=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),c=u.length+1,d=new ArrayBuffer(n+c),f=new Uint8Array(d);if(f[0]=t,f.set(u,1),this.type==i.PUBLISH)c=m(this.payloadMessage.destinationName,o,f,c);else if(this.type==i.CONNECT){switch(this.mqttVersion){case 3:f.set(l,c),c+=l.length;break;case 4:f.set(p,c),c+=p.length}var y=0;this.cleanSession&&(y=2),void 0!==this.willMessage&&(y|=4,y|=this.willMessage.qos<<3,this.willMessage.retained&&(y|=32)),void 0!==this.userName&&(y|=128),void 0!==this.password&&(y|=64),f[c++]=y,c=h(this.keepAliveInterval,f,c)}switch(void 0!==this.messageIdentifier&&(c=h(this.messageIdentifier,f,c)),this.type){case i.CONNECT:c=m(this.clientId,g(this.clientId),f,c),void 0!==this.willMessage&&(c=m(this.willMessage.destinationName,g(this.willMessage.destinationName),f,c),c=h(e.byteLength,f,c),f.set(e,c),c+=e.byteLength),void 0!==this.userName&&(c=m(this.userName,g(this.userName),f,c)),void 0!==this.password&&(c=m(this.password,g(this.password),f,c));break;case i.PUBLISH:f.set(s,c);break;case i.SUBSCRIBE:for(a=0;a<this.topics.length;a++)c=m(this.topics[a],r[a],f,c),f[c++]=this.requestedQos[a];break;case i.UNSUBSCRIBE:for(a=0;a<this.topics.length;a++)c=m(this.topics[a],r[a],f,c)}return d};var S=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new d(i.PINGREQ).encode(),r=function(e){return function(){return o.apply(e)}},o=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(s.PING_TIMEOUT.code,c(s.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},_=function(e,t,n,r){t||(t=30);this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},E=function(e,n,i,o,a){if(!("WebSocket"in t&&null!==t.WebSocket))throw new Error(c(s.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in t&&null!==t.ArrayBuffer))throw new Error(c(s.UNSUPPORTED,["ArrayBuffer"]));for(var u in this._trace("Paho.Client",e,n,i,o,a),this.host=n,this.port=i,this.path=o,this.uri=e,this.clientId=a,this._wsuri=null,this._localKey=n+":"+i+("/mqtt"!=o?":"+o:"")+":"+a+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,r)0!==u.indexOf("Sent:"+this._localKey)&&0!==u.indexOf("Received:"+this._localKey)||this.restore(u)};E.prototype.host=null,E.prototype.port=null,E.prototype.path=null,E.prototype.uri=null,E.prototype.clientId=null,E.prototype.socket=null,E.prototype.connected=!1,E.prototype.maxMessageIdentifier=65536,E.prototype.connectOptions=null,E.prototype.hostIndex=null,E.prototype.onConnected=null,E.prototype.onConnectionLost=null,E.prototype.onMessageDelivered=null,E.prototype.onMessageArrived=null,E.prototype.traceFunction=null,E.prototype._msg_queue=null,E.prototype._buffered_msg_queue=null,E.prototype._connectTimeout=null,E.prototype.sendPinger=null,E.prototype.receivePinger=null,E.prototype._reconnectInterval=1,E.prototype._reconnecting=!1,E.prototype._reconnectTimeout=null,E.prototype.disconnectedPublishing=!1,E.prototype.disconnectedBufferSize=5e3,E.prototype.receiveBuffer=null,E.prototype._traceBuffer=null,E.prototype._MAX_TRACE_ENTRIES=100,E.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(c(s.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(c(s.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},E.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(c(s.INVALID_STATE,["not connected"]));var n=new d(i.SUBSCRIBE);n.topics=[e],void 0!==t.qos?n.requestedQos=[t.qos]:n.requestedQos=[0],t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:c(e)})}),t.timeout&&(n.timeOut=new _(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:s.SUBSCRIBE_TIMEOUT.code,errorMessage:c(s.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},E.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(c(s.INVALID_STATE,["not connected"]));var n=new d(i.UNSUBSCRIBE);n.topics=[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new _(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:s.UNSUBSCRIBE_TIMEOUT.code,errorMessage:c(s.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},E.prototype.send=function(e){this._trace("Client.send",e);var t=new d(i.PUBLISH);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(c(s.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(c(s.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},E.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(c(s.INVALID_STATE,["not connecting or connected"]));var e=new d(i.DISCONNECT);this._notify_msg_sent[e]=a(this._disconnected,this),this._schedule_message(e)},E.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},E.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},E.prototype.stopTrace=function(){delete this._traceBuffer},E.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=a(this._on_socket_open,this),this.socket.onmessage=a(this._on_socket_message,this),this.socket.onerror=a(this._on_socket_error,this),this.socket.onclose=a(this._on_socket_close,this),this.sendPinger=new S(this,this.connectOptions.keepAliveInterval),this.receivePinger=new S(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new _(this,this.connectOptions.timeout,this._disconnected,[s.CONNECT_TIMEOUT.code,c(s.CONNECT_TIMEOUT)])},E.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},E.prototype.store=function(e,t){var n={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case i.PUBLISH:t.pubRecReceived&&(n.pubRecReceived=!0),n.payloadMessage={};for(var o="",a=t.payloadMessage.payloadBytes,u=0;u<a.length;u++)a[u]<=15?o=o+"0"+a[u].toString(16):o+=a[u].toString(16);n.payloadMessage.payloadHex=o,n.payloadMessage.qos=t.payloadMessage.qos,n.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(n.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(n.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),n.sequence=t.sequence);break;default:throw Error(c(s.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,n]))}r.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(n))},E.prototype.restore=function(t){var n=r.getItem(t),o=JSON.parse(n),a=new d(o.type,o);switch(o.type){case i.PUBLISH:for(var u=o.payloadMessage.payloadHex,l=new ArrayBuffer(u.length/2),p=new Uint8Array(l),f=0;u.length>=2;){var h=parseInt(u.substring(0,2),16);u=u.substring(2,u.length),p[f++]=h}var m=new e.Message(p);m.qos=o.payloadMessage.qos,m.destinationName=o.payloadMessage.destinationName,o.payloadMessage.duplicate&&(m.duplicate=!0),o.payloadMessage.retained&&(m.retained=!0),a.payloadMessage=m;break;default:throw Error(c(s.INVALID_STORED_DATA,[t,n]))}0===t.indexOf("Sent:"+this._localKey)?(a.payloadMessage.duplicate=!0,this._sentMessages[a.messageIdentifier]=a):0===t.indexOf("Received:"+this._localKey)&&(this._receivedMessages[a.messageIdentifier]=a)},E.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},E.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===i.PUBLISH&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},E.prototype._on_socket_open=function(){var e=new d(i.CONNECT,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},E.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},E.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=f(t,i),a=o[0];if(i=o[1],null===a)break;n.push(a)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(e){var u="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(s.INTERNAL_ERROR.code,c(s.INTERNAL_ERROR,[e.message,u]))}return n},E.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case i.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var n=this._sentMessages[t];r.removeItem("Sent:"+this._localKey+n.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var o=this._receivedMessages[t];r.removeItem("Received:"+this._localKey+o.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(s.CONNACK_RETURNCODE.code,c(s.CONNACK_RETURNCODE,[e.returnCode,u[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var a=[];for(var l in this._sentMessages)this._sentMessages.hasOwnProperty(l)&&a.push(this._sentMessages[l]);if(this._buffered_msg_queue.length>0)for(var p=null;p=this._buffered_msg_queue.pop();)a.push(p),this.onMessageDelivered&&(this._notify_msg_sent[p]=this.onMessageDelivered(p.payloadMessage));a=a.sort(function(e,t){return e.sequence-t.sequence});for(var f=0,h=a.length;f<h;f++){if((n=a[f]).type==i.PUBLISH&&n.pubRecReceived){var m=new d(i.PUBREL,{messageIdentifier:n.messageIdentifier});this._schedule_message(m)}else this._schedule_message(n)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var y=!1;this._reconnecting&&(y=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(y,this._wsuri),this._process_queue();break;case i.PUBLISH:this._receivePublish(e);break;case i.PUBACK:(n=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],r.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(n.payloadMessage));break;case i.PUBREC:if(n=this._sentMessages[e.messageIdentifier]){n.pubRecReceived=!0;m=new d(i.PUBREL,{messageIdentifier:e.messageIdentifier});this.store("Sent:",n),this._schedule_message(m)}break;case i.PUBREL:o=this._receivedMessages[e.messageIdentifier];r.removeItem("Received:"+this._localKey+e.messageIdentifier),o&&(this._receiveMessage(o),delete this._receivedMessages[e.messageIdentifier]);var g=new d(i.PUBCOMP,{messageIdentifier:e.messageIdentifier});this._schedule_message(g);break;case i.PUBCOMP:n=this._sentMessages[e.messageIdentifier];delete this._sentMessages[e.messageIdentifier],r.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(n.payloadMessage);break;case i.SUBACK:(n=this._sentMessages[e.messageIdentifier])&&(n.timeOut&&n.timeOut.cancel(),128===e.returnCode[0]?n.onFailure&&n.onFailure(e.returnCode):n.onSuccess&&n.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case i.UNSUBACK:(n=this._sentMessages[e.messageIdentifier])&&(n.timeOut&&n.timeOut.cancel(),n.callback&&n.callback(),delete this._sentMessages[e.messageIdentifier]);break;case i.PINGRESP:this.sendPinger.reset();break;case i.DISCONNECT:this._disconnected(s.INVALID_MQTT_MESSAGE_TYPE.code,c(s.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(s.INVALID_MQTT_MESSAGE_TYPE.code,c(s.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var v="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(s.INTERNAL_ERROR.code,c(s.INTERNAL_ERROR,[e.message,v]))}},E.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(s.SOCKET_ERROR.code,c(s.SOCKET_ERROR,[e.data]))},E.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(s.SOCKET_CLOSE.code,c(s.SOCKET_CLOSE))},E.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},E.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new d(i.PUBACK,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new d(i.PUBREC,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},E.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},E.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},E.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},E.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new _(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=s.OK.code,t=c(s.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==s.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},E.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t?this._traceBuffer.push(arguments[t]):void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},E.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var w=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw c(s.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:b(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(g(t)),n=new Uint8Array(e);return v(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(c(s.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new Error(c(s.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,r){var i;if("string"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var a=(i=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!a)throw new Error(c(s.INVALID_ARGUMENT,[e,"host"]));e=a[4]||a[2],t=parseInt(a[7]),n=a[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(c(s.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(c(s.INVALID_TYPE,[typeof n,"path"]));var u=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);i="ws://"+(u?"["+e+"]":e)+":"+t+n}for(var l=0,p=0;p<r.length;p++){var d=r.charCodeAt(p);55296<=d&&d<=56319&&p++,l++}if("string"!=typeof r||l>65535)throw new Error(c(s.INVALID_ARGUMENT,[r,"clientId"]));var f=new E(i,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(c(s.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(c(s.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(c(s.UNSUPPORTED_OPERATION))}},uri:{get:function(){return i},set:function(){throw new Error(c(s.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return f.clientId},set:function(){throw new Error(c(s.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return f.onConnected},set:function(e){if("function"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"onConnected"]));f.onConnected=e}},disconnectedPublishing:{get:function(){return f.disconnectedPublishing},set:function(e){f.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return f.disconnectedBufferSize},set:function(e){f.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return f.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"onConnectionLost"]));f.onConnectionLost=e}},onMessageDelivered:{get:function(){return f.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"onMessageDelivered"]));f.onMessageDelivered=e}},onMessageArrived:{get:function(){return f.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"onMessageArrived"]));f.onMessageArrived=e}},trace:{get:function(){return f.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(c(s.INVALID_TYPE,[typeof e,"onTrace"]));f.traceFunction=e}}}),this.connect=function(e){if(o(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(c(s.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(c(s.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof w))throw new Error(c(s.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(c(s.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(c(s.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(c(s.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(c(s.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(c(s.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(c(s.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(c(s.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(c(s.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(c(s.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(c(s.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var a=e.hosts[r],u=e.ports[r],l=-1!==a.indexOf(":");i="ws://"+(l?"["+a+"]":a)+":"+u+n,e.uris.push(i)}}}f.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e)throw new Error("Invalid argument:"+e);if(o(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(c(s.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));f.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e)throw new Error("Invalid argument:"+e);if(o(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");f.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof w)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(c(s.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),f.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof w)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(c(s.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),f.send(i)},this.disconnect=function(){f.disconnect()},this.getTraceLog=function(){return f.getTraceLog()},this.startTrace=function(){f.startTrace()},this.stopTrace=function(){f.stopTrace()},this.isConnected=function(){return f.connected}},Message:w}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});return e},e.exports=n()}).call(this,n(13))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(253);t.InteractionsClass=r.default;var i=n(1),o=new i.ConsoleLogger("Interactions"),a=null;a||(o.debug("Create Interactions Instance"),a=new r.default(null));var s=a;i.default.register(s),t.default=s,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(82))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(254),u=new a.ConsoleLogger("Interactions"),c=function(){function e(e){this._options=e,u.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};u.debug("configure Interactions",{opt:n}),this._options=r({bots:{}},n,n.Interactions);var i=this._options.aws_bots_config,o=this._options.bots;return!Object.keys(o).length&&i&&Array.isArray(i)&&i.forEach(function(e){t._options.bots[e.name]=e}),!this._pluggables.AWSLexProvider&&o&&Object.keys(o).map(function(e){return o[e]}).find(function(e){return!e.providerName||"AWSLexProvider"===e.providerName})&&(this._pluggables.AWSLexProvider=new s.AWSLexProvider),Object.keys(this._pluggables).map(function(e){t._pluggables[e].configure(t._options.bots)}),this._options},e.prototype.addPluggable=function(e){if(e&&"Interactions"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error("Bot "+e.getProviderName()+" already plugged");return e.configure(this._options.bots),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");if(n=this._options.bots[e].providerName||"AWSLexProvider",!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");return[4,this._pluggables[n].sendMessage(e,t)];case 1:return[2,r.sent()]}})})},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");var n=this._options.bots[e].providerName||"AWSLexProvider";if(!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");this._pluggables[n].onComplete(e,t)},e}();t.default=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(82)),r(n(83))},function(e,t,n){n(11);var r=n(0),i=r.Service,o=r.apiLoader;o.services.lexruntime={},r.LexRuntime=i.defineService("lexruntime",["2016-11-28"]),Object.defineProperty(o.services.lexruntime,"2016-11-28",{get:function(){var e=n(256);return e.paginators=n(257).pagination,e},enumerable:!0,configurable:!0}),e.exports=r.LexRuntime},function(e){e.exports={version:"2.0",metadata:{apiVersion:"2016-11-28",endpointPrefix:"runtime.lex",jsonVersion:"1.1",protocol:"rest-json",serviceFullName:"Amazon Lex Runtime Service",serviceId:"Lex Runtime Service",signatureVersion:"v4",signingName:"lex",uid:"runtime.lex-2016-11-28"},operations:{PostContent:{http:{requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/content"},input:{type:"structure",required:["botName","botAlias","userId","contentType","inputStream"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},sessionAttributes:{shape:"S5",jsonvalue:!0,location:"header",locationName:"x-amz-lex-session-attributes"},requestAttributes:{shape:"S5",jsonvalue:!0,location:"header",locationName:"x-amz-lex-request-attributes"},contentType:{location:"header",locationName:"Content-Type"},accept:{location:"header",locationName:"Accept"},inputStream:{shape:"S8"}},payload:"inputStream"},output:{type:"structure",members:{contentType:{location:"header",locationName:"Content-Type"},intentName:{location:"header",locationName:"x-amz-lex-intent-name"},slots:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-slots"},sessionAttributes:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-session-attributes"},message:{shape:"Sc",location:"header",locationName:"x-amz-lex-message"},messageFormat:{location:"header",locationName:"x-amz-lex-message-format"},dialogState:{location:"header",locationName:"x-amz-lex-dialog-state"},slotToElicit:{location:"header",locationName:"x-amz-lex-slot-to-elicit"},inputTranscript:{location:"header",locationName:"x-amz-lex-input-transcript"},audioStream:{shape:"S8"}},payload:"audioStream"},authtype:"v4-unsigned-body"},PostText:{http:{requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/text"},input:{type:"structure",required:["botName","botAlias","userId","inputText"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},sessionAttributes:{shape:"Sg"},requestAttributes:{shape:"Sg"},inputText:{shape:"Sc"}}},output:{type:"structure",members:{intentName:{},slots:{shape:"Sg"},sessionAttributes:{shape:"Sg"},message:{shape:"Sc"},messageFormat:{},dialogState:{},slotToElicit:{},responseCard:{type:"structure",members:{version:{},contentType:{},genericAttachments:{type:"list",member:{type:"structure",members:{title:{},subTitle:{},attachmentLinkUrl:{},imageUrl:{},buttons:{type:"list",member:{type:"structure",required:["text","value"],members:{text:{},value:{}}}}}}}}}}}}},shapes:{S5:{type:"string",sensitive:!0},S8:{type:"blob",streaming:!0},Sc:{type:"string",sensitive:!0},Sg:{type:"map",key:{},value:{},sensitive:!0}}}},function(e){e.exports={pagination:{}}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";function r(e,t){var n=t({},e);return delete n.default,n}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}Object.defineProperty(t,"__esModule",{value:!0}),i(t,r(n(1),i)),i(t,r(n(2),i)),i(t,r(n(3),i)),i(t,r(n(4),i)),i(t,r(n(5),i)),i(t,r(n(6),i)),i(t,r(n(7),i)),i(t,r(n(8),i)),i(t,r(n(9),i)),i(t,r(n(10),i)),i(t,r(n(11),i)),i(t,r(n(12),i)),i(t,r(n(13),i))},function(e,t){e.exports={a:"Anchor__a___3JUCG"}},function(e,t){e.exports={button:"Button__button___1FrBC",signInButton:"Button__signInButton___2nUbs",googleSignInButton:"Button__googleSignInButton___12y9G",signInButtonIcon:"Button__signInButtonIcon___341B9",auth0SignInButton:"Button__auth0SignInButton___n_PKO",facebookSignInButton:"Button__facebookSignInButton___1-zMC",amazonSignInButton:"Button__amazonSignInButton___TmhOE",oAuthSignInButton:"Button__oAuthSignInButton___hREZG",signInButtonContent:"Button__signInButtonContent___2GM4s"}},function(e,t){e.exports={formContainer:"Form__formContainer___cu04J",formSection:"Form__formSection___3tqxz",formField:"Form__formField___2DWhT",formRow:"Form__formRow___23vw6"}},function(e,t){e.exports={hint:"Hint__hint___3Hrww"}},function(e,t){e.exports={input:"Input__input___2Sh1s",inputLabel:"Input__inputLabel___nQolz",label:"Input__label___3mWH1",radio:"Input__radio___1oPWf"}},function(e,t){e.exports={navBar:"Nav__navBar___3UdSD",navRight:"Nav__navRight___2cUrh",nav:"Nav__nav___17Pxn",navItem:"Nav__navItem___VnHJi"}},function(e,t){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___A0pJW",photoPlaceholder:"PhotoPicker__photoPlaceholder___1YUHz",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___1eBTV"}},function(e,t){e.exports={container:"Section__container___1Gue_",actionRow:"Section__actionRow___1hCHZ",sectionHeader:"Section__sectionHeader___13iO4",sectionHeaderHint:"Section__sectionHeaderHint___16N_e",sectionBody:"Section__sectionBody___3DCrX",sectionFooter:"Section__sectionFooter___1QlDn",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___36Gb1",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___3cjOa"}},function(e,t){e.exports={selectInput:"SelectInput__selectInput___1I_W8"}},function(e,t){e.exports={strike:"Strike__strike___28OW3",strikeContent:"Strike__strikeContent___1hd4F"}},function(e,t){e.exports={toast:"Toast__toast___2YWKB",toastClose:"Toast__toastClose___2DQXs"}},function(e,t){e.exports={totpQrcode:"Totp__totpQrcode___3OH-m"}},function(e,t){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___11I4t",sumerianScene:"XR__sumerianScene___3n6Vz",loadingOverlay:"XR__loadingOverlay___1c9lj",loadingContainer:"XR__loadingContainer___3C0lC",loadingLogo:"XR__loadingLogo___3mETr",loadingSceneName:"XR__loadingSceneName___3JbEs",loadingBar:"XR__loadingBar___QeOtl",loadingBarFill:"XR__loadingBarFill___2Ej9-",sceneErrorText:"XR__sceneErrorText___2PGJM",sceneBar:"XR__sceneBar___2jB64",sceneName:"XR__sceneName___3J8bY",sceneActions:"XR__sceneActions___2a04n",actionButton:"XR__actionButton___7icN8",tooltip:"XR__tooltip___3wuzm",actionIcon:"XR__actionIcon___RjOmI",autoShowTooltip:"XR__autoShowTooltip___3QI-_"}}])},e.exports=r()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(260);t.XRClass=i.default;var o=n(1),a=new o.ConsoleLogger("XR"),s=null;s||(a.debug("Create XR Instance"),s=new i.default(null));var u=s;o.default.register(u),t.default=u,r(n(84)),r(n(39))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(84),s=n(39),u=new o.ConsoleLogger("XR"),c="SumerianProvider",l=function(){function e(e){this._options=e,u.debug("XR Options",this._options),this._defaultProvider=c,this._pluggables={},this.addPluggable(new a.SumerianProvider)}return e.prototype.configure=function(e){var t=this,n=e?e.XR||e:{};return u.debug("configure XR",{opt:n}),this._options=Object.assign({},this._options,n),Object.entries(this._pluggables).map(function(e){var r=e[0],i=e[1];r!==t._defaultProvider||n[t._defaultProvider]?i.configure(t._options[r]):i.configure(t._options)}),this._options},e.prototype.addPluggable=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return e&&"XR"===e.getCategory()?(this._pluggables[e.getProviderName()]=e,[2,e.configure(this._options)]):[2]})})},e.prototype.loadScene=function(e,t,n,o){return void 0===n&&(n={}),void 0===o&&(o=this._defaultProvider),r(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:if(!this._pluggables[o])throw new s.XRProviderNotConfigured("Provider '"+o+"' not configured");return[4,this._pluggables[o].loadScene(e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.isSceneLoaded=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].isSceneLoaded(e)},e.prototype.getSceneController=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].getSceneController(e)},e.prototype.isVRCapable=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].isVRCapable(e)},e.prototype.isVRPresentationActive=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].isVRPresentationActive(e)},e.prototype.start=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].start(e)},e.prototype.enterVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].enterVR(e)},e.prototype.exitVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].exitVR(e)},e.prototype.isMuted=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].isMuted(e)},e.prototype.setMuted=function(e,t,n){if(void 0===n&&(n=this._defaultProvider),!this._pluggables[n])throw new s.XRProviderNotConfigured("Provider '"+n+"' not configured");return this._pluggables[n].setMuted(e,t)},e.prototype.onSceneEvent=function(e,t,n,r){if(void 0===r&&(r=this._defaultProvider),!this._pluggables[r])throw new s.XRProviderNotConfigured("Provider '"+r+"' not configured");return this._pluggables[r].onSceneEvent(e,t,n)},e.prototype.enableAudio=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new s.XRProviderNotConfigured("Provider '"+t+"' not configured");return this._pluggables[t].enableAudio(e)},e}();t.default=l},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=new(n(1).ConsoleLogger)("AbstractXRProvider"),o=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=r({},e,this._config),i.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return r({},this._config)},enumerable:!0,configurable:!0}),e}();t.AbstractXRProvider=o},function(e,t,n){"use strict";n.r(t);var r=n(7);function i(e,t){if(!e)throw new Error(t)}function o(e){return void 0===e||e!=e}var a=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",VARIABLE:"Variable",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension",DIRECTIVE_DEFINITION:"DirectiveDefinition"});function s(e,t,n){return e.reduce(function(e,r){return e[t(r)]=n(r),e},Object.create(null))}function u(e,t){switch(e.kind){case a.NULL:return null;case a.INT:return parseInt(e.value,10);case a.FLOAT:return parseFloat(e.value);case a.STRING:case a.ENUM:case a.BOOLEAN:return e.value;case a.LIST:return e.values.map(function(e){return u(e,t)});case a.OBJECT:return s(e.fields,function(e){return e.name.value},function(e){return u(e.value,t)});case a.VARIABLE:var n=e.name.value;return t&&!o(t[n])?t[n]:void 0}throw new Error("Unexpected value kind: "+e.kind)}function c(e){if(!(this instanceof c))return new c(e);this.ofType=g(e)}var l=c.prototype;function p(e){if(!(this instanceof p))return new p(e);this.ofType=W(e)}l.toString=l.toJSON=l.inspect=function(){return"["+String(this.ofType)+"]"};var d=p.prototype;d.toString=d.toJSON=d.inspect=function(){return String(this.ofType)+"!"};var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){return v(e)||S(e)||E(e)||I(e)||C(e)||A(e)||P(e)||O(e)}function g(e){return y(e)||i(0,"Expected "+String(e)+" to be a GraphQL type."),e}function v(e){return Object(r.a)(e,Z)}function b(e){return v(e)||i(0,"Expected "+String(e)+" to be a GraphQL Scalar type."),e}function S(e){return Object(r.a)(e,ee)}function _(e){return S(e)||i(0,"Expected "+String(e)+" to be a GraphQL Object type."),e}function E(e){return Object(r.a)(e,re)}function w(e){return E(e)||i(0,"Expected "+String(e)+" to be a GraphQL Interface type."),e}function I(e){return Object(r.a)(e,ie)}function T(e){return I(e)||i(0,"Expected "+String(e)+" to be a GraphQL Union type."),e}function C(e){return Object(r.a)(e,oe)}function N(e){return C(e)||i(0,"Expected "+String(e)+" to be a GraphQL Enum type."),e}function A(e){return Object(r.a)(e,ae)}function k(e){return A(e)||i(0,"Expected "+String(e)+" to be a GraphQL Input Object type."),e}function P(e){return Object(r.a)(e,c)}function R(e){return P(e)||i(0,"Expected "+String(e)+" to be a GraphQL List type."),e}function O(e){return Object(r.a)(e,p)}function x(e){return O(e)||i(0,"Expected "+String(e)+" to be a GraphQL Non-Null type."),e}function D(e){return v(e)||C(e)||A(e)||z(e)&&D(e.ofType)}function U(e){return D(e)||i(0,"Expected "+String(e)+" to be a GraphQL input type."),e}function M(e){return v(e)||S(e)||E(e)||I(e)||C(e)||z(e)&&M(e.ofType)}function q(e){return M(e)||i(0,"Expected "+String(e)+" to be a GraphQL output type."),e}function L(e){return v(e)||C(e)}function B(e){return L(e)||i(0,"Expected "+String(e)+" to be a GraphQL leaf type."),e}function F(e){return S(e)||E(e)||I(e)}function j(e){return F(e)||i(0,"Expected "+String(e)+" to be a GraphQL composite type."),e}function V(e){return E(e)||I(e)}function K(e){return V(e)||i(0,"Expected "+String(e)+" to be a GraphQL abstract type."),e}function z(e){return P(e)||O(e)}function G(e){return z(e)||i(0,"Expected "+String(e)+" to be a GraphQL wrapping type."),e}function H(e){return y(e)&&!O(e)}function W(e){return H(e)||i(0,"Expected "+String(e)+" to be a GraphQL nullable type."),e}function J(e){if(e)return O(e)?e.ofType:e}function Y(e){return v(e)||S(e)||E(e)||I(e)||C(e)||A(e)}function X(e){return Y(e)||i(0,"Expected "+String(e)+" to be a GraphQL named type."),e}function Q(e){if(e){for(var t=e;z(t);)t=t.ofType;return t}}function $(e){return"function"==typeof e?e():e}var Z=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._scalarConfig=t,"string"!=typeof t.name&&i(0,"Must provide name."),"function"!=typeof t.serialize&&i(0,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&("function"!=typeof t.parseValue||"function"!=typeof t.parseLiteral)&&i(0,this.name+' must provide both "parseValue" and "parseLiteral" functions.')}return e.prototype.serialize=function(e){return(0,this._scalarConfig.serialize)(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;if(!o(e))return t?t(e):e},e.prototype.parseLiteral=function(e,t){var n=this._scalarConfig.parseLiteral;return n?n(e,t):u(e,t)},e.prototype.toString=function(){return this.name},e}();Z.prototype.toJSON=Z.prototype.inspect=Z.prototype.toString;var ee=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.isTypeOf=t.isTypeOf,this._typeConfig=t,"string"!=typeof t.name&&i(0,"Must provide name."),t.isTypeOf&&"function"!=typeof t.isTypeOf&&i(0,this.name+' must provide "isTypeOf" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=te(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=(e=this,t=this._typeConfig.interfaces,n=$(t)||[],Array.isArray(n)||i(0,e.name+" interfaces must be an Array or a function which returns an Array."),n));var e,t,n},e.prototype.toString=function(){return this.name},e}();function te(e,t){var n=$(t)||{};ne(n)||i(0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var r=Object.create(null);return Object.keys(n).forEach(function(t){var o=n[t];ne(o)||i(0,e.name+"."+t+" field config must be an object"),o.hasOwnProperty("isDeprecated")&&i(0,e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".');var a,s=h({},o,{isDeprecated:Boolean(o.deprecationReason),name:t});null!=(a=s.resolve)&&"function"!=typeof a&&i(0,e.name+"."+t+" field resolver must be a function if provided, but got: "+String(s.resolve)+".");var u=o.args;u?(ne(u)||i(0,e.name+"."+t+" args must be an object with argument names as keys."),s.args=Object.keys(u).map(function(e){var t=u[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):s.args=[],r[t]=s}),r}function ne(e){return e&&"object"===(void 0===e?"undefined":f(e))&&!Array.isArray(e)}ee.prototype.toJSON=ee.prototype.inspect=ee.prototype.toString;var re=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&i(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&i(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=te(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}();re.prototype.toJSON=re.prototype.inspect=re.prototype.toString;var ie=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&i(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&i(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getTypes=function(){return this._types||(this._types=(e=this,t=this._typeConfig.types,n=$(t)||[],Array.isArray(n)||i(0,"Must provide Array of types or a function which returns such an array for Union "+e.name+"."),n));var e,t,n},e.prototype.toString=function(){return this.name},e}();ie.prototype.toJSON=ie.prototype.inspect=ie.prototype.toString;var oe=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._enumConfig=t,"string"!=typeof t.name&&i(0,"Must provide name.")}return e.prototype.getValues=function(){return this._values||(this._values=(e=this,ne(t=this._enumConfig.values)||i(0,e.name+" values must be an object with value names as keys."),Object.keys(t).map(function(n){var r=t[n];return ne(r)||i(0,e.name+"."+n+' must refer to an object with a "value" key representing an internal value but got: '+String(r)+"."),r.hasOwnProperty("isDeprecated")&&i(0,e.name+"."+n+' should provide "deprecationReason" instead of "isDeprecated".'),{name:n,description:r.description,isDeprecated:Boolean(r.deprecationReason),deprecationReason:r.deprecationReason,astNode:r.astNode,value:r.hasOwnProperty("value")?r.value:n}})));var e,t},e.prototype.getValue=function(e){return this._getNameLookup()[e]},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);if(t)return t.name},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e,t){if(e.kind===a.ENUM){var n=this._getNameLookup()[e.value];if(n)return n.value}},e.prototype._getValueLookup=function(){if(!this._valueLookup){var e=new Map;this.getValues().forEach(function(t){e.set(t.value,t)}),this._valueLookup=e}return this._valueLookup},e.prototype._getNameLookup=function(){if(!this._nameLookup){var e=Object.create(null);this.getValues().forEach(function(t){e[t.name]=t}),this._nameLookup=e}return this._nameLookup},e.prototype.toString=function(){return this.name},e}();oe.prototype.toJSON=oe.prototype.inspect=oe.prototype.toString;var ae=function(){function e(t){m(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._typeConfig=t,"string"!=typeof t.name&&i(0,"Must provide name.")}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=$(this._typeConfig.fields)||{};ne(t)||i(0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.create(null);return Object.keys(t).forEach(function(r){var o=h({},t[r],{name:r});o.hasOwnProperty("resolve")&&i(0,e.name+"."+r+" field type has a resolve property, but Input Types cannot define resolvers."),n[r]=o}),n},e.prototype.toString=function(){return this.name},e}();ae.prototype.toJSON=ae.prototype.toString,ae.prototype.inspect=ae.prototype.toString;var se=2147483647,ue=-2147483648;function ce(e){if(""===e)throw new TypeError("Int cannot represent non 32-bit signed integer value: (empty string)");var t=Number(e);if(t!=t||t>se||t<ue)throw new TypeError("Int cannot represent non 32-bit signed integer value: "+String(e));var n=Math.floor(t);if(n!==t)throw new TypeError("Int cannot represent non-integer value: "+String(e));return n}var le=new Z({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:ce,parseValue:ce,parseLiteral:function(e){if(e.kind===a.INT){var t=parseInt(e.value,10);if(t<=se&&t>=ue)return t}}});function pe(e){if(""===e)throw new TypeError("Float cannot represent non numeric value: (empty string)");var t=Number(e);if(t==t)return t;throw new TypeError("Float cannot represent non numeric value: "+String(e))}var de=new Z({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:pe,parseValue:pe,parseLiteral:function(e){return e.kind===a.FLOAT||e.kind===a.INT?parseFloat(e.value):void 0}});function fe(e){if(Array.isArray(e))throw new TypeError("String cannot represent an array value: ["+String(e)+"]");return String(e)}var he=new Z({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:fe,parseValue:fe,parseLiteral:function(e){return e.kind===a.STRING?e.value:void 0}}),me=new Z({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===a.BOOLEAN?e.value:void 0}}),ye=new Z({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===a.STRING||e.kind===a.INT?e.value:void 0}}),ge=[he,le,de,me,ye];function ve(e){return Y(e)&&(e.name===he.name||e.name===le.name||e.name===de.name||e.name===me.name||e.name===ye.name)}var be=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Se(e){return Object(r.a)(e,_e)}var _e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.description=t.description,this.locations=t.locations,this.astNode=t.astNode,t.name||i(0,"Directive must be named."),Array.isArray(t.locations)||i(0,"Must provide locations for directive.");var n=t.args;n?(Array.isArray(n)&&i(0,"@"+t.name+" args must be an object with argument names as keys."),this.args=Object.keys(n).map(function(e){var t=n[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):this.args=[]},Ee=new _e({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[be.FIELD,be.FRAGMENT_SPREAD,be.INLINE_FRAGMENT],args:{if:{type:p(me),description:"Included when true."}}}),we=new _e({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[be.FIELD,be.FRAGMENT_SPREAD,be.INLINE_FRAGMENT],args:{if:{type:p(me),description:"Skipped when true."}}}),Ie="No longer supported",Te=new _e({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[be.FIELD_DEFINITION,be.ENUM_VALUE],args:{reason:{type:he,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:Ie}}}),Ce=[Ee,we,Te];function Ne(e){return Ce.some(function(t){return t.name===e.name})}var Ae=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ke=n(5);function Pe(e){return null==e||e!=e}var Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Oe(e,t){var n=e;if(O(t)){var r=Oe(n,t.ofType);return r&&r.kind===a.NULL?null:r}if(null===n)return{kind:a.NULL};if(o(n))return null;if(P(t)){var i=t.ofType;if(Object(ke.isCollection)(n)){var s=[];return Object(ke.forEach)(n,function(e){var t=Oe(e,i);t&&s.push(t)}),{kind:a.LIST,values:s}}return Oe(n,i)}if(A(t)){if(null===n||"object"!==(void 0===n?"undefined":Re(n)))return null;var u=Ae(t.getFields()),c=[];return u.forEach(function(e){var t=Oe(n[e.name],e.type);t&&c.push({kind:a.OBJECT_FIELD,name:{kind:a.NAME,value:e.name},value:t})}),{kind:a.OBJECT,fields:c}}if(v(t)||C(t)){var l=t.serialize(n);if(Pe(l))return null;if("boolean"==typeof l)return{kind:a.BOOLEAN,value:l};if("number"==typeof l){var p=String(l);return xe.test(p)?{kind:a.INT,value:p}:{kind:a.FLOAT,value:p}}if("string"==typeof l)return C(t)?{kind:a.ENUM,value:l}:t===ye&&xe.test(l)?{kind:a.INT,value:l}:{kind:a.STRING,value:l};throw new TypeError("Cannot convert value to AST: "+String(l))}throw new Error("Unknown type: "+t+".")}var xe=/^-?(0|[1-9][0-9]*)$/,De={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},Ue={};function Me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,p=[],d=[],f=e;do{var h=++a===o.length,m=h&&0!==s.length;if(h){if(c=0===d.length?void 0:p[p.length-1],u=l,l=d.pop(),m){if(i)u=u.slice();else{var y={};for(var g in u)u.hasOwnProperty(g)&&(y[g]=u[g]);u=y}for(var v=0,b=0;b<s.length;b++){var S=s[b][0],_=s[b][1];i&&(S-=v),i&&null===_?(u.splice(S,1),v++):u[S]=_}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?a:o[a]:void 0,null==(u=l?l[c]:f))continue;l&&p.push(c)}var E=void 0;if(!Array.isArray(u)){if(!qe(u))throw new Error("Invalid AST Node: "+JSON.stringify(u));var w=Fe(t,u.kind,h);if(w){if((E=w.call(t,u,c,l,p,d))===Ue)break;if(!1===E){if(!h){p.pop();continue}}else if(void 0!==E&&(s.push([c,E]),!h)){if(!qe(E)){p.pop();continue}u=E}}}void 0===E&&m&&s.push([c,u]),h?p.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(u))?u:n[u.kind]||[],a=-1,s=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==s.length&&(f=s[s.length-1][1]),f}function qe(e){return Boolean(e&&"string"==typeof e.kind)}function Le(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var i=Fe(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===Ue)t[r]=Ue;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var i=Fe(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===Ue)t[r]=Ue;else if(void 0!==o&&!1!==o)return o}}}}}function Be(e,t){return{enter:function(n){e.enter(n);var r=Fe(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),qe(i)&&e.enter(i)),i}},leave:function(n){var r=Fe(t,n.kind,!0),i=void 0;return r&&(i=r.apply(t,arguments)),e.leave(n),i}}}function Fe(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function je(e){return Me(e,{leave:Ve})}var Ve={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ze(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=He("(",ze(e.variableDefinitions,", "),")"),i=ze(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?ze([t,ze([n,r]),i,o]," "):o},VariableDefinition:function(e){return e.variable+": "+e.type+He(" = ",e.defaultValue)},SelectionSet:function(e){return Ge(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return ze([He("",t,": ")+n+He("(",ze(r,", "),")"),ze(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+He(" ",ze(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return ze(["...",He("on ",t),ze(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment "+t+He("(",ze(r,", "),")")+" on "+n+" "+He("",ze(i," ")," ")+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'+(t?n:We(n))+'\n"""':'"""'+n.replace(/"$/,'"\n')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ze(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ze(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+He("(",ze(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return ze(["schema",ze(t," "),Ge(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Ke(function(e){return ze(["scalar",e.name,ze(e.directives," ")]," ")}),ObjectTypeDefinition:Ke(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ze(["type",t,He("implements ",ze(n," & ")),ze(r," "),Ge(i)]," ")}),FieldDefinition:Ke(function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+He("(",ze(n,", "),")")+": "+r+He(" ",ze(i," "))}),InputValueDefinition:Ke(function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return ze([t+": "+n,He("= ",r),ze(i," ")]," ")}),InterfaceTypeDefinition:Ke(function(e){var t=e.name,n=e.directives,r=e.fields;return ze(["interface",t,ze(n," "),Ge(r)]," ")}),UnionTypeDefinition:Ke(function(e){var t=e.name,n=e.directives,r=e.types;return ze(["union",t,ze(n," "),r&&0!==r.length?"= "+ze(r," | "):""]," ")}),EnumTypeDefinition:Ke(function(e){var t=e.name,n=e.directives,r=e.values;return ze(["enum",t,ze(n," "),Ge(r)]," ")}),EnumValueDefinition:Ke(function(e){return ze([e.name,ze(e.directives," ")]," ")}),InputObjectTypeDefinition:Ke(function(e){var t=e.name,n=e.directives,r=e.fields;return ze(["input",t,ze(n," "),Ge(r)]," ")}),ScalarTypeExtension:function(e){return ze(["extend scalar",e.name,ze(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ze(["extend type",t,He("implements ",ze(n," & ")),ze(r," "),Ge(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return ze(["extend interface",t,ze(n," "),Ge(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return ze(["extend union",t,ze(n," "),r&&0!==r.length?"= "+ze(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return ze(["extend enum",t,ze(n," "),Ge(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return ze(["extend input",t,ze(n," "),Ge(r)]," ")},DirectiveDefinition:Ke(function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+He("(",ze(n,", "),")")+" on "+ze(r," | ")})};function Ke(e){return function(t){return ze([t.description,e(t)],"\n")}}function ze(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function Ge(e){return e&&0!==e.length?"{\n"+We(ze(e,"\n"))+"\n}":""}function He(e,t,n){return t?e+t+(n||""):""}function We(e){return e&&"  "+e.replace(/\n/g,"\n  ")}var Je=new ee({name:"__Schema",isIntrospection:!0,description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:p(c(p(Qe))),resolve:function(e){return Ae(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:p(Qe),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Qe,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Qe,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:p(c(p(Ye))),resolve:function(e){return e.getDirectives()}}}}}),Ye=new ee({name:"__Directive",isIntrospection:!0,description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:p(he)},description:{type:he},locations:{type:p(c(p(Xe)))},args:{type:p(c(p(Ze))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:p(me),resolve:function(e){return-1!==e.locations.indexOf(be.QUERY)||-1!==e.locations.indexOf(be.MUTATION)||-1!==e.locations.indexOf(be.SUBSCRIPTION)}},onFragment:{deprecationReason:"Use `locations`.",type:p(me),resolve:function(e){return-1!==e.locations.indexOf(be.FRAGMENT_SPREAD)||-1!==e.locations.indexOf(be.INLINE_FRAGMENT)||-1!==e.locations.indexOf(be.FRAGMENT_DEFINITION)}},onField:{deprecationReason:"Use `locations`.",type:p(me),resolve:function(e){return-1!==e.locations.indexOf(be.FIELD)}}}}}),Xe=new oe({name:"__DirectiveLocation",isIntrospection:!0,description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:be.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:be.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:be.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:be.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:be.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:be.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:be.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:be.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:be.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:be.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:be.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:be.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:be.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:be.UNION,description:"Location adjacent to a union definition."},ENUM:{value:be.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:be.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:be.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:be.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Qe=new ee({name:"__Type",isIntrospection:!0,description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:p(nt),resolve:function(e){if(v(e))return tt.SCALAR;if(S(e))return tt.OBJECT;if(E(e))return tt.INTERFACE;if(I(e))return tt.UNION;if(C(e))return tt.ENUM;if(A(e))return tt.INPUT_OBJECT;if(P(e))return tt.LIST;if(O(e))return tt.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:he},description:{type:he},fields:{type:c(p($e)),args:{includeDeprecated:{type:me,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(S(e)||E(e)){var r=Ae(e.getFields());return n||(r=r.filter(function(e){return!e.deprecationReason})),r}return null}},interfaces:{type:c(p(Qe)),resolve:function(e){if(S(e))return e.getInterfaces()}},possibleTypes:{type:c(p(Qe)),resolve:function(e,t,n,r){var i=r.schema;if(V(e))return i.getPossibleTypes(e)}},enumValues:{type:c(p(et)),args:{includeDeprecated:{type:me,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(C(e)){var r=e.getValues();return n||(r=r.filter(function(e){return!e.deprecationReason})),r}}},inputFields:{type:c(p(Ze)),resolve:function(e){if(A(e))return Ae(e.getFields())}},ofType:{type:Qe}}}}),$e=new ee({name:"__Field",isIntrospection:!0,description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:p(he)},description:{type:he},args:{type:p(c(p(Ze))),resolve:function(e){return e.args||[]}},type:{type:p(Qe)},isDeprecated:{type:p(me)},deprecationReason:{type:he}}}}),Ze=new ee({name:"__InputValue",isIntrospection:!0,description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:p(he)},description:{type:he},type:{type:p(Qe)},defaultValue:{type:he,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return o(e.defaultValue)?null:je(Oe(e.defaultValue,e.type))}}}}}),et=new ee({name:"__EnumValue",isIntrospection:!0,description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:p(he)},description:{type:he},isDeprecated:{type:p(me)},deprecationReason:{type:he}}}}),tt={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},nt=new oe({name:"__TypeKind",isIntrospection:!0,description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:tt.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:tt.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:tt.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:tt.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:tt.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:tt.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:tt.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:tt.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),rt={name:"__schema",type:p(Je),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,n,r){return r.schema}},it={name:"__type",type:Qe,description:"Request the type information of a single type.",args:[{name:"name",type:p(he)}],resolve:function(e,t,n,r){var i=t.name;return r.schema.getType(i)}},ot={name:"__typename",type:p(he),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,n,r){return r.parentType.name}},at=[Je,Ye,Xe,Qe,$e,Ze,et,nt];function st(e){return Y(e)&&(e.name===Je.name||e.name===Ye.name||e.name===Xe.name||e.name===Qe.name||e.name===$e.name||e.name===Ze.name||e.name===et.name||e.name===nt.name)}function ut(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function lt(e){return Object(r.a)(e,pt)}var pt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.assumeValid?this.__validationErrors=[]:("object"!==(void 0===t?"undefined":ct(t))&&i(0,"Must provide configuration object."),t.types&&!Array.isArray(t.types)&&i(0,'"types" must be Array if provided but got: '+String(t.types)+"."),t.directives&&!Array.isArray(t.directives)&&i(0,'"directives" must be Array if provided but got: '+String(t.directives)+"."),t.allowedLegacyNames&&!Array.isArray(t.allowedLegacyNames)&&i(0,'"allowedLegacyNames" must be Array if provided but got: '+String(t.allowedLegacyNames)+"."),this.__allowedLegacyNames=t.allowedLegacyNames),this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=t.directives||Ce,this.astNode=t.astNode;var r=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),Je],o=t.types;o&&(r=r.concat(o));var a=Object.create(null);a=r.reduce(dt,a),a=this._directives.reduce(ft,a),this._typeMap=a,this._implementations=Object.create(null),Object.keys(this._typeMap).forEach(function(e){var t=n._typeMap[e];S(t)&&t.getInterfaces().forEach(function(e){var r=n._implementations[e.name];r?r.push(t):n._implementations[e.name]=[t]})})}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return I(e)?e.getTypes():this._implementations[e.name]},e.prototype.isPossibleType=function(e,t){var n=this._possibleTypeMap;if(n||(this._possibleTypeMap=n=Object.create(null)),!n[e.name]){var r=this.getPossibleTypes(e);Array.isArray(r)||i(0,"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),n[e.name]=r.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(n[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return ut(this.getDirectives(),function(t){return t.name===e})},e}();function dt(e,t){if(!t)return e;if(z(t))return dt(e,t.ofType);if(e[t.name])return e[t.name]!==t&&i(0,'Schema must contain unique named types but contains multiple types named "'+t.name+'".'),e;e[t.name]=t;var n=e;return I(t)&&(n=t.getTypes().reduce(dt,n)),S(t)&&(n=t.getInterfaces().reduce(dt,n)),(S(t)||E(t))&&Ae(t.getFields()).forEach(function(e){if(e.args){var t=e.args.map(function(e){return e.type});n=t.reduce(dt,n)}n=dt(n,e.type)}),A(t)&&Ae(t.getFields()).forEach(function(e){n=dt(n,e.type)}),n}function ft(e,t){return Se(t)?t.args.reduce(function(e,t){return dt(e,t.type)},e):e}function ht(e,t){for(var n=/\r\n|[\n\r]/g,r=1,i=t+1,o=void 0;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}function mt(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(yt(e.loc.source,ht(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(yt(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}function yt(e,t){var n=t.line,r=e.locationOffset.line-1,i=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),o=n+r,a=t.column+i,s=(o-1).toString(),u=o.toString(),c=(o+1).toString(),l=c.length,p=e.body.split(/\r\n|[\n\r]/g);return p[0]=gt(e.locationOffset.column-1)+p[0],[e.name+" ("+o+":"+a+")",n>=2&&vt(l,s)+": "+p[n-2],vt(l,u)+": "+p[n-1],gt(2+l+a-1)+"^",n<p.length&&vt(l,c)+": "+p[n]].filter(Boolean).join("\n")}function gt(e){return Array(e+1).join(" ")}function vt(e,t){return gt(e-t.length)+t}function bt(e,t,n,r,i,o,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=n;if(!u&&s){var c=s[0];u=c&&c.loc&&c.loc.source}var l=r;!l&&s&&(l=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),l&&0===l.length&&(l=void 0);var p=void 0;if(r&&n){var d=n;p=r.map(function(e){return ht(d,e)})}else s&&(p=s.reduce(function(e,t){return t.loc&&e.push(ht(t.loc.source,t.loc.start)),e},[]));Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:p||void 0,enumerable:!0},path:{value:i||void 0,enumerable:!0},nodes:{value:s||void 0},source:{value:u||void 0},positions:{value:l||void 0},originalError:{value:o},extensions:{value:a||o&&o.extensions}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,bt):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}bt.prototype=Object.create(Error.prototype,{constructor:{value:bt},name:{value:"GraphQLError"},toString:{value:function(){return mt(this)}}});var St=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function _t(e){var t=Et(e);if(t)throw t;return e}function Et(e,t){return"string"!=typeof e&&i(0,"Expected string"),e.length>1&&"_"===e[0]&&"_"===e[1]&&"__configs__"!==e?new bt('Name "'+e+'" must not begin with "__", which is reserved by GraphQL introspection.',t):St.test(e)?void 0:new bt('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.',t)}function wt(e,t){return e===t||(O(e)&&O(t)?wt(e.ofType,t.ofType):!(!P(e)||!P(t))&&wt(e.ofType,t.ofType))}function It(e,t,n){return t===n||(O(n)?!!O(t)&&It(e,t.ofType,n.ofType):O(t)?It(e,t.ofType,n):P(n)?!!P(t)&&It(e,t.ofType,n.ofType):!P(t)&&!!(V(n)&&S(t)&&e.isPossibleType(n,t)))}function Tt(e,t,n){var r=n;return t===r||(V(t)?V(r)?e.getPossibleTypes(t).some(function(t){return e.isPossibleType(r,t)}):e.isPossibleType(t,r):!!V(r)&&e.isPossibleType(r,t))}function Ct(e){if(lt(e)||i(0,"Expected "+String(e)+" to be a GraphQL schema."),e.__validationErrors)return e.__validationErrors;var t=new At(e);!function(e){var t=e.schema,n=t.getQueryType();n?S(n)||e.reportError("Query root type must be Object type, it cannot be "+String(n)+".",kt(t,n,"query")):e.reportError("Query root type must be provided.",t.astNode);var r=t.getMutationType();r&&!S(r)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+String(r)+".",kt(t,r,"mutation"));var i=t.getSubscriptionType();i&&!S(i)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+String(i)+".",kt(t,i,"subscription"))}(t),function(e){e.schema.getDirectives().forEach(function(t){if(Se(t)){Pt(e,t);var n=Object.create(null);t.args.forEach(function(r){var i=r.name;Pt(e,r),n[i]?e.reportError("Argument @"+t.name+"("+i+":) can only be defined once.",Ft(t,i)):(n[i]=!0,D(r.type)||e.reportError("The type of @"+t.name+"("+i+":) must be Input Type but got: "+String(r.type)+".",function(e,t){var n=Ft(e,t)[0];return n&&n.type}(t,i)))})}else e.reportError("Expected directive but got: "+String(t)+".",t&&t.astNode)})}(t),function(e){var t=e.schema.getTypeMap();Ae(t).forEach(function(t){Y(t)?(st(t)||Pt(e,t),S(t)?(Rt(e,t),function(e,t){var n=Object.create(null);t.getInterfaces().forEach(function(r){n[r.name]?e.reportError("Type "+t.name+" can only implement "+r.name+" once.",xt(t,r)):(n[r.name]=!0,function(e,t,n){if(!E(n))return void e.reportError("Type "+String(t)+" must only implement Interface types, it cannot implement "+String(n)+".",function(e,t){return xt(e,t)[0]}(t,n));var r=t.getFields(),i=n.getFields();Object.keys(i).forEach(function(o){var a=r[o],s=i[o];a?(It(e.schema,a.type,s.type)||e.reportError("Interface field "+n.name+"."+o+" expects type "+String(s.type)+" but "+t.name+"."+o+" is type "+String(a.type)+".",[Mt(n,o),Mt(t,o)]),s.args.forEach(function(r){var i=r.name,s=ut(a.args,function(e){return e.name===i});s?wt(r.type,s.type)||e.reportError("Interface field argument "+n.name+"."+o+"("+i+":) expects type "+String(r.type)+" but "+t.name+"."+o+"("+i+":) is type "+String(s.type)+".",[Bt(n,o,i),Bt(t,o,i)]):e.reportError("Interface field argument "+n.name+"."+o+"("+i+":) expected but "+t.name+"."+o+" does not provide it.",[qt(n,o,i),Dt(t,o)])}),a.args.forEach(function(r){var i=r.name,a=ut(s.args,function(e){return e.name===i});!a&&O(r.type)&&e.reportError("Object field argument "+t.name+"."+o+"("+i+":) is of required type "+String(r.type)+" but is not also provided by the Interface field "+n.name+"."+o+".",[Bt(t,o,i),Dt(n,o)])})):e.reportError("Interface field "+n.name+"."+o+" expected but "+t.name+" does not provide it.",[Dt(n,o),t.astNode])})}(e,t,r))})}(e,t)):E(t)?Rt(e,t):I(t)?function(e,t){var n=t.getTypes();0===n.length&&e.reportError("Union type "+t.name+" must define one or more member types.",t.astNode);var r=Object.create(null);n.forEach(function(n){r[n.name]?e.reportError("Union type "+t.name+" can only include type "+n.name+" once.",jt(t,n.name)):(r[n.name]=!0,S(n)||e.reportError("Union type "+t.name+" can only include Object types, it cannot include "+String(n)+".",jt(t,String(n))))})}(e,t):C(t)?function(e,t){var n=t.getValues();0===n.length&&e.reportError("Enum type "+t.name+" must define one or more values.",t.astNode);n.forEach(function(n){var r=n.name,i=function(e,t){return e.astNode&&e.astNode.values&&e.astNode.values.filter(function(e){return e.name.value===t})}(t,r);i&&i.length>1&&e.reportError("Enum type "+t.name+" can include value "+r+" only once.",i),Pt(e,n),"true"!==r&&"false"!==r&&"null"!==r||e.reportError("Enum type "+t.name+" cannot include value: "+r+".",n.astNode)})}(e,t):A(t)&&function(e,t){var n=Ae(t.getFields());0===n.length&&e.reportError("Input Object type "+t.name+" must define one or more fields.",t.astNode);n.forEach(function(n){Pt(e,n),D(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Input Type but got: "+String(n.type)+".",n.astNode&&n.astNode.type)})}(e,t)):e.reportError("Expected GraphQL named type but got: "+String(t)+".",t&&t.astNode)})}(t);var n=t.getErrors();return e.__validationErrors=n,n}function Nt(e){var t=Ct(e);if(0!==t.length)throw new Error(t.map(function(e){return e.message}).join("\n\n"))}var At=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errors=[],this.schema=t}return e.prototype.reportError=function(e,t){var n=(Array.isArray(t)?t:[t]).filter(Boolean);this.addError(new bt(e,n))},e.prototype.addError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e}();function kt(e,t,n){var r=e.astNode,i=r&&r.operationTypes.find(function(e){return e.operation===n});return i?i.type:t&&t.astNode}function Pt(e,t){if(!e.schema.__allowedLegacyNames||-1===e.schema.__allowedLegacyNames.indexOf(t.name)){var n=Et(t.name,t.astNode||void 0);n&&e.addError(n)}}function Rt(e,t){var n=Ae(t.getFields());0===n.length&&e.reportError("Type "+t.name+" must define one or more fields.",Ot(t)),n.forEach(function(n){Pt(e,n);var r=Ut(t,n.name);if(r.length>1)e.reportError("Field "+t.name+"."+n.name+" can only be defined once.",r);else{M(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Output Type but got: "+String(n.type)+".",Mt(t,n.name));var i=Object.create(null);n.args.forEach(function(r){var o=r.name;Pt(e,r),i[o]&&e.reportError("Field argument "+t.name+"."+n.name+"("+o+":) can only be defined once.",Lt(t,n.name,o)),i[o]=!0,D(r.type)||e.reportError("The type of "+t.name+"."+n.name+"("+o+":) must be Input Type but got: "+String(r.type)+".",Bt(t,n.name,o))})}})}function Ot(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}function xt(e,t){for(var n=[],r=function(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}(e),i=0;i<r.length;i++){var o=r[i];o&&o.interfaces&&o.interfaces.forEach(function(e){e.name.value===t.name&&n.push(e)})}return n}function Dt(e,t){return Ut(e,t)[0]}function Ut(e,t){for(var n=[],r=Ot(e),i=0;i<r.length;i++){var o=r[i];o&&o.fields&&o.fields.forEach(function(e){e.name.value===t&&n.push(e)})}return n}function Mt(e,t){var n=Dt(e,t);return n&&n.type}function qt(e,t,n){return Lt(e,t,n)[0]}function Lt(e,t,n){var r=[],i=Dt(e,t);return i&&i.arguments&&i.arguments.forEach(function(e){e.name.value===n&&r.push(e)}),r}function Bt(e,t,n){var r=qt(e,t,n);return r&&r.type}function Ft(e,t){var n=[],r=e.astNode;return r&&r.arguments&&r.arguments.forEach(function(e){e.name.value===t&&n.push(e)}),n}function jt(e,t){return e.astNode&&e.astNode.types&&e.astNode.types.filter(function(e){return e.name.value===t})}var Vt=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t,this.name=n||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||i(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||i(0,"column in locationOffset is 1-indexed and must be positive")};function Kt(e,t,n){return new bt("Syntax Error: "+n,void 0,e,[t])}function zt(e,t,n){return e&&Array.isArray(e.path)?e:new bt(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)}var Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ht(e){return e||i(0,"Received null or undefined error."),Gt({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})}function Wt(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,r=1;r<t.length;r++){var i=t[r],o=Jt(i);if(o<i.length&&(null===n||o<n)&&0===(n=o))break}if(n)for(var a=1;a<t.length;a++)t[a]=t[a].slice(n);for(;t.length>0&&Yt(t[0]);)t.shift();for(;t.length>0&&Yt(t[t.length-1]);)t.pop();return t.join("\n")}function Jt(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Yt(e){return Jt(e)===e.length}function Xt(e,t){var n=new rn(Zt.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Qt,lookahead:$t}}function Qt(){return this.lastToken=this.token,this.token=this.lookahead()}function $t(){var e=this.token;if(e.kind!==Zt.EOF)do{e=e.next||(e.next=an(this,e))}while(e.kind===Zt.COMMENT);return e}var Zt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function en(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind}var tn=String.prototype.charCodeAt,nn=String.prototype.slice;function rn(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function on(e){return isNaN(e)?Zt.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function an(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=tn.call(e,i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===tn.call(e,i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new rn(Zt.EOF,i,i,a,s,t);var u=tn.call(r,o);if(u<32&&9!==u&&10!==u&&13!==u)throw Kt(n,o,"Cannot contain the invalid character "+on(u)+".");switch(u){case 33:return new rn(Zt.BANG,o,o+1,a,s,t);case 35:return function(e,t,n,r,i){var o=e.body,a=void 0,s=t;do{a=tn.call(o,++s)}while(null!==a&&(a>31||9===a));return new rn(Zt.COMMENT,t,s,n,r,i,nn.call(o,t+1,s))}(n,o,a,s,t);case 36:return new rn(Zt.DOLLAR,o,o+1,a,s,t);case 38:return new rn(Zt.AMP,o,o+1,a,s,t);case 40:return new rn(Zt.PAREN_L,o,o+1,a,s,t);case 41:return new rn(Zt.PAREN_R,o,o+1,a,s,t);case 46:if(46===tn.call(r,o+1)&&46===tn.call(r,o+2))return new rn(Zt.SPREAD,o,o+3,a,s,t);break;case 58:return new rn(Zt.COLON,o,o+1,a,s,t);case 61:return new rn(Zt.EQUALS,o,o+1,a,s,t);case 64:return new rn(Zt.AT,o,o+1,a,s,t);case 91:return new rn(Zt.BRACKET_L,o,o+1,a,s,t);case 93:return new rn(Zt.BRACKET_R,o,o+1,a,s,t);case 123:return new rn(Zt.BRACE_L,o,o+1,a,s,t);case 124:return new rn(Zt.PIPE,o,o+1,a,s,t);case 125:return new rn(Zt.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&null!==(u=tn.call(o,s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new rn(Zt.NAME,t,s,n,r,i,nn.call(o,t,s))}(n,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;45===s&&(s=tn.call(a,++u));if(48===s){if((s=tn.call(a,++u))>=48&&s<=57)throw Kt(e,u,"Invalid number, unexpected digit after 0: "+on(s)+".")}else u=sn(e,u,s),s=tn.call(a,u);46===s&&(c=!0,s=tn.call(a,++u),u=sn(e,u,s),s=tn.call(a,u));69!==s&&101!==s||(c=!0,43!==(s=tn.call(a,++u))&&45!==s||(s=tn.call(a,++u)),u=sn(e,u,s));return new rn(c?Zt.FLOAT:Zt.INT,t,u,r,i,o,nn.call(a,t,u))}(n,o,u,a,s,t);case 34:return 34===tn.call(r,o+1)&&34===tn.call(r,o+2)?function(e,t,n,r,i){var o=e.body,a=t+3,s=a,u=0,c="";for(;a<o.length&&null!==(u=tn.call(o,a));){if(34===u&&34===tn.call(o,a+1)&&34===tn.call(o,a+2))return c+=nn.call(o,s,a),new rn(Zt.BLOCK_STRING,t,a+3,n,r,i,Wt(c));if(u<32&&9!==u&&10!==u&&13!==u)throw Kt(e,a,"Invalid character within String: "+on(u)+".");92===u&&34===tn.call(o,a+1)&&34===tn.call(o,a+2)&&34===tn.call(o,a+3)?(c+=nn.call(o,s,a)+'"""',s=a+=4):++a}throw Kt(e,a,"Unterminated string.")}(n,o,a,s,t):function(e,t,n,r,i){var o=e.body,a=t+1,s=a,u=0,c="";for(;a<o.length&&null!==(u=tn.call(o,a))&&10!==u&&13!==u;){if(34===u)return c+=nn.call(o,s,a),new rn(Zt.STRING,t,a+1,n,r,i,c);if(u<32&&9!==u)throw Kt(e,a,"Invalid character within String: "+on(u)+".");if(++a,92===u){switch(c+=nn.call(o,s,a-1),u=tn.call(o,a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=(p=tn.call(o,a+1),d=tn.call(o,a+2),f=tn.call(o,a+3),h=tn.call(o,a+4),un(p)<<12|un(d)<<8|un(f)<<4|un(h));if(l<0)throw Kt(e,a,"Invalid character escape sequence: \\u"+o.slice(a+1,a+5)+".");c+=String.fromCharCode(l),a+=4;break;default:throw Kt(e,a,"Invalid character escape sequence: \\"+String.fromCharCode(u)+".")}s=++a}}var p,d,f,h;throw Kt(e,a,"Unterminated string.")}(n,o,a,s,t)}throw Kt(n,o,function(e){if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character "+on(e)+"."}(u))}function sn(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=tn.call(r,++i)}while(o>=48&&o<=57);return i}throw Kt(e,i,"Invalid number, expected digit but got: "+on(o)+".")}function un(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function cn(e,t){var n="string"==typeof e?new Vt(e):e;if(!(n instanceof Vt))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;Zn(e,Zt.SOF);var n=[];do{n.push(fn(e))}while(!$n(e,Zt.EOF));return{kind:a.DOCUMENT,definitions:n,loc:Yn(e,t)}}(Xt(n,t||{}))}function ln(e,t){var n=Xt("string"==typeof e?new Vt(e):e,t||{});Zn(n,Zt.SOF);var r=Cn(n,!1);return Zn(n,Zt.EOF),r}function pn(e,t){var n=Xt("string"==typeof e?new Vt(e):e,t||{});Zn(n,Zt.SOF);var r=xn(n);return Zn(n,Zt.EOF),r}function dn(e){var t=Zn(e,Zt.NAME);return{kind:a.NAME,value:t.value,loc:Yn(e,t)}}function fn(e){if(Qn(e,Zt.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return hn(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return Un(e)}else{if(Qn(e,Zt.BRACE_L))return hn(e);if(Mn(e))return Un(e)}throw tr(e)}function hn(e){if(Qn(e,Zt.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return mn(e);case"fragment":return function(e){var t=e.token;if(er(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:a.FRAGMENT_DEFINITION,name:Tn(e),variableDefinitions:gn(e),typeCondition:(er(e,"on"),Dn(e)),directives:Rn(e,!1),selectionSet:Sn(e),loc:Yn(e,t)};return{kind:a.FRAGMENT_DEFINITION,name:Tn(e),typeCondition:(er(e,"on"),Dn(e)),directives:Rn(e,!1),selectionSet:Sn(e),loc:Yn(e,t)}}(e)}else if(Qn(e,Zt.BRACE_L))return mn(e);throw tr(e)}function mn(e){var t=e.token;if(Qn(e,Zt.BRACE_L))return{kind:a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:Sn(e),loc:Yn(e,t)};var n=yn(e),r=void 0;return Qn(e,Zt.NAME)&&(r=dn(e)),{kind:a.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:gn(e),directives:Rn(e,!1),selectionSet:Sn(e),loc:Yn(e,t)}}function yn(e){var t=Zn(e,Zt.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw tr(e,t)}function gn(e){return Qn(e,Zt.PAREN_L)?rr(e,Zt.PAREN_L,vn,Zt.PAREN_R):[]}function vn(e){var t=e.token;return{kind:a.VARIABLE_DEFINITION,variable:bn(e),type:(Zn(e,Zt.COLON),xn(e)),defaultValue:$n(e,Zt.EQUALS)?Cn(e,!0):void 0,loc:Yn(e,t)}}function bn(e){var t=e.token;return Zn(e,Zt.DOLLAR),{kind:a.VARIABLE,name:dn(e),loc:Yn(e,t)}}function Sn(e){var t=e.token;return{kind:a.SELECTION_SET,selections:rr(e,Zt.BRACE_L,_n,Zt.BRACE_R),loc:Yn(e,t)}}function _n(e){return Qn(e,Zt.SPREAD)?function(e){var t=e.token;if(Zn(e,Zt.SPREAD),Qn(e,Zt.NAME)&&"on"!==e.token.value)return{kind:a.FRAGMENT_SPREAD,name:Tn(e),directives:Rn(e,!1),loc:Yn(e,t)};var n=void 0;"on"===e.token.value&&(e.advance(),n=Dn(e));return{kind:a.INLINE_FRAGMENT,typeCondition:n,directives:Rn(e,!1),selectionSet:Sn(e),loc:Yn(e,t)}}(e):function(e){var t=e.token,n=dn(e),r=void 0,i=void 0;$n(e,Zt.COLON)?(r=n,i=dn(e)):i=n;return{kind:a.FIELD,alias:r,name:i,arguments:En(e,!1),directives:Rn(e,!1),selectionSet:Qn(e,Zt.BRACE_L)?Sn(e):void 0,loc:Yn(e,t)}}(e)}function En(e,t){var n=t?In:wn;return Qn(e,Zt.PAREN_L)?rr(e,Zt.PAREN_L,n,Zt.PAREN_R):[]}function wn(e){var t=e.token;return{kind:a.ARGUMENT,name:dn(e),value:(Zn(e,Zt.COLON),Cn(e,!1)),loc:Yn(e,t)}}function In(e){var t=e.token;return{kind:a.ARGUMENT,name:dn(e),value:(Zn(e,Zt.COLON),An(e)),loc:Yn(e,t)}}function Tn(e){if("on"===e.token.value)throw tr(e);return dn(e)}function Cn(e,t){var n=e.token;switch(n.kind){case Zt.BRACKET_L:return function(e,t){var n=e.token,r=t?An:kn;return{kind:a.LIST,values:nr(e,Zt.BRACKET_L,r,Zt.BRACKET_R),loc:Yn(e,n)}}(e,t);case Zt.BRACE_L:return function(e,t){var n=e.token;Zn(e,Zt.BRACE_L);var r=[];for(;!$n(e,Zt.BRACE_R);)r.push(Pn(e,t));return{kind:a.OBJECT,fields:r,loc:Yn(e,n)}}(e,t);case Zt.INT:return e.advance(),{kind:a.INT,value:n.value,loc:Yn(e,n)};case Zt.FLOAT:return e.advance(),{kind:a.FLOAT,value:n.value,loc:Yn(e,n)};case Zt.STRING:case Zt.BLOCK_STRING:return Nn(e);case Zt.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:a.BOOLEAN,value:"true"===n.value,loc:Yn(e,n)}):"null"===n.value?(e.advance(),{kind:a.NULL,loc:Yn(e,n)}):(e.advance(),{kind:a.ENUM,value:n.value,loc:Yn(e,n)});case Zt.DOLLAR:if(!t)return bn(e)}throw tr(e)}function Nn(e){var t=e.token;return e.advance(),{kind:a.STRING,value:t.value,block:t.kind===Zt.BLOCK_STRING,loc:Yn(e,t)}}function An(e){return Cn(e,!0)}function kn(e){return Cn(e,!1)}function Pn(e,t){var n=e.token;return{kind:a.OBJECT_FIELD,name:dn(e),value:(Zn(e,Zt.COLON),Cn(e,t)),loc:Yn(e,n)}}function Rn(e,t){for(var n=[];Qn(e,Zt.AT);)n.push(On(e,t));return n}function On(e,t){var n=e.token;return Zn(e,Zt.AT),{kind:a.DIRECTIVE,name:dn(e),arguments:En(e,t),loc:Yn(e,n)}}function xn(e){var t=e.token,n=void 0;return $n(e,Zt.BRACKET_L)?(n=xn(e),Zn(e,Zt.BRACKET_R),n={kind:a.LIST_TYPE,type:n,loc:Yn(e,t)}):n=Dn(e),$n(e,Zt.BANG)?{kind:a.NON_NULL_TYPE,type:n,loc:Yn(e,t)}:n}function Dn(e){var t=e.token;return{kind:a.NAMED_TYPE,name:dn(e),loc:Yn(e,t)}}function Un(e){var t=Mn(e)?e.lookahead():e.token;if(t.kind===Zt.NAME)switch(t.value){case"schema":return function(e){var t=e.token;er(e,"schema");var n=Rn(e,!0),r=rr(e,Zt.BRACE_L,Ln,Zt.BRACE_R);return{kind:a.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Yn(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=qn(e);er(e,"scalar");var r=dn(e),i=Rn(e,!0);return{kind:a.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:Yn(e,t)}}(e);case"type":return function(e){var t=e.token,n=qn(e);er(e,"type");var r=dn(e),i=Bn(e),o=Rn(e,!0),s=Fn(e);return{kind:a.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s,loc:Yn(e,t)}}(e);case"interface":return function(e){var t=e.token,n=qn(e);er(e,"interface");var r=dn(e),i=Rn(e,!0),o=Fn(e);return{kind:a.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Yn(e,t)}}(e);case"union":return function(e){var t=e.token,n=qn(e);er(e,"union");var r=dn(e),i=Rn(e,!0),o=zn(e);return{kind:a.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:Yn(e,t)}}(e);case"enum":return function(e){var t=e.token,n=qn(e);er(e,"enum");var r=dn(e),i=Rn(e,!0),o=Gn(e);return{kind:a.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:Yn(e,t)}}(e);case"input":return function(e){var t=e.token,n=qn(e);er(e,"input");var r=dn(e),i=Rn(e,!0),o=Wn(e);return{kind:a.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Yn(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===Zt.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;er(e,"extend"),er(e,"scalar");var n=dn(e),r=Rn(e,!0);if(0===r.length)throw tr(e);return{kind:a.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Yn(e,t)}}(e);case"type":return function(e){var t=e.token;er(e,"extend"),er(e,"type");var n=dn(e),r=Bn(e),i=Rn(e,!0),o=Fn(e);if(0===r.length&&0===i.length&&0===o.length)throw tr(e);return{kind:a.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:Yn(e,t)}}(e);case"interface":return function(e){var t=e.token;er(e,"extend"),er(e,"interface");var n=dn(e),r=Rn(e,!0),i=Fn(e);if(0===r.length&&0===i.length)throw tr(e);return{kind:a.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Yn(e,t)}}(e);case"union":return function(e){var t=e.token;er(e,"extend"),er(e,"union");var n=dn(e),r=Rn(e,!0),i=zn(e);if(0===r.length&&0===i.length)throw tr(e);return{kind:a.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:Yn(e,t)}}(e);case"enum":return function(e){var t=e.token;er(e,"extend"),er(e,"enum");var n=dn(e),r=Rn(e,!0),i=Gn(e);if(0===r.length&&0===i.length)throw tr(e);return{kind:a.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:Yn(e,t)}}(e);case"input":return function(e){var t=e.token;er(e,"extend"),er(e,"input");var n=dn(e),r=Rn(e,!0),i=Wn(e);if(0===r.length&&0===i.length)throw tr(e);return{kind:a.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Yn(e,t)}}(e)}throw tr(e,t)}(e);case"directive":return function(e){var t=e.token,n=qn(e);er(e,"directive"),Zn(e,Zt.AT);var r=dn(e),i=Vn(e);er(e,"on");var o=function(e){$n(e,Zt.PIPE);var t=[];do{t.push(Jn(e))}while($n(e,Zt.PIPE));return t}(e);return{kind:a.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:o,loc:Yn(e,t)}}(e)}throw tr(e,t)}function Mn(e){return Qn(e,Zt.STRING)||Qn(e,Zt.BLOCK_STRING)}function qn(e){if(Mn(e))return Nn(e)}function Ln(e){var t=e.token,n=yn(e);Zn(e,Zt.COLON);var r=Dn(e);return{kind:a.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Yn(e,t)}}function Bn(e){var t=[];if("implements"===e.token.value){e.advance(),$n(e,Zt.AMP);do{t.push(Dn(e))}while($n(e,Zt.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Qn(e,Zt.NAME))}return t}function Fn(e){return e.options.allowLegacySDLEmptyFields&&Qn(e,Zt.BRACE_L)&&e.lookahead().kind===Zt.BRACE_R?(e.advance(),e.advance(),[]):Qn(e,Zt.BRACE_L)?rr(e,Zt.BRACE_L,jn,Zt.BRACE_R):[]}function jn(e){var t=e.token,n=qn(e),r=dn(e),i=Vn(e);Zn(e,Zt.COLON);var o=xn(e),s=Rn(e,!0);return{kind:a.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s,loc:Yn(e,t)}}function Vn(e){return Qn(e,Zt.PAREN_L)?rr(e,Zt.PAREN_L,Kn,Zt.PAREN_R):[]}function Kn(e){var t=e.token,n=qn(e),r=dn(e);Zn(e,Zt.COLON);var i=xn(e),o=void 0;$n(e,Zt.EQUALS)&&(o=An(e));var s=Rn(e,!0);return{kind:a.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s,loc:Yn(e,t)}}function zn(e){var t=[];if($n(e,Zt.EQUALS)){$n(e,Zt.PIPE);do{t.push(Dn(e))}while($n(e,Zt.PIPE))}return t}function Gn(e){return Qn(e,Zt.BRACE_L)?rr(e,Zt.BRACE_L,Hn,Zt.BRACE_R):[]}function Hn(e){var t=e.token,n=qn(e),r=dn(e),i=Rn(e,!0);return{kind:a.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:Yn(e,t)}}function Wn(e){return Qn(e,Zt.BRACE_L)?rr(e,Zt.BRACE_L,Kn,Zt.BRACE_R):[]}function Jn(e){var t=e.token,n=dn(e);if(be.hasOwnProperty(n.value))return n;throw tr(e,t)}function Yn(e,t){if(!e.options.noLocation)return new Xn(t,e.lastToken,e.source)}function Xn(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Qn(e,t){return e.token.kind===t}function $n(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Zn(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw Kt(e.source,n.start,"Expected "+t+", found "+en(n))}function er(e,t){var n=e.token;if(n.kind===Zt.NAME&&n.value===t)return e.advance(),n;throw Kt(e.source,n.start,'Expected "'+t+'", found '+en(n))}function tr(e,t){var n=t||e.token;return Kt(e.source,n.start,"Unexpected "+en(n))}function nr(e,t,n,r){Zn(e,t);for(var i=[];!$n(e,r);)i.push(n(e));return i}function rr(e,t,n,r){Zn(e,t);for(var i=[n(e)];!$n(e,r);)i.push(n(e));return i}function ir(e,t){var n=void 0;if(t.kind===a.LIST_TYPE)return(n=ir(e,t.type))&&c(n);if(t.kind===a.NON_NULL_TYPE)return(n=ir(e,t.type))&&p(n);if(t.kind===a.NAMED_TYPE)return e.getType(t.name.value);throw new Error("Unexpected type kind: "+t.kind+".")}rn.prototype.toJSON=rn.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},Xn.prototype.toJSON=Xn.prototype.inspect=function(){return{start:this.start,end:this.end}};var or=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n||ar,r&&(D(r)&&this._inputTypeStack.push(r),F(r)&&this._parentTypeStack.push(r),M(r)&&this._typeStack.push(r))}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.getEnumValue=function(){return this._enumValue},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case a.SELECTION_SET:var n=Q(this.getType());this._parentTypeStack.push(F(n)?n:void 0);break;case a.FIELD:var r=this.getParentType(),i=void 0,o=void 0;r&&(i=this._getFieldDef(t,r,e))&&(o=i.type),this._fieldDefStack.push(i),this._typeStack.push(M(o)?o:void 0);break;case a.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case a.OPERATION_DEFINITION:var s=void 0;"query"===e.operation?s=t.getQueryType():"mutation"===e.operation?s=t.getMutationType():"subscription"===e.operation&&(s=t.getSubscriptionType()),this._typeStack.push(S(s)?s:void 0);break;case a.INLINE_FRAGMENT:case a.FRAGMENT_DEFINITION:var u=e.typeCondition,c=u?ir(t,u):Q(this.getType());this._typeStack.push(M(c)?c:void 0);break;case a.VARIABLE_DEFINITION:var l=ir(t,e.type);this._inputTypeStack.push(D(l)?l:void 0);break;case a.ARGUMENT:var p=void 0,d=void 0,f=this.getDirective()||this.getFieldDef();f&&(p=ut(f.args,function(t){return t.name===e.name.value}))&&(d=p.type),this._argument=p,this._inputTypeStack.push(D(d)?d:void 0);break;case a.LIST:var h=J(this.getInputType()),m=P(h)?h.ofType:h;this._inputTypeStack.push(D(m)?m:void 0);break;case a.OBJECT_FIELD:var y=Q(this.getInputType()),g=void 0;if(A(y)){var v=y.getFields()[e.name.value];v&&(g=v.type)}this._inputTypeStack.push(D(g)?g:void 0);break;case a.ENUM:var b=Q(this.getInputType()),_=void 0;C(b)&&(_=b.getValue(e.value)),this._enumValue=_}},e.prototype.leave=function(e){switch(e.kind){case a.SELECTION_SET:this._parentTypeStack.pop();break;case a.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case a.DIRECTIVE:this._directive=null;break;case a.OPERATION_DEFINITION:case a.INLINE_FRAGMENT:case a.FRAGMENT_DEFINITION:this._typeStack.pop();break;case a.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case a.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case a.LIST:case a.OBJECT_FIELD:this._inputTypeStack.pop();break;case a.ENUM:this._enumValue=null}},e}();function ar(e,t,n){var r=n.name.value;return r===rt.name&&e.getQueryType()===t?rt:r===it.name&&e.getQueryType()===t?it:r===ot.name&&F(t)?ot:S(t)||E(t)?t.getFields()[r]:void 0}function sr(e){var t=Object.create(null);return{OperationDefinition:function(n){var r=n.name;return r&&(t[r.value]?e.reportError(new bt(function(e){return'There can be only one operation named "'+e+'".'}(r.value),[t[r.value],r])):t[r.value]=r),!1},FragmentDefinition:function(){return!1}}}function ur(e){var t=0;return{Document:function(e){t=e.definitions.filter(function(e){return e.kind===a.OPERATION_DEFINITION}).length},OperationDefinition:function(n){!n.name&&t>1&&e.reportError(new bt("This anonymous operation must be the only defined operation.",[n]))}}}function cr(e){return{OperationDefinition:function(t){var n;"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new bt(((n=t.name&&t.name.value)?'Subscription "'+n+'" ':"Anonymous Subscription ")+"must select only one top level field.",t.selectionSet.selections.slice(1)))}}}function lr(e,t){for(var n=Object.create(null),r=t.length,i=e.length/2,o=0;o<r;o++){var a=pr(e,t[o]);a<=Math.max(i,t[o].length/2,1)&&(n[t[o]]=a)}return Object.keys(n).sort(function(e,t){return n[e]-n[t]})}function pr(e,t){if(e===t)return 0;var n=void 0,r=void 0,i=[],o=e.toLowerCase(),a=t.toLowerCase(),s=o.length,u=a.length;if(o===a)return 1;for(n=0;n<=s;n++)i[n]=[n];for(r=1;r<=u;r++)i[0][r]=r;for(n=1;n<=s;n++)for(r=1;r<=u;r++){var c=o[n-1]===a[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+c),n>1&&r>1&&o[n-1]===a[r-2]&&o[n-2]===a[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+c))}return i[s][u]}var dr=5;function fr(e){var t=e.slice(0,dr);return t.reduce(function(e,n,r){return e+(t.length>2?", ":" ")+(r===t.length-1?"or ":"")+n})}function hr(e){return fr(e.map(function(e){return'"'+e+'"'}))}function mr(e){return{ObjectTypeDefinition:function(){return!1},InterfaceTypeDefinition:function(){return!1},UnionTypeDefinition:function(){return!1},InputObjectTypeDefinition:function(){return!1},NamedType:function(t){var n=e.getSchema(),r=t.name.value;n.getType(r)||e.reportError(new bt(function(e,t){var n='Unknown type "'+e+'".';return t.length&&(n+=" Did you mean "+hr(t)+"?"),n}(r,lr(r,Object.keys(n.getTypeMap()))),[t]))}}}function yr(e){return{InlineFragment:function(t){var n=t.typeCondition;if(n){var r=ir(e.getSchema(),n);r&&!F(r)&&e.reportError(new bt(function(e){return'Fragment cannot condition on non composite type "'+String(e)+'".'}(je(n)),[n]))}},FragmentDefinition:function(t){var n=ir(e.getSchema(),t.typeCondition);n&&!F(n)&&e.reportError(new bt(function(e,t){return'Fragment "'+e+'" cannot condition on non composite type "'+String(t)+'".'}(t.name.value,je(t.typeCondition)),[t.typeCondition]))}}}function gr(e){return{VariableDefinition:function(t){var n=ir(e.getSchema(),t.type);if(n&&!D(n)){var r=t.variable.name.value;e.reportError(new bt(function(e,t){return'Variable "$'+e+'" cannot be non-input type "'+t+'".'}(r,je(t.type)),[t.type]))}}}}function vr(e){return{Field:function(t){var n=e.getType(),r=t.selectionSet;n&&(L(Q(n))?r&&e.reportError(new bt(function(e,t){return'Field "'+e+'" must not have a selection since type "'+String(t)+'" has no subfields.'}(t.name.value,n),[r])):r||e.reportError(new bt(function(e,t){return'Field "'+e+'" of type "'+String(t)+'" must have a selection of subfields. Did you mean "'+e+' { ... }"?'}(t.name.value,n),[t])))}}}function br(e){return{Field:function(t){var n=e.getParentType();if(n&&!e.getFieldDef()){var r=e.getSchema(),i=t.name.value,o=function(e,t,n){if(V(t)){var r=[],i=Object.create(null);e.getPossibleTypes(t).forEach(function(e){e.getFields()[n]&&(r.push(e.name),e.getInterfaces().forEach(function(e){e.getFields()[n]&&(i[e.name]=(i[e.name]||0)+1)}))});var o=Object.keys(i).sort(function(e,t){return i[t]-i[e]});return o.concat(r)}return[]}(r,n,i),a=0!==o.length?[]:function(e,t,n){if(S(t)||E(t)){var r=Object.keys(t.getFields());return lr(n,r)}return[]}(0,n,i);e.reportError(new bt(function(e,t,n,r){var i='Cannot query field "'+e+'" on type "'+t+'".';return 0!==n.length?i+=" Did you mean to use an inline fragment on "+hr(n)+"?":0!==r.length&&(i+=" Did you mean "+hr(r)+"?"),i}(i,n.name,o,a),[t]))}}}}function Sr(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var r=n.name.value;return t[r]?e.reportError(new bt('There can be only one fragment named "'+r+'".',[t[r],n.name])):t[r]=n.name,!1}}}function _r(e){return{FragmentSpread:function(t){var n=t.name.value;e.getFragment(n)||e.reportError(new bt('Unknown fragment "'+n+'".',[t.name]))}}}function Er(e){var t=[],n=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){var r=Object.create(null);t.forEach(function(t){e.getRecursivelyReferencedFragments(t).forEach(function(e){r[e.name.value]=!0})}),n.forEach(function(t){var n=t.name.value;!0!==r[n]&&e.reportError(new bt(function(e){return'Fragment "'+e+'" is never used.'}(n),[t]))})}}}}function wr(e){return{InlineFragment:function(t){var n=e.getType(),r=e.getParentType();F(n)&&F(r)&&!Tt(e.getSchema(),n,r)&&e.reportError(new bt(function(e,t){return'Fragment cannot be spread here as objects of type "'+String(e)+'" can never be of type "'+String(t)+'".'}(r,n),[t]))},FragmentSpread:function(t){var n=t.name.value,r=function(e,t){var n=e.getFragment(t);if(n){var r=ir(e.getSchema(),n.typeCondition);if(F(r))return r}}(e,n),i=e.getParentType();r&&i&&!Tt(e.getSchema(),r,i)&&e.reportError(new bt(function(e,t,n){return'Fragment "'+e+'" cannot be spread here as objects of type "'+String(t)+'" can never be of type "'+String(n)+'".'}(n,i,r),[t]))}}}function Ir(e){var t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(i){return t[i.name.value]||function i(o){var a=o.name.value;t[a]=!0;var s=e.getFragmentSpreads(o.selectionSet);if(0===s.length)return;r[a]=n.length;for(var u=0;u<s.length;u++){var c=s[u],l=c.name.value,p=r[l];if(void 0===p){if(n.push(c),!t[l]){var d=e.getFragment(l);d&&i(d)}n.pop()}else{var f=n.slice(p);e.reportError(new bt((h=l,m=f.map(function(e){return e.name.value}),'Cannot spread fragment "'+h+'" within itself'+(m.length?" via "+m.join(", "):"")+"."),f.concat(c)))}}var h,m;r[a]=void 0}(i),!1}}}function Tr(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(n){var r=n.variable.name.value;t[r]?e.reportError(new bt(function(e){return'There can be only one variable named "'+e+'".'}(r),[t[r],n.variable.name])):t[r]=n.variable.name}}}function Cr(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(r){var i=r.node,o=i.name.value;!0!==t[o]&&e.reportError(new bt(function(e,t){return t?'Variable "$'+e+'" is not defined by operation "'+t+'".':'Variable "$'+e+'" is not defined.'}(o,n.name&&n.name.value),[i,n]))})}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}}function Nr(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(n){var r=Object.create(null),i=e.getRecursiveVariableUsages(n),o=n.name?n.name.value:null;i.forEach(function(e){var t=e.node;r[t.name.value]=!0}),t.forEach(function(t){var n=t.variable.name.value;!0!==r[n]&&e.reportError(new bt(function(e,t){return t?'Variable "$'+e+'" is never used in operation "'+t+'".':'Variable "$'+e+'" is never used.'}(n,o),[t]))})}},VariableDefinition:function(e){t.push(e)}}}function Ar(e){return{Directive:function(t,n,r,i,o){var s=ut(e.getSchema().getDirectives(),function(e){return e.name===t.name.value});if(s){var u=function(e){var t=e[e.length-1];if(!Array.isArray(t))switch(t.kind){case a.OPERATION_DEFINITION:switch(t.operation){case"query":return be.QUERY;case"mutation":return be.MUTATION;case"subscription":return be.SUBSCRIPTION}break;case a.FIELD:return be.FIELD;case a.FRAGMENT_SPREAD:return be.FRAGMENT_SPREAD;case a.INLINE_FRAGMENT:return be.INLINE_FRAGMENT;case a.FRAGMENT_DEFINITION:return be.FRAGMENT_DEFINITION;case a.SCHEMA_DEFINITION:return be.SCHEMA;case a.SCALAR_TYPE_DEFINITION:case a.SCALAR_TYPE_EXTENSION:return be.SCALAR;case a.OBJECT_TYPE_DEFINITION:case a.OBJECT_TYPE_EXTENSION:return be.OBJECT;case a.FIELD_DEFINITION:return be.FIELD_DEFINITION;case a.INTERFACE_TYPE_DEFINITION:case a.INTERFACE_TYPE_EXTENSION:return be.INTERFACE;case a.UNION_TYPE_DEFINITION:case a.UNION_TYPE_EXTENSION:return be.UNION;case a.ENUM_TYPE_DEFINITION:case a.ENUM_TYPE_EXTENSION:return be.ENUM;case a.ENUM_VALUE_DEFINITION:return be.ENUM_VALUE;case a.INPUT_OBJECT_TYPE_DEFINITION:case a.INPUT_OBJECT_TYPE_EXTENSION:return be.INPUT_OBJECT;case a.INPUT_VALUE_DEFINITION:var n=e[e.length-3];return n.kind===a.INPUT_OBJECT_TYPE_DEFINITION?be.INPUT_FIELD_DEFINITION:be.ARGUMENT_DEFINITION}}(o);u&&-1===s.locations.indexOf(u)&&e.reportError(new bt(function(e,t){return'Directive "'+e+'" may not be used on '+t+"."}(t.name.value,u),[t]))}else e.reportError(new bt('Unknown directive "'+t.name.value+'".',[t]))}}}function kr(e){return{enter:function(t){var n=t.directives;if(n){var r=Object.create(null);n.forEach(function(t){var n=t.name.value;r[n]?e.reportError(new bt(function(e){return'The directive "'+e+'" can only be used once at this location.'}(n),[r[n],t])):r[n]=t})}}}}function Pr(e){return{Argument:function(t,n,r,i,o){var s,u,c,l,p;if(!e.getArgument()){var d=o[o.length-1];if(d.kind===a.FIELD){var f=e.getFieldDef(),h=e.getParentType();f&&h&&e.reportError(new bt((s=t.name.value,u=f.name,c=h.name,l=lr(t.name.value,f.args.map(function(e){return e.name})),p='Unknown argument "'+s+'" on field "'+u+'" of type "'+c+'".',l.length&&(p+=" Did you mean "+hr(l)+"?"),p),[t]))}else if(d.kind===a.DIRECTIVE){var m=e.getDirective();m&&e.reportError(new bt(function(e,t,n){var r='Unknown argument "'+e+'" on directive "@'+t+'".';return n.length&&(r+=" Did you mean "+hr(n)+"?"),r}(t.name.value,m.name,lr(t.name.value,m.args.map(function(e){return e.name}))),[t]))}}}}}function Rr(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(n){var r=n.name.value;return t[r]?e.reportError(new bt(function(e){return'There can be only one argument named "'+e+'".'}(r),[t[r],n.name])):t[r]=n.name,!1}}}function Or(e,t){return e.reduce(function(e,n){return e[t(n)]=n,e},Object.create(null))}function xr(e,t,n){return"Expected type "+e+", found "+t+(n?"; "+n:".")}function Dr(e){return{NullValue:function(t){var n=e.getInputType();O(n)&&e.reportError(new bt(xr(String(n),je(t)),t))},ListValue:function(t){if(!P(J(e.getParentInputType())))return Ur(e,t),!1},ObjectValue:function(t){var n=Q(e.getInputType());if(!A(n))return Ur(e,t),!1;var r=n.getFields(),i=Or(t.fields,function(e){return e.name.value});Object.keys(r).forEach(function(o){var a=r[o].type;!i[o]&&O(a)&&e.reportError(new bt(function(e,t,n){return"Field "+e+"."+t+" of required type "+n+" was not provided."}(n.name,o,String(a)),t))})},ObjectField:function(t){var n,r,i=Q(e.getParentInputType());if(!e.getInputType()&&A(i)){var o=lr(t.name.value,Object.keys(i.getFields())),a=0!==o.length?"Did you mean "+fr(o)+"?":void 0;e.reportError(new bt((n=i.name,'Field "'+t.name.value+'" is not defined by type '+n+((r=a)?"; "+r:".")),t))}},EnumValue:function(t){var n=Q(e.getInputType());C(n)?n.getValue(t.value)||e.reportError(new bt(xr(n.name,je(t),Mr(n,t)),t)):Ur(e,t)},IntValue:function(t){return Ur(e,t)},FloatValue:function(t){return Ur(e,t)},StringValue:function(t){return Ur(e,t)},BooleanValue:function(t){return Ur(e,t)}}}function Ur(e,t){var n=e.getInputType();if(n){var r=Q(n);if(v(r))try{o(r.parseLiteral(t,void 0))&&e.reportError(new bt(xr(String(n),je(t)),t))}catch(r){e.reportError(new bt(xr(String(n),je(t),r.message),t,void 0,void 0,void 0,r))}else e.reportError(new bt(xr(String(n),je(t),Mr(r,t)),t))}}function Mr(e,t){if(C(e)){var n=lr(je(t),e.getValues().map(function(e){return e.name}));if(0!==n.length)return"Did you mean the enum value "+fr(n)+"?"}}function qr(e){return{Field:{leave:function(t){var n=e.getFieldDef();if(!n)return!1;var r=Or(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){var i,o,a;!r[n.name]&&O(n.type)&&e.reportError(new bt((i=t.name.value,o=n.name,a=n.type,'Field "'+i+'" argument "'+o+'" of type "'+String(a)+'" is required but not provided.'),[t]))})}},Directive:{leave:function(t){var n=e.getDirective();if(!n)return!1;var r=Or(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){var i,o,a;!r[n.name]&&O(n.type)&&e.reportError(new bt((i=t.name.value,o=n.name,a=n.type,'Directive "@'+i+'" argument "'+o+'" of type "'+String(a)+'" is required but not provided.'),[t]))})}}}}function Lr(e){return{VariableDefinition:function(t){var n=t.variable.name.value,r=t.defaultValue,i=e.getInputType();return O(i)&&r&&e.reportError(new bt(function(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" is required and will not use the default value. Perhaps you meant to use type "'+String(n)+'".'}(n,i,i.ofType),[r])),!1},SelectionSet:function(){return!1},FragmentDefinition:function(){return!1}}}function Br(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(n){var r=n.node,i=n.type,o=r.name.value,a=t[o];if(a&&i){var s=e.getSchema(),u=ir(s,a.type);u&&!It(s,function(e,t){return!t.defaultValue||O(e)?e:p(e)}(u,a),i)&&e.reportError(new bt(function(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" used in position expecting type "'+String(n)+'".'}(o,u,i),[a,r]))}})}},VariableDefinition:function(e){t[e.variable.name.value]=e}}}function Fr(e,t){return'Fields "'+e+'" conflict because '+function e(t){if(Array.isArray(t))return t.map(function(t){var n=t[0],r=t[1];return'subfields "'+n+'" conflict because '+e(r)}).join(" and ");return t}(t)+". Use different aliases on the fields to fetch both if this was intentional."}function jr(e){var t=new Jr,n=new Map;return{SelectionSet:function(r){(function(e,t,n,r,i){var o=[],a=Hr(e,t,r,i),s=a[0],u=a[1];if(function(e,t,n,r,i){Object.keys(i).forEach(function(o){var a=i[o];if(a.length>1)for(var s=0;s<a.length;s++)for(var u=s+1;u<a.length;u++){var c=Gr(e,n,r,!1,o,a[s],a[u]);c&&t.push(c)}})}(e,o,t,n,s),0!==u.length)for(var c=Object.create(null),l=0;l<u.length;l++){Vr(e,o,t,c,n,!1,s,u[l]);for(var p=l+1;p<u.length;p++)Kr(e,o,t,n,!1,u[l],u[p])}return o})(e,n,t,e.getParentType(),r).forEach(function(t){var n=t[0],r=n[0],i=n[1],o=t[1],a=t[2];return e.reportError(new bt(Fr(r,i),o.concat(a)))})}}}function Vr(e,t,n,r,i,o,a,s){if(!r[s]){r[s]=!0;var u=e.getFragment(s);if(u){var c=Wr(e,n,u),l=c[0],p=c[1];if(a!==l){zr(e,t,n,i,o,a,l);for(var d=0;d<p.length;d++)Vr(e,t,n,r,i,o,a,p[d])}}}}function Kr(e,t,n,r,i,o,a){if(o!==a&&!r.has(o,a,i)){r.add(o,a,i);var s=e.getFragment(o),u=e.getFragment(a);if(s&&u){var c=Wr(e,n,s),l=c[0],p=c[1],d=Wr(e,n,u),f=d[0],h=d[1];zr(e,t,n,r,i,l,f);for(var m=0;m<h.length;m++)Kr(e,t,n,r,i,o,h[m]);for(var y=0;y<p.length;y++)Kr(e,t,n,r,i,p[y],a)}}}function zr(e,t,n,r,i,o,a){Object.keys(o).forEach(function(s){var u=a[s];if(u)for(var c=o[s],l=0;l<c.length;l++)for(var p=0;p<u.length;p++){var d=Gr(e,n,r,i,s,c[l],u[p]);d&&t.push(d)}})}function Gr(e,t,n,r,i,o,a){var s=o[0],u=o[1],c=o[2],l=a[0],p=a[1],d=a[2],f=r||s!==l&&S(s)&&S(l),h=c&&c.type,m=d&&d.type;if(!f){var y=u.name.value,g=p.name.value;if(y!==g)return[[i,y+" and "+g+" are different fields"],[u],[p]];if(!function(e,t){if(e.length!==t.length)return!1;return e.every(function(e){var n,r,i=ut(t,function(t){return t.name.value===e.name.value});return!!i&&(n=e.value,r=i.value,!n&&!r||je(n)===je(r))})}(u.arguments||[],p.arguments||[]))return[[i,"they have differing arguments"],[u],[p]]}if(h&&m&&function e(t,n){if(P(t))return!P(n)||e(t.ofType,n.ofType);if(P(n))return!0;if(O(t))return!O(n)||e(t.ofType,n.ofType);if(O(n))return!0;if(L(t)||L(n))return t!==n;return!1}(h,m))return[[i,"they return conflicting types "+String(h)+" and "+String(m)],[u],[p]];var v=u.selectionSet,b=p.selectionSet;return v&&b?function(e,t,n,r){if(e.length>0)return[[t,e.map(function(e){var t=e[0];return t})],e.reduce(function(e,t){var n=t[1];return e.concat(n)},[n]),e.reduce(function(e,t){var n=t[2];return e.concat(n)},[r])]}(function(e,t,n,r,i,o,a,s){var u=[],c=Hr(e,t,i,o),l=c[0],p=c[1],d=Hr(e,t,a,s),f=d[0],h=d[1];if(zr(e,u,t,n,r,l,f),0!==h.length)for(var m=Object.create(null),y=0;y<h.length;y++)Vr(e,u,t,m,n,r,l,h[y]);if(0!==p.length)for(var g=Object.create(null),v=0;v<p.length;v++)Vr(e,u,t,g,n,r,f,p[v]);for(var b=0;b<p.length;b++)for(var S=0;S<h.length;S++)Kr(e,u,t,n,r,p[b],h[S]);return u}(e,t,n,f,Q(h),v,Q(m),b),i,u,p):void 0}function Hr(e,t,n,r){var i=t.get(r);if(!i){var o=Object.create(null),s=Object.create(null);!function e(t,n,r,i,o){for(var s=0;s<r.selections.length;s++){var u=r.selections[s];switch(u.kind){case a.FIELD:var c=u.name.value,l=void 0;(S(n)||E(n))&&(l=n.getFields()[c]);var p=u.alias?u.alias.value:c;i[p]||(i[p]=[]),i[p].push([n,u,l]);break;case a.FRAGMENT_SPREAD:o[u.name.value]=!0;break;case a.INLINE_FRAGMENT:var d=u.typeCondition,f=d?ir(t.getSchema(),d):n;e(t,f,u.selectionSet,i,o)}}}(e,n,r,o,s),i=[o,Object.keys(s)],t.set(r,i)}return i}function Wr(e,t,n){var r=t.get(n.selectionSet);if(r)return r;var i=ir(e.getSchema(),n.typeCondition);return Hr(e,t,i,n.selectionSet)}var Jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=Object.create(null)}return e.prototype.has=function(e,t,n){var r=this._data[e],i=r&&r[t];return void 0!==i&&(!1!==n||!1===i)},e.prototype.add=function(e,t,n){Yr(this._data,e,t,n),Yr(this._data,t,e,n)},e}();function Yr(e,t,n,r){var i=e[t];i||(i=Object.create(null),e[t]=i),i[n]=r}function Xr(e){var t=[],n=Object.create(null);return{ObjectValue:{enter:function(){t.push(n),n=Object.create(null)},leave:function(){n=t.pop()}},ObjectField:function(t){var r=t.name.value;return n[r]?e.reportError(new bt(function(e){return'There can be only one input field named "'+e+'".'}(r),[n[r],t.name])):n[r]=t.name,!1}}}var Qr=[function(e){return{Document:function(t){return t.definitions.forEach(function(t){t.kind!==a.OPERATION_DEFINITION&&t.kind!==a.FRAGMENT_DEFINITION&&e.reportError(new bt("The "+(t.kind===a.SCHEMA_DEFINITION?"schema":t.name.value)+" definition is not executable.",[t]))}),!1}}},sr,ur,cr,mr,yr,gr,vr,br,Sr,_r,Er,wr,Ir,Tr,Cr,Nr,Ar,kr,Pr,Rr,Dr,qr,Lr,Br,jr,Xr];function $r(e,t,n,r){return t||i(0,"Must provide document"),Nt(e),function(e,t,n,r){var i=new Zr(e,n,t),o=r.map(function(e){return e(i)});return Me(n,Be(t,Le(o))),i.getErrors()}(e,r||new or(e),t,n||Qr)}var Zr=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._schema=t,this._ast=n,this._typeInfo=r,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===a.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},Object.create(null))),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var n=[e];0!==n.length;)for(var r=n.pop(),i=0;i<r.selections.length;i++){var o=r.selections[i];o.kind===a.FRAGMENT_SPREAD?t.push(o):o.selectionSet&&n.push(o.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var n=Object.create(null),r=[e.selectionSet];0!==r.length;)for(var i=r.pop(),o=this.getFragmentSpreads(i),a=0;a<o.length;a++){var s=o[a].name.value;if(!0!==n[s]){n[s]=!0;var u=this.getFragment(s);u&&(t.push(u),r.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var n=[],r=new or(this._schema);Me(e,Be(r,{VariableDefinition:function(){return!1},Variable:function(e){n.push({node:e,type:r.getInputType()})}})),t=n,this._variableUsages.set(e,t)}return t},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var n=this.getRecursivelyReferencedFragments(e),r=0;r<n.length;r++)Array.prototype.push.apply(t,this.getVariableUsages(n[r]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getParentInputType=function(){return this._typeInfo.getParentInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}(),ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ti(e){if("object"===(void 0===e?"undefined":ei(e))&&null!==e&&"function"==typeof e.then)return e}var ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ri(e,t,n,r){if(O(t))return Pe(e)?oi([ui("Expected non-nullable type "+String(t)+" not to be null",n,r)]):ri(e,t.ofType,n,r);if(Pe(e))return ii(null);if(v(t))try{var i=t.parseValue(e);return o(i)?oi([ui("Expected type "+t.name,n,r)]):ii(i)}catch(e){return oi([ui("Expected type "+t.name,n,r,e.message,e)])}if(C(t)){if("string"==typeof e){var a=t.getValue(e);if(a)return ii(a.value)}var s=lr(String(e),t.getValues().map(function(e){return e.name})),u=0!==s.length?"did you mean "+fr(s)+"?":void 0;return oi([ui("Expected type "+t.name,n,r,u)])}if(P(t)){var c=t.ofType;if(Object(ke.isCollection)(e)){var l=void 0,p=[];return Object(ke.forEach)(e,function(e,t){var i=ri(e,c,n,si(r,t));i.errors?l=ai(l,i.errors):l||p.push(i.value)}),l?oi(l):ii(p)}var d=ri(e,c,n);return d.errors?d:ii([d.value])}if(A(t)){if("object"!==(void 0===e?"undefined":ni(e)))return oi([ui("Expected type "+t.name+" to be an object",n,r)]);var f=void 0,h={},m=t.getFields();for(var y in m)if(li.call(m,y)){var g=m[y],b=e[y];if(o(b))o(g.defaultValue)?O(g.type)&&(f=ai(f,ui("Field "+ci(si(r,y))+" of required type "+String(g.type)+" was not provided",n))):h[y]=g.defaultValue;else{var S=ri(b,g.type,n,si(r,y));S.errors?f=ai(f,S.errors):f||(h[y]=S.value)}}for(var _ in e)if(li.call(e,_)&&!m[_]){var E=lr(_,Object.keys(m)),w=0!==E.length?"did you mean "+fr(E)+"?":void 0;f=ai(f,ui('Field "'+_+'" is not defined by type '+t.name,n,r,w))}return f?oi(f):ii(h)}throw new Error("Unexpected type: "+t+".")}function ii(e){return{errors:void 0,value:e}}function oi(e){return{errors:e,value:void 0}}function ai(e,t){return(e||[]).concat(t)}function si(e,t){return{prev:e,key:t}}function ui(e,t,n,r,i){var o=ci(n);return new bt(e+(o?" at "+o:"")+(r?"; "+r:"."),t,void 0,void 0,void 0,i)}function ci(e){for(var t="",n=e;n;)t=("string"==typeof n.key?"."+n.key:"["+String(n.key)+"]")+t,n=n.prev;return t?"value"+t:""}var li=Object.prototype.hasOwnProperty;function pi(e,t,n){if(e){if(O(t)){if(e.kind===a.NULL)return;return pi(e,t.ofType,n)}if(e.kind===a.NULL)return null;if(e.kind===a.VARIABLE){var r=e.name.value;if(!n||o(n[r]))return;return n[r]}if(P(t)){var i=t.ofType;if(e.kind===a.LIST){for(var s=[],u=e.values,c=0;c<u.length;c++)if(di(u[c],n)){if(O(i))return;s.push(null)}else{var l=pi(u[c],i,n);if(o(l))return;s.push(l)}return s}var p=pi(e,i,n);if(o(p))return;return[p]}if(A(t)){if(e.kind!==a.OBJECT)return;for(var d=Object.create(null),f=Or(e.fields,function(e){return e.name.value}),h=Ae(t.getFields()),m=0;m<h.length;m++){var y=h[m],g=f[y.name];if(g&&!di(g.value,n)){var b=pi(g.value,y.type,n);if(o(b))return;d[y.name]=b}else if(o(y.defaultValue)){if(O(y.type))return}else d[y.name]=y.defaultValue}return d}if(C(t)){if(e.kind!==a.ENUM)return;var S=t.getValue(e.value);if(!S)return;return S.value}if(v(t)){var _=void 0;try{_=t.parseLiteral(e,n)}catch(e){return}if(o(_))return;return _}throw new Error("Unknown type: "+t+".")}}function di(e,t){return e.kind===a.VARIABLE&&(!t||o(t[e.name.value]))}function fi(e,t,n){var r={},i=e.args,s=t.arguments;if(!i||!s)return r;for(var u=Or(s,function(e){return e.name.value}),c=0;c<i.length;c++){var l=i[c],p=l.name,d=l.type,f=u[p],h=l.defaultValue;if(f)if(f.value.kind===a.VARIABLE){var m=f.value.name.value;if(n&&Object.prototype.hasOwnProperty.call(n,m)&&!o(n[m]))r[p]=n[m];else if(o(h)){if(O(d))throw new bt('Argument "'+p+'" of required type "'+String(d)+'" was provided the variable "$'+m+'" which was not provided a runtime value.',[f.value])}else r[p]=h}else{var y=f.value,g=pi(y,d,n);if(o(g))throw new bt('Argument "'+p+'" has invalid value '+je(y)+".",[f.value]);r[p]=g}else if(o(h)){if(O(d))throw new bt('Argument "'+p+'" of required type "'+String(d)+'" was not provided.',[t])}else r[p]=h}return r}function hi(e,t,n){var r=t.directives&&ut(t.directives,function(t){return t.name.value===e.name});if(r)return fi(e,r,n)}var mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function yi(e,t,n,r,i,o,a){return 1===arguments.length?gi(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):gi(e,t,n,r,i,o,a)}function gi(e,t,n,r,i,o,a){Si(e,t,i);var s=_i(e,t,n,r,i,o,a);return Array.isArray(s)?{errors:s}:function e(t,n){var r=ti(n);if(r)return r.then(function(n){return e(t,n)});return 0===t.errors.length?{data:n}:{errors:t.errors,data:n}}(s,function(e,t,n){var r=Ei(e.schema,t),i=Ii(e,r,t.selectionSet,Object.create(null),Object.create(null)),o=void 0;try{var a="mutation"===t.operation?function(e,t,n,r,i){return o=Object.keys(i),a=function(o,a){var s=i[a],u=bi(r,a),c=Ni(e,t,n,s,u);if(void 0===c)return o;var l=ti(c);return l?l.then(function(e){return o[a]=e,o}):(o[a]=c,o)},s=Object.create(null),o.reduce(function(e,t){var n=ti(e);return n?n.then(function(e){return a(e,t)}):a(e,t)},s);var o,a,s}(e,r,n,o,i):wi(e,r,n,o,i),s=ti(a);return s?s.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):a}catch(t){return e.errors.push(t),null}}(s,s.operation,n))}function vi(e){for(var t=[],n=e;n;)t.push(n.key),n=n.prev;return t.reverse()}function bi(e,t){return{prev:e,key:t}}function Si(e,t,n){t||i(0,"Must provide document"),Nt(e),n&&"object"!==(void 0===n?"undefined":mi(n))&&i(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function _i(e,t,n,r,s,u,c){for(var l=[],p=void 0,d=!1,f=Object.create(null),h=0;h<t.definitions.length;h++){var m=t.definitions[h];switch(m.kind){case a.OPERATION_DEFINITION:!u&&p?d=!0:(!u||m.name&&m.name.value===u)&&(p=m);break;case a.FRAGMENT_DEFINITION:f[m.name.value]=m}}p?d&&l.push(new bt("Must provide operation name if query contains multiple operations.")):u?l.push(new bt('Unknown operation named "'+u+'".')):l.push(new bt("Must provide an operation."));var y=void 0;if(p){var g=function(e,t,n){for(var r=[],i={},a=0;a<t.length;a++){var s=t[a],u=s.variable.name.value,c=ir(e,s.type);if(D(c)){var l=n[u];if(o(l))O(c)?r.push(new bt('Variable "$'+u+'" of required type "'+String(c)+'" was not provided.',[s])):s.defaultValue&&(i[u]=pi(s.defaultValue,c));else{var p=ri(l,c,s),d=p.errors;d?function(){var e='Variable "$'+u+'" got invalid value '+JSON.stringify(l)+"; ";d.forEach(function(t){t.message=e+t.message}),r.push.apply(r,d)}():i[u]=p.value}}else r.push(new bt('Variable "$'+u+'" expected value of type "'+je(s.type)+'" which cannot be used as an input type.',[s.type]))}return 0===r.length?{errors:void 0,coerced:i}:{errors:r,coerced:void 0}}(e,p.variableDefinitions||[],s||{});g.errors?l.push.apply(l,g.errors):y=g.coerced}return 0!==l.length?l:(p||i(0,"Has operation if no errors."),y||i(0,"Has variables if no errors."),{schema:e,fragments:f,rootValue:n,contextValue:r,operation:p,variableValues:y,fieldResolver:c||Fi,errors:l})}function Ei(e,t){switch(t.operation){case"query":var n=e.getQueryType();if(!n)throw new bt("Schema does not define the required query root type.",[t]);return n;case"mutation":var r=e.getMutationType();if(!r)throw new bt("Schema is not configured for mutations.",[t]);return r;case"subscription":var i=e.getSubscriptionType();if(!i)throw new bt("Schema is not configured for subscriptions.",[t]);return i;default:throw new bt("Can only execute queries, mutations and subscriptions.",[t])}}function wi(e,t,n,r,i){var o,a,s,u=!1,c=Object.keys(i).reduce(function(o,a){var s=i[a],c=bi(r,a),l=Ni(e,t,n,s,c);return void 0===l?o:(o[a]=l,ti(l)&&(u=!0),o)},Object.create(null));return u?(o=c,a=Object.keys(o),s=a.map(function(e){return o[e]}),Promise.all(s).then(function(e){return e.reduce(function(e,t,n){return e[a[n]]=t,e},Object.create(null))})):c}function Ii(e,t,n,r,i){for(var o=0;o<n.selections.length;o++){var s=n.selections[o];switch(s.kind){case a.FIELD:if(!Ti(e,s))continue;var u=(p=s).alias?p.alias.value:p.name.value;r[u]||(r[u]=[]),r[u].push(s);break;case a.INLINE_FRAGMENT:if(!Ti(e,s)||!Ci(e,s,t))continue;Ii(e,t,s.selectionSet,r,i);break;case a.FRAGMENT_SPREAD:var c=s.name.value;if(i[c]||!Ti(e,s))continue;i[c]=!0;var l=e.fragments[c];if(!l||!Ci(e,l,t))continue;Ii(e,t,l.selectionSet,r,i)}}var p;return r}function Ti(e,t){var n=hi(we,t,e.variableValues);if(n&&!0===n.if)return!1;var r=hi(Ee,t,e.variableValues);return!r||!1!==r.if}function Ci(e,t,n){var r=t.typeCondition;if(!r)return!0;var i=ir(e.schema,r);return i===n||!!V(i)&&e.schema.isPossibleType(i,n)}function Ni(e,t,n,r,i){var o=r[0].name.value,a=ji(e.schema,t,o);if(a){var s=a.resolve||e.fieldResolver,u=Ai(e,a,r,t,i),c=ki(e,a,r,s,n,u);return Ri(e,a.type,r,u,i,c)}}function Ai(e,t,n,r,i){return{fieldName:n[0].name.value,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function ki(e,t,n,r,i,o){try{var a=r(i,fi(t,n[0],e.variableValues),e.contextValue,o),s=ti(a);return s?s.then(void 0,Pi):a}catch(e){return Pi(e)}}function Pi(e){return e instanceof Error?e:new Error(e||void 0)}function Ri(e,t,n,r,i,o){if(O(t))return Oi(e,t,n,r,i,o);try{var a=Oi(e,t,n,r,i,o),s=ti(a);return s?s.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):a}catch(t){return e.errors.push(t),null}}function Oi(e,t,n,r,a,s){try{var u=function e(t,n,r,a,s,u){var c=ti(u);if(c)return c.then(function(i){return e(t,n,r,a,s,i)});if(u instanceof Error)throw u;if(O(n)){var l=e(t,n.ofType,r,a,s,u);if(null===l)throw new Error("Cannot return null for non-nullable field "+a.parentType.name+"."+a.fieldName+".");return l}if(Pe(u))return null;if(P(n))return function(e,t,n,r,o,a){Object(ke.isCollection)(a)||i(0,"Expected Iterable, but did not find one for field "+r.parentType.name+"."+r.fieldName+".");var s=t.ofType,u=!1,c=[];return Object(ke.forEach)(a,function(t,i){var a=bi(o,i),l=Ri(e,s,n,r,a,t);!u&&ti(l)&&(u=!0),c.push(l)}),u?Promise.all(c):c}(t,n,r,a,s,u);if(L(n))return function(e,t){e.serialize||i(0,"Missing serialize method on type");var n=e.serialize(t);if(o(n))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(t));return n}(n,u);if(V(n))return function(e,t,n,r,i,o){var a=t.resolveType?t.resolveType(o,e.contextValue,r):function(e,t,n,r){if(null!==e&&"object"===(void 0===e?"undefined":mi(e))&&"string"==typeof e.__typename)return e.__typename;for(var i=n.schema.getPossibleTypes(r),o=[],a=0;a<i.length;a++){var s=i[a];if(s.isTypeOf){var u=s.isTypeOf(e,t,n),c=ti(u);if(c)o[a]=c;else if(u)return s}}if(o.length)return Promise.all(o).then(function(e){for(var t=0;t<e.length;t++)if(e[t])return i[t]})}(o,e.contextValue,r,t),s=ti(a);if(s)return s.then(function(a){return Di(e,xi(a,e,t,n,r,o),n,r,i,o)});return Di(e,xi(a,e,t,n,r,o),n,r,i,o)}(t,n,r,a,s,u);if(S(n))return Di(t,n,r,a,s,u);throw new Error('Cannot complete value of unexpected type "'+String(n)+'".')}(e,t,n,r,a,s),c=ti(u);return c?c.then(void 0,function(e){return Promise.reject(zt(Pi(e),n,vi(a)))}):u}catch(e){throw zt(Pi(e),n,vi(a))}}function xi(e,t,n,r,i,o){var a="string"==typeof e?t.schema.getType(e):e;if(!S(a))throw new bt("Abstract type "+n.name+" must resolve to an Object type at runtime for field "+i.parentType.name+"."+i.fieldName+' with value "'+String(o)+'", received "'+String(a)+'". Either the '+n.name+' type should provide a "resolveType" function or each possible types should provide an "isTypeOf" function.',r);if(!t.schema.isPossibleType(n,a))throw new bt('Runtime Object type "'+a.name+'" is not a possible type for "'+n.name+'".',r);return a}function Di(e,t,n,r,i,o){if(t.isTypeOf){var a=t.isTypeOf(o,e.contextValue,r),s=ti(a);if(s)return s.then(function(a){if(!a)throw Ui(t,o,n);return Mi(e,t,n,r,i,o)});if(!a)throw Ui(t,o,n)}return Mi(e,t,n,r,i,o)}function Ui(e,t,n){return new bt('Expected value of type "'+e.name+'" but got: '+String(t)+".",n)}function Mi(e,t,n,r,i,o){return wi(e,t,o,i,Bi(e,t,n))}var qi,Li,Bi=(qi=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=0;o<n.length;o++){var a=n[o].selectionSet;a&&(r=Ii(e,t,a,r,i))}return r},Li=void 0,function(e,t,n){Li||(Li=new WeakMap);var r=Li.get(e),i=void 0;if(r){if(i=r.get(t)){var o=i.get(n);if(void 0!==o)return o}}else r=new WeakMap,Li.set(e,r);i||(i=new WeakMap,r.set(t,i));var a=qi.apply(this,arguments);return i.set(n,a),a});var Fi=function(e,t,n,r){if("object"===(void 0===e?"undefined":mi(e))||"function"==typeof e){var i=e[r.fieldName];return"function"==typeof i?e[r.fieldName](t,n,r):i}};function ji(e,t,n){return n===rt.name&&e.getQueryType()===t?rt:n===it.name&&e.getQueryType()===t?it:n===ot.name?ot:t.getFields()[n]}function Vi(e,t,n,r,i,o,a){var s=arguments;return new Promise(function(u){return u(1===s.length?zi(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):zi(e,t,n,r,i,o,a))})}function Ki(e,t,n,r,i,o,a){var s=1===arguments.length?zi(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):zi(e,t,n,r,i,o,a);if(s.then)throw new Error("GraphQL execution failed to complete synchronously.");return s}function zi(e,t,n,r,i,o,a){var s=Ct(e);if(s.length>0)return{errors:s};var u=void 0;try{u=cn(t)}catch(e){return{errors:[e]}}var c=$r(e,u);return c.length>0?{errors:c}:yi(e,u,n,r,i,o,a)}function Gi(e,t,n){var r=Object(ke.getAsyncIterator)(e),i=void 0,o=void 0;function a(e){return e.done?e:Hi(e.value,t).then(Wi,o)}"function"==typeof r.return&&(i=r.return,o=function(e){var t=function(){return Promise.reject(e)};return i.call(r).then(t,t)});var s,u,c,l=void 0;if(n){var p=n;l=function(e){return Hi(e,p).then(Wi,o)}}return s={next:function(){return r.next().then(a,l)},return:function(){return i?i.call(r).then(a,l):Promise.resolve({value:void 0,done:!0})},throw:function(e){return"function"==typeof r.throw?r.throw(e).then(a,l):Promise.reject(e).catch(o)}},u=ke.$$asyncIterator,c=function(){return this},u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,s}function Hi(e,t){return new Promise(function(n){return n(t(e))})}function Wi(e){return{value:e,done:!1}}function Ji(e,t,n,r,i,o,a,s){return 1===arguments.length?Xi(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver,e.subscribeFieldResolver):Xi(e,t,n,r,i,o,a,s)}function Yi(e){if(e instanceof bt)return{errors:[e]};throw e}function Xi(e,t,n,r,i,o,a,s){var u=Qi(e,t,n,r,i,o,s),c=function(n){return yi(e,t,n,r,i,o,a)};return u.then(function(e){return Object(ke.isAsyncIterable)(e)?Gi(e,c,Yi):e},Yi)}function Qi(e,t,n,r,i,o,a){Si(e,t,i);try{var s=_i(e,t,n,r,i,o,a);if(Array.isArray(s))return Promise.resolve({errors:s});var u=Ei(e,s.operation),c=Ii(s,u,s.operation.selectionSet,Object.create(null),Object.create(null)),l=Object.keys(c)[0],p=c[l],d=p[0].name.value,f=ji(e,u,d);if(!f)throw new bt('The subscription field "'+d+'" is not defined.',p);var h=f.subscribe||s.fieldResolver,m=bi(void 0,l),y=Ai(s,f,p,u,m),g=ki(s,f,p,h,n,y);return Promise.resolve(g).then(function(e){if(e instanceof Error)throw zt(e,p,vi(m));if(Object(ke.isAsyncIterable)(e))return e;throw new Error("Subscription field must return Async Iterable. Received: "+String(e))})}catch(e){return Promise.reject(e)}}function $i(e){var t=!(e&&!1===e.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          "+(t?"description":"")+"\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      "+(t?"description":"")+"\n      fields(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      "+(t?"description":"")+"\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}var Zi=$i();function eo(e,t){for(var n=null,r=0;r<e.definitions.length;r++){var i=e.definitions[r];if(i.kind===a.OPERATION_DEFINITION)if(t){if(i.name&&i.name.value===t)return i}else{if(n)return null;n=i}}return n}function to(e,t){var n=yi(e,cn($i(t)));return(n.then||n.errors||!n.data)&&i(0),n.data}function no(e,t){var n=e.__schema,r=Or(n.types,function(e){return e.name}),o=Or(ge.concat(at),function(e){return e.name});function a(e){if(e.kind===tt.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return c(a(t))}if(e.kind===tt.NON_NULL){var n=e.ofType;if(!n)throw new Error("Decorated type deeper than introspection query.");return p(W(a(n)))}if(!e.name)throw new Error("Unknown type reference: "+JSON.stringify(e));return u(e.name)}function u(e){if(o[e])return o[e];var t=r[e];if(!t)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var n=function(e){if(e&&e.name&&e.kind)switch(e.kind){case tt.SCALAR:return new Z({name:(n=e).name,description:n.description,serialize:function(e){return e}});case tt.OBJECT:return function(e){if(!e.interfaces)throw new Error("Introspection result missing interfaces: "+JSON.stringify(e));return new ee({name:e.name,description:e.description,interfaces:e.interfaces.map(d),fields:function(){return f(e)}})}(e);case tt.INTERFACE:return new re({name:(t=e).name,description:t.description,fields:function(){return f(t)}});case tt.UNION:return function(e){if(!e.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+JSON.stringify(e));return new ie({name:e.name,description:e.description,types:e.possibleTypes.map(l)})}(e);case tt.ENUM:return function(e){if(!e.enumValues)throw new Error("Introspection result missing enumValues: "+JSON.stringify(e));return new oe({name:e.name,description:e.description,values:s(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}(e);case tt.INPUT_OBJECT:return function(e){if(!e.inputFields)throw new Error("Introspection result missing inputFields: "+JSON.stringify(e));return new ae({name:e.name,description:e.description,fields:function(){return h(e.inputFields)}})}(e)}var t;var n;throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+JSON.stringify(e))}(t);return o[e]=n,n}function l(e){return _(a(e))}function d(e){return w(a(e))}function f(e){if(!e.fields)throw new Error("Introspection result missing fields: "+JSON.stringify(e));return s(e.fields,function(e){return e.name},function(e){if(!e.args)throw new Error("Introspection result missing field args: "+JSON.stringify(e));return{description:e.description,deprecationReason:e.deprecationReason,type:(t=e.type,n=a(t),M(n)||i(0,"Introspection must provide output type for fields."),n),args:h(e.args)};var t,n})}function h(e){return s(e,function(e){return e.name},m)}function m(e){var t=function(e){var t=a(e);return D(t)||i(0,"Introspection must provide input type for arguments."),t}(e.type),n=e.defaultValue?pi(ln(e.defaultValue),t):void 0;return{name:e.name,description:e.description,type:t,defaultValue:n}}var y=n.types.map(function(e){return u(e.name)}),g=n.queryType?l(n.queryType):null,v=n.mutationType?l(n.mutationType):null,b=n.subscriptionType?l(n.subscriptionType):null,S=n.directives?n.directives.map(function(e){var t=e.locations?e.locations.slice():[].concat(e.onField?[be.FIELD]:[],e.onOperation?[be.QUERY,be.MUTATION,be.SUBSCRIPTION]:[],e.onFragment?[be.FRAGMENT_DEFINITION,be.FRAGMENT_SPREAD,be.INLINE_FRAGMENT]:[]);if(!e.args)throw new Error("Introspection result missing directive args: "+JSON.stringify(e));return new _e({name:e.name,description:e.description,locations:t,args:h(e.args)})}):[];return new pt({query:g,mutation:v,subscription:b,types:y,directives:S,assumeValid:t&&t.assumeValid})}function ro(e,t){if(!e||e.kind!==a.DOCUMENT)throw new Error("Must provide a document ast.");for(var n=void 0,r=[],i=Object.create(null),o=[],s=0;s<e.definitions.length;s++){var u=e.definitions[s];switch(u.kind){case a.SCHEMA_DEFINITION:if(n)throw new Error("Must provide only one schema definition.");n=u;break;case a.SCALAR_TYPE_DEFINITION:case a.OBJECT_TYPE_DEFINITION:case a.INTERFACE_TYPE_DEFINITION:case a.ENUM_TYPE_DEFINITION:case a.UNION_TYPE_DEFINITION:case a.INPUT_OBJECT_TYPE_DEFINITION:var c=u.name.value;if(i[c])throw new Error('Type "'+c+'" was defined more than once.');r.push(u),i[c]=u;break;case a.DIRECTIVE_DEFINITION:o.push(u)}}var l,p=n?(l={},n.operationTypes.forEach(function(e){var t=e.type.name.value,n=e.operation;if(l[n])throw new Error("Must provide only one "+n+" type in schema.");if(!i[t])throw new Error("Specified "+n+' type "'+t+'" not found in document.');l[n]=t}),l):{query:i.Query?"Query":null,mutation:i.Mutation?"Mutation":null,subscription:i.Subscription?"Subscription":null},d=new io(i,t,function(e){throw new Error('Type "'+e+'" not found in document.')}),f=r.map(function(e){return d.buildType(e.name.value)}),h=o.map(function(e){return d.buildDirective(e)});return h.some(function(e){return"skip"===e.name})||h.push(we),h.some(function(e){return"include"===e.name})||h.push(Ee),h.some(function(e){return"deprecated"===e.name})||h.push(Te),new pt({query:p.query?d.buildType(p.query):null,mutation:p.mutation?d.buildType(p.mutation):null,subscription:p.subscription?d.buildType(p.subscription):null,types:f,directives:h,astNode:n,assumeValid:t&&t.assumeValid})}var io=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._typeDefinitionsMap=t,this._options=n,this._resolveType=r,this._cache=Or(ge.concat(at),function(e){return e.name})}return e.prototype._buildType=function(e,t){if(!this._cache[e]){var n=this._typeDefinitionsMap[e];this._cache[e]=n?this._makeSchemaDef(n):this._resolveType(e,t)}return this._cache[e]},e.prototype.buildType=function(e){return"string"==typeof e?this._buildType(e):this._buildType(e.name.value,e)},e.prototype._buildWrappedType=function(e){return function e(t,n){return n.kind===a.LIST_TYPE?c(e(t,n.type)):n.kind===a.NON_NULL_TYPE?p(W(e(t,n.type))):t}(this.buildType(function(e){for(var t=e;t.kind===a.LIST_TYPE||t.kind===a.NON_NULL_TYPE;)t=t.type;return t}(e)),e)},e.prototype.buildDirective=function(e){return new _e({name:e.name.value,description:ao(e,this._options),locations:e.locations.map(function(e){return e.value}),args:e.arguments&&this._makeInputValues(e.arguments),astNode:e})},e.prototype.buildField=function(e){return{type:this._buildWrappedType(e.type),description:ao(e,this._options),args:e.arguments&&this._makeInputValues(e.arguments),deprecationReason:oo(e),astNode:e}},e.prototype._makeSchemaDef=function(e){switch(e.kind){case a.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(e);case a.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(e);case a.ENUM_TYPE_DEFINITION:return this._makeEnumDef(e);case a.UNION_TYPE_DEFINITION:return this._makeUnionDef(e);case a.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(e);case a.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}},e.prototype._makeTypeDef=function(e){var t=this,n=e.name.value;return new ee({name:n,description:ao(e,this._options),fields:function(){return t._makeFieldDefMap(e)},interfaces:function(){return t._makeImplementedInterfaces(e)},astNode:e})},e.prototype._makeFieldDefMap=function(e){var t=this;return e.fields?s(e.fields,function(e){return e.name.value},function(e){return t.buildField(e)}):{}},e.prototype._makeImplementedInterfaces=function(e){var t=this;return e.interfaces&&e.interfaces.map(function(e){return t.buildType(e)})},e.prototype._makeInputValues=function(e){var t=this;return s(e,function(e){return e.name.value},function(e){var n=t._buildWrappedType(e.type);return{type:n,description:ao(e,t._options),defaultValue:pi(e.defaultValue,n),astNode:e}})},e.prototype._makeInterfaceDef=function(e){var t=this;return new re({name:e.name.value,description:ao(e,this._options),fields:function(){return t._makeFieldDefMap(e)},astNode:e})},e.prototype._makeEnumDef=function(e){var t=this;return new oe({name:e.name.value,description:ao(e,this._options),values:e.values?s(e.values,function(e){return e.name.value},function(e){return{description:ao(e,t._options),deprecationReason:oo(e),astNode:e}}):{},astNode:e})},e.prototype._makeUnionDef=function(e){var t=this;return new ie({name:e.name.value,description:ao(e,this._options),types:e.types?e.types.map(function(e){return t.buildType(e)}):[],astNode:e})},e.prototype._makeScalarDef=function(e){return new Z({name:e.name.value,description:ao(e,this._options),astNode:e,serialize:function(e){return e}})},e.prototype._makeInputObjectDef=function(e){var t=this;return new ae({name:e.name.value,description:ao(e,this._options),fields:function(){return e.fields?t._makeInputValues(e.fields):{}},astNode:e})},e}();function oo(e){var t=hi(Te,e);return t&&t.reason}function ao(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var n=function(e){var t=e.loc;if(!t)return;var n=[],r=t.startToken.prev;for(;r&&r.kind===Zt.COMMENT&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.reverse().join("\n")}(e);if(void 0!==n)return Wt("\n"+n)}}function so(e){return ro(cn(e))}function uo(e,t,n){lt(e)||i(0,"Must provide valid GraphQLSchema"),t&&t.kind===a.DOCUMENT||i(0,"Must provide valid Document AST");for(var r=Object.create(null),o=Object.create(null),s=[],u=0;u<t.definitions.length;u++){var l=t.definitions[u];switch(l.kind){case a.OBJECT_TYPE_DEFINITION:case a.INTERFACE_TYPE_DEFINITION:case a.ENUM_TYPE_DEFINITION:case a.UNION_TYPE_DEFINITION:case a.SCALAR_TYPE_DEFINITION:case a.INPUT_OBJECT_TYPE_DEFINITION:var d=l.name.value;if(e.getType(d))throw new bt('Type "'+d+'" already exists in the schema. It cannot also be defined in this type definition.',[l]);r[d]=l;break;case a.OBJECT_TYPE_EXTENSION:var f=l.name.value,h=e.getType(f);if(!h)throw new bt('Cannot extend type "'+f+'" because it does not exist in the existing schema.',[l]);if(!S(h))throw new bt('Cannot extend non-object type "'+f+'".',[l]);var m=o[f];m?m.push(l):m=[l],o[f]=m;break;case a.DIRECTIVE_DEFINITION:var y=l.name.value;if(e.getDirective(y))throw new bt('Directive "'+y+'" already exists in the schema. It cannot be redefined.',[l]);s.push(l);break;case a.SCALAR_TYPE_EXTENSION:case a.INTERFACE_TYPE_EXTENSION:case a.UNION_TYPE_EXTENSION:case a.ENUM_TYPE_EXTENSION:case a.INPUT_OBJECT_TYPE_EXTENSION:throw new Error("The "+l.kind+" kind is not yet supported by extendSchema().")}}if(0===Object.keys(o).length&&0===Object.keys(r).length&&0===s.length)return e;var g=new io(r,n,function(t,n){var r=e.getType(t);if(r)return function(e){if(S(e))return function(e){var t=e.name,n=o[t]?e.extensionASTNodes?e.extensionASTNodes.concat(o[t]):o[t]:e.extensionASTNodes;return new ee({name:t,description:e.description,interfaces:function(){return function(e){var t=e.getInterfaces().map(k),n=o[e.name];n&&n.forEach(function(e){e.interfaces.forEach(function(e){t.push(g.buildType(e))})});return t}(e)},fields:function(){return R(e)},astNode:e.astNode,extensionASTNodes:n,isTypeOf:e.isTypeOf})}(e);if(E(e))return function(e){return new re({name:e.name,description:e.description,fields:function(){return R(e)},astNode:e.astNode,resolveType:e.resolveType})}(e);if(I(e))return function(e){return new ie({name:e.name,description:e.description,types:e.getTypes().map(k),astNode:e.astNode,resolveType:e.resolveType})}(e);return e}(r);if(n)throw new bt('Unknown type: "'+t+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[n]);throw bt("Missing type from schema")}),v=e.getQueryType(),b=v?g.buildType(v.name):null,_=e.getMutationType(),w=_?g.buildType(_.name):null,T=e.getSubscriptionType(),C=T?g.buildType(T.name):null,N=e.getTypeMap(),A=Object.keys(N).map(function(e){return g.buildType(e)});return Object.keys(r).forEach(function(e){A.push(g.buildType(e))}),new pt({query:b,mutation:w,subscription:C,types:A,directives:function(){var t=e.getDirectives();t||i(0,"schema must have default directives");var n=s.map(function(e){return g.buildDirective(e)});return t.concat(n)}(),astNode:e.astNode,allowedLegacyNames:e.__allowedLegacyNames&&e.__allowedLegacyNames.slice()});function k(e){return g.buildType(e.name)}function R(e){var t=Object.create(null),n=e.getFields();Object.keys(n).forEach(function(e){var r=n[e];t[e]={description:r.description,deprecationReason:r.deprecationReason,type:x(r.type),args:Or(r.args,function(e){return e.name}),astNode:r.astNode,resolve:r.resolve}});var r=o[e.name];return r&&r.forEach(function(r){r.fields.forEach(function(r){var i=r.name.value;if(n[i])throw new bt('Field "'+e.name+"."+i+'" already exists in the schema. It cannot also be defined in this type extension.',[r]);t[i]=g.buildField(r)})}),t}function x(e){return P(e)?c(x(e.ofType)):O(e)?p(x(e.ofType)):k(e)}}var co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function lo(e){var t=Object.create(null),n=function(e){return e&&u(e)};return new pt({types:fo(Ae(e.getTypeMap()).map(u)),directives:fo(e.getDirectives()).map(function(e){return new _e({name:e.name,description:e.description,locations:ho(e.locations,function(e){return e}),args:r(e.args),astNode:e.astNode})}),query:n(e.getQueryType()),mutation:n(e.getMutationType()),subscription:n(e.getSubscriptionType()),astNode:e.astNode});function r(e){return s(fo(e),function(e){return e.name},function(e){return co({},e,{type:o(e.type)})})}function i(e){return function(){return po(e,function(e){return{type:o(e.type),args:r(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}})}}function o(e){return P(e)?new c(o(e.ofType)):O(e)?new p(o(e.ofType)):u(e)}function a(e){return function(){return fo(e).map(u)}}function u(e){if(ve(e)||st(e))return e;var n=t[e.name];return n||(n=function(e){if(v(e))return e;if(S(e))return new ee({name:e.name,interfaces:a(e.getInterfaces()),fields:i(e.getFields()),isTypeOf:e.isTypeOf,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if(E(e))return new re({name:e.name,fields:i(e.getFields()),resolveType:e.resolveType,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if(I(e))return new ie({name:e.name,types:a(e.getTypes()),resolveType:e.resolveType,description:e.description,astNode:e.astNode});if(C(e))return new oe({name:e.name,values:s(fo(e.getValues()),function(e){return e.name},function(e){return{value:e.value,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}}),description:e.description,astNode:e.astNode});if(A(e))return new ae({name:e.name,fields:(t=e.getFields(),function(){return po(t,function(e){return{type:o(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}})}),description:e.description,astNode:e.astNode});var t;throw new Error('Unknown type: "'+e+'"')}(e),t[e.name]=n),n}}function po(e,t){var n=Object.create(null),r=ho(Object.keys(e),function(e){return e}),i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=e[c];n[c]=t?t(l):l}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}function fo(e){return ho(e,function(e){return e.name})}function ho(e,t){return e.slice().sort(function(e,n){var r=t(e),i=t(n);return r.localeCompare(i)})}function mo(e,t){return vo(e,function(e){return!Ne(e)},go,t)}function yo(e,t){return vo(e,Ne,st,t)}function go(e){return!ve(e)&&!st(e)}function vo(e,t,n,r){var i=e.getDirectives().filter(t),o=e.getTypeMap(),a=Ae(o).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(n);return[bo(e)].concat(i.map(function(e){return function(e,t){return To(t,e)+"directive @"+e.name+Eo(t,e.args)+" on "+e.locations.join(" | ")}(e,r)}),a.map(function(e){return So(e,r)})).filter(Boolean).join("\n\n")+"\n"}function bo(e){if(!function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;var r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e)){var t=[],n=e.getQueryType();n&&t.push("  query: "+n.name);var r=e.getMutationType();r&&t.push("  mutation: "+r.name);var i=e.getSubscriptionType();return i&&t.push("  subscription: "+i.name),"schema {\n"+t.join("\n")+"\n}"}}function So(e,t){if(v(e))return function(e,t){return To(t,e)+"scalar "+e.name}(e,t);if(S(e))return function(e,t){var n=e.getInterfaces(),r=n.length?" implements "+n.map(function(e){return e.name}).join(" & "):"";return To(t,e)+"type "+e.name+r+" {\n"+_o(t,e)+"\n}"}(e,t);if(E(e))return function(e,t){return To(t,e)+"interface "+e.name+" {\n"+_o(t,e)+"\n}"}(e,t);if(I(e))return function(e,t){return To(t,e)+"union "+e.name+" = "+e.getTypes().join(" | ")}(e,t);if(C(e))return function(e,t){return To(t,e)+"enum "+e.name+" {\n"+function(e,t){return e.map(function(e,n){return To(t,e,"  ",!n)+"  "+e.name+Io(e)}).join("\n")}(e.getValues(),t)+"\n}"}(e,t);if(A(e))return function(e,t){var n=Ae(e.getFields());return To(t,e)+"input "+e.name+" {\n"+n.map(function(e,n){return To(t,e,"  ",!n)+"  "+wo(e)}).join("\n")+"\n}"}(e,t);throw new Error("Unknown type: "+e+".")}function _o(e,t){return Ae(t.getFields()).map(function(t,n){return To(e,t,"  ",!n)+"  "+t.name+Eo(e,t.args,"  ")+": "+String(t.type)+Io(t)}).join("\n")}function Eo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every(function(e){return!e.description})?"("+t.map(wo).join(", ")+")":"(\n"+t.map(function(t,r){return To(e,t,"  "+n,!r)+"  "+n+wo(t)}).join("\n")+"\n"+n+")"}function wo(e){var t=e.name+": "+String(e.type);return o(e.defaultValue)||(t+=" = "+je(Oe(e.defaultValue,e.type))),t}function Io(e){if(!e.isDeprecated)return"";var t=e.deprecationReason;return Pe(t)||""===t||t===Ie?" @deprecated":" @deprecated(reason: "+je(Oe(t,he))+")"}function To(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.description)return"";var i=function(e,t){for(var n=[],r=e.split("\n"),i=0;i<r.length;i++)if(""===r[i])n.push(r[i]);else for(var o=No(r[i],t),a=0;a<o.length;a++)n.push(o[a]);return n}(t.description,120-n.length);if(e&&e.commentDescriptions)return function(e,t,n){for(var r=t&&!n?"\n":"",i=0;i<e.length;i++)""===e[i]?r+=t+"#\n":r+=t+"# "+e[i]+"\n";return r}(i,n,r);var o=n&&!r?"\n"+n+'"""':n+'"""';if(1===i.length&&i[0].length<70&&'"'!==i[0][i[0].length-1])return o+Co(i[0])+'"""\n';var a=" "===i[0][0]||"\t"===i[0][0];a||(o+="\n");for(var s=0;s<i.length;s++)0===s&&a||(o+=n),o+=Co(i[s])+"\n";return o+=n+'"""\n'}function Co(e){return e.replace(/"""/g,'\\"""')}function No(e,t){if(e.length<t+5)return[e];var n=e.split(new RegExp("((?: |^).{15,"+(t-40)+"}(?= |$))"));if(n.length<4)return[e];for(var r=[n[0]+n[1]+n[2]],i=3;i<n.length;i+=2)r.push(n[i].slice(1)+n[i+1]);return r}function Ao(e,t){var n=ri(e,t).errors;return n?n.map(function(e){return e.message}):[]}function ko(e,t){var n=new pt({}),r={kind:a.DOCUMENT,definitions:[]},i=new or(n,void 0,e),o=new Zr(n,r,i);return Me(t,Be(i,Dr(o))),o.getErrors()}function Po(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].definitions,i=0;i<r.length;i++)t.push(r[i]);return{kind:"Document",definitions:t}}function Ro(e){var t=[],n=Object.create(null),r=new Map,i=Object.create(null),o=void 0,a=0;Me(e,{OperationDefinition:function(e){o=Oo(e),t.push(e),r.set(e,a++)},FragmentDefinition:function(e){o=e.name.value,n[o]=e,r.set(e,a++)},FragmentSpread:function(e){var t=e.name.value;(i[o]||(i[o]=Object.create(null)))[t]=!0}});var s=Object.create(null);return t.forEach(function(e){var t=Oo(e),o=Object.create(null);!function e(t,n,r){var i=n[r];i&&Object.keys(i).forEach(function(r){t[r]||(t[r]=!0,e(t,n,r))})}(o,i,t);var a=[e];Object.keys(o).forEach(function(e){a.push(n[e])}),a.sort(function(e,t){return(r.get(e)||0)-(r.get(t)||0)}),s[t]={kind:"Document",definitions:a}}),s}function Oo(e){return e.name?e.name.value:""}var xo={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",NON_NULL_ARG_ADDED:"NON_NULL_ARG_ADDED",NON_NULL_INPUT_FIELD_ADDED:"NON_NULL_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED",NON_NULL_DIRECTIVE_ARG_ADDED:"NON_NULL_DIRECTIVE_ARG_ADDED"},Do={ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE",VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",NULLABLE_INPUT_FIELD_ADDED:"NULLABLE_INPUT_FIELD_ADDED",NULLABLE_ARG_ADDED:"NULLABLE_ARG_ADDED"};function Uo(e,t){return[].concat(function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){r[e]||i.push({type:xo.TYPE_REMOVED,description:e+" was removed."})}),i}(e,t),function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){if(r[e]){var t=n[e],o=r[e];t.constructor!==o.constructor&&i.push({type:xo.TYPE_CHANGED_KIND,description:e+" changed from "+Lo(t)+" to "+Lo(o)+"."})}}),i}(e,t),function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){var t=n[e],o=r[e];if((S(t)||E(t))&&(S(o)||E(o))&&o.constructor===t.constructor){var a=t.getFields(),s=o.getFields();Object.keys(a).forEach(function(t){if(t in s){var n=a[t].type,r=s[t].type;if(!function e(t,n){return Y(t)?Y(n)&&t.name===n.name||O(n)&&e(t,n.ofType):P(t)?P(n)&&e(t.ofType,n.ofType)||O(n)&&e(t,n.ofType):!!O(t)&&(O(n)&&e(t.ofType,n.ofType))}(n,r)){var o=Y(n)?n.name:n.toString(),u=Y(r)?r.name:r.toString();i.push({type:xo.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+o+" to "+u+"."})}}else i.push({type:xo.FIELD_REMOVED,description:e+"."+t+" was removed."})})}}),i}(e,t),Bo(e,t).breakingChanges,function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){var t=n[e],o=r[e];if(I(t)&&I(o)){var a=Object.create(null);o.getTypes().forEach(function(e){a[e.name]=!0}),t.getTypes().forEach(function(t){a[t.name]||i.push({type:xo.TYPE_REMOVED_FROM_UNION,description:t.name+" was removed from union type "+e+"."})})}}),i}(e,t),function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){var t=n[e],o=r[e];if(C(t)&&C(o)){var a=Object.create(null);o.getValues().forEach(function(e){a[e.name]=!0}),t.getValues().forEach(function(t){a[t.name]||i.push({type:xo.VALUE_REMOVED_FROM_ENUM,description:t.name+" was removed from enum type "+e+"."})})}}),i}(e,t),qo(e,t).breakingChanges,function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){var t=n[e],o=r[e];if(S(t)&&S(o)){var a=t.getInterfaces(),s=o.getInterfaces();a.forEach(function(t){s.some(function(e){return e.name===t.name})||i.push({type:xo.INTERFACE_REMOVED_FROM_OBJECT,description:e+" no longer implements interface "+t.name+"."})})}}),i}(e,t),function(e,t){var n=[],r=jo(t);return e.getDirectives().forEach(function(e){r[e.name]||n.push({type:xo.DIRECTIVE_REMOVED,description:e.name+" was removed"})}),n}(e,t),function(e,t){var n=[],r=jo(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=Vo(t);return e.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){n.push({type:xo.DIRECTIVE_ARG_REMOVED,description:t.name+" was removed from "+e.name})})}),n}(e,t),function(e,t){var n=[],r=jo(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=Vo(e);return t.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){O(t.type)&&n.push({type:xo.NON_NULL_DIRECTIVE_ARG_ADDED,description:"A non-null arg "+t.name+" on directive "+e.name+" was added"})})}),n}(e,t),function(e,t){var n=[],r=jo(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=new Set(t.locations);return e.locations.forEach(function(e){r.has(e)||n.push(e)}),n}(t,e).forEach(function(t){n.push({type:xo.DIRECTIVE_LOCATION_REMOVED,description:t+" was removed from "+e.name})})}),n}(e,t))}function Mo(e,t){return[].concat(qo(e,t).dangerousChanges,function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){var t=n[e],o=r[e];if(C(t)&&C(o)){var a=Object.create(null);t.getValues().forEach(function(e){a[e.name]=!0}),o.getValues().forEach(function(t){a[t.name]||i.push({type:Do.VALUE_ADDED_TO_ENUM,description:t.name+" was added to enum type "+e+"."})})}}),i}(e,t),function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(r).forEach(function(e){var t=n[e],o=r[e];if(S(t)&&S(o)){var a=t.getInterfaces();o.getInterfaces().forEach(function(t){a.some(function(e){return e.name===t.name})||i.push({type:Do.INTERFACE_ADDED_TO_OBJECT,description:t.name+" added to interfaces implemented by "+e+"."})})}}),i}(e,t),function(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(r).forEach(function(e){var t=n[e],o=r[e];if(I(t)&&I(o)){var a=Object.create(null);t.getTypes().forEach(function(e){a[e.name]=!0}),o.getTypes().forEach(function(t){a[t.name]||i.push({type:Do.TYPE_ADDED_TO_UNION,description:t.name+" was added to union type "+e+"."})})}}),i}(e,t),Bo(e,t).dangerousChanges)}function qo(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[],o=[];return Object.keys(n).forEach(function(e){var t=n[e],a=r[e];if((S(t)||E(t))&&(S(a)||E(a))&&a.constructor===t.constructor){var s=t.getFields(),u=a.getFields();Object.keys(s).forEach(function(e){u[e]&&(s[e].args.forEach(function(n){var r=u[e].args.find(function(e){return e.name===n.name});r?Fo(n.type,r.type)?void 0!==n.defaultValue&&n.defaultValue!==r.defaultValue&&o.push({type:Do.ARG_DEFAULT_VALUE_CHANGE,description:t.name+"."+e+" arg "+n.name+" has changed defaultValue"}):i.push({type:xo.ARG_CHANGED_KIND,description:t.name+"."+e+" arg "+n.name+" has changed type from "+n.type.toString()+" to "+r.type.toString()}):i.push({type:xo.ARG_REMOVED,description:t.name+"."+e+" arg "+n.name+" was removed"})}),u[e].args.forEach(function(t){s[e].args.find(function(e){return e.name===t.name})||(O(t.type)?i.push({type:xo.NON_NULL_ARG_ADDED,description:"A non-null arg "+t.name+" on "+a.name+"."+e+" was added"}):o.push({type:Do.NULLABLE_ARG_ADDED,description:"A nullable arg "+t.name+" on "+a.name+"."+e+" was added"}))}))})}}),{breakingChanges:i,dangerousChanges:o}}function Lo(e){if(v(e))return"a Scalar type";if(S(e))return"an Object type";if(E(e))return"an Interface type";if(I(e))return"a Union type";if(C(e))return"an Enum type";if(A(e))return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function Bo(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[],o=[];return Object.keys(n).forEach(function(e){var t=n[e],a=r[e];if(A(t)&&A(a)){var s=t.getFields(),u=a.getFields();Object.keys(s).forEach(function(t){if(t in u){var n=s[t].type,r=u[t].type;if(!Fo(n,r)){var o=Y(n)?n.name:n.toString(),a=Y(r)?r.name:r.toString();i.push({type:xo.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+o+" to "+a+"."})}}else i.push({type:xo.FIELD_REMOVED,description:e+"."+t+" was removed."})}),Object.keys(u).forEach(function(e){e in s||(O(u[e].type)?i.push({type:xo.NON_NULL_INPUT_FIELD_ADDED,description:"A non-null field "+e+" on input type "+a.name+" was added."}):o.push({type:Do.NULLABLE_INPUT_FIELD_ADDED,description:"A nullable field "+e+" on input type "+a.name+" was added."}))})}}),{breakingChanges:i,dangerousChanges:o}}function Fo(e,t){return Y(e)?Y(t)&&e.name===t.name:P(e)?P(t)&&Fo(e.ofType,t.ofType):!!O(e)&&(O(t)&&Fo(e.ofType,t.ofType)||!O(t)&&Fo(e.ofType,t))}function jo(e){return Or(e.getDirectives(),function(e){return e.name})}function Vo(e){return Or(e.args,function(e){return e.name})}function Ko(e,t){var n=[],r=new or(e);return Me(t,Be(r,{Field:function(e){var t=r.getFieldDef();if(t&&t.isDeprecated){var i=r.getParentType();if(i){var o=t.deprecationReason;n.push(new bt("The field "+i.name+"."+t.name+" is deprecated."+(o?" "+o:""),[e]))}}},EnumValue:function(e){var t=r.getEnumValue();if(t&&t.isDeprecated){var i=Q(r.getInputType());if(i){var o=t.deprecationReason;n.push(new bt("The enum value "+i.name+"."+t.name+" is deprecated."+(o?" "+o:""),[e]))}}}})),n}n.d(t,"graphql",function(){return Vi}),n.d(t,"graphqlSync",function(){return Ki}),n.d(t,"GraphQLSchema",function(){return pt}),n.d(t,"GraphQLScalarType",function(){return Z}),n.d(t,"GraphQLObjectType",function(){return ee}),n.d(t,"GraphQLInterfaceType",function(){return re}),n.d(t,"GraphQLUnionType",function(){return ie}),n.d(t,"GraphQLEnumType",function(){return oe}),n.d(t,"GraphQLInputObjectType",function(){return ae}),n.d(t,"GraphQLList",function(){return c}),n.d(t,"GraphQLNonNull",function(){return p}),n.d(t,"GraphQLDirective",function(){return _e}),n.d(t,"TypeKind",function(){return tt}),n.d(t,"specifiedScalarTypes",function(){return ge}),n.d(t,"GraphQLInt",function(){return le}),n.d(t,"GraphQLFloat",function(){return de}),n.d(t,"GraphQLString",function(){return he}),n.d(t,"GraphQLBoolean",function(){return me}),n.d(t,"GraphQLID",function(){return ye}),n.d(t,"specifiedDirectives",function(){return Ce}),n.d(t,"GraphQLIncludeDirective",function(){return Ee}),n.d(t,"GraphQLSkipDirective",function(){return we}),n.d(t,"GraphQLDeprecatedDirective",function(){return Te}),n.d(t,"DEFAULT_DEPRECATION_REASON",function(){return Ie}),n.d(t,"SchemaMetaFieldDef",function(){return rt}),n.d(t,"TypeMetaFieldDef",function(){return it}),n.d(t,"TypeNameMetaFieldDef",function(){return ot}),n.d(t,"introspectionTypes",function(){return at}),n.d(t,"__Schema",function(){return Je}),n.d(t,"__Directive",function(){return Ye}),n.d(t,"__DirectiveLocation",function(){return Xe}),n.d(t,"__Type",function(){return Qe}),n.d(t,"__Field",function(){return $e}),n.d(t,"__InputValue",function(){return Ze}),n.d(t,"__EnumValue",function(){return et}),n.d(t,"__TypeKind",function(){return nt}),n.d(t,"isSchema",function(){return lt}),n.d(t,"isDirective",function(){return Se}),n.d(t,"isType",function(){return y}),n.d(t,"isScalarType",function(){return v}),n.d(t,"isObjectType",function(){return S}),n.d(t,"isInterfaceType",function(){return E}),n.d(t,"isUnionType",function(){return I}),n.d(t,"isEnumType",function(){return C}),n.d(t,"isInputObjectType",function(){return A}),n.d(t,"isListType",function(){return P}),n.d(t,"isNonNullType",function(){return O}),n.d(t,"isInputType",function(){return D}),n.d(t,"isOutputType",function(){return M}),n.d(t,"isLeafType",function(){return L}),n.d(t,"isCompositeType",function(){return F}),n.d(t,"isAbstractType",function(){return V}),n.d(t,"isWrappingType",function(){return z}),n.d(t,"isNullableType",function(){return H}),n.d(t,"isNamedType",function(){return Y}),n.d(t,"isSpecifiedScalarType",function(){return ve}),n.d(t,"isIntrospectionType",function(){return st}),n.d(t,"isSpecifiedDirective",function(){return Ne}),n.d(t,"assertType",function(){return g}),n.d(t,"assertScalarType",function(){return b}),n.d(t,"assertObjectType",function(){return _}),n.d(t,"assertInterfaceType",function(){return w}),n.d(t,"assertUnionType",function(){return T}),n.d(t,"assertEnumType",function(){return N}),n.d(t,"assertInputObjectType",function(){return k}),n.d(t,"assertListType",function(){return R}),n.d(t,"assertNonNullType",function(){return x}),n.d(t,"assertInputType",function(){return U}),n.d(t,"assertOutputType",function(){return q}),n.d(t,"assertLeafType",function(){return B}),n.d(t,"assertCompositeType",function(){return j}),n.d(t,"assertAbstractType",function(){return K}),n.d(t,"assertWrappingType",function(){return G}),n.d(t,"assertNullableType",function(){return W}),n.d(t,"assertNamedType",function(){return X}),n.d(t,"getNullableType",function(){return J}),n.d(t,"getNamedType",function(){return Q}),n.d(t,"validateSchema",function(){return Ct}),n.d(t,"assertValidSchema",function(){return Nt}),n.d(t,"Source",function(){return Vt}),n.d(t,"getLocation",function(){return ht}),n.d(t,"parse",function(){return cn}),n.d(t,"parseValue",function(){return ln}),n.d(t,"parseType",function(){return pn}),n.d(t,"print",function(){return je}),n.d(t,"visit",function(){return Me}),n.d(t,"visitInParallel",function(){return Le}),n.d(t,"visitWithTypeInfo",function(){return Be}),n.d(t,"getVisitFn",function(){return Fe}),n.d(t,"Kind",function(){return a}),n.d(t,"TokenKind",function(){return Zt}),n.d(t,"DirectiveLocation",function(){return be}),n.d(t,"BREAK",function(){return Ue}),n.d(t,"execute",function(){return yi}),n.d(t,"defaultFieldResolver",function(){return Fi}),n.d(t,"responsePathAsArray",function(){return vi}),n.d(t,"getDirectiveValues",function(){return hi}),n.d(t,"subscribe",function(){return Ji}),n.d(t,"createSourceEventStream",function(){return Qi}),n.d(t,"validate",function(){return $r}),n.d(t,"ValidationContext",function(){return Zr}),n.d(t,"specifiedRules",function(){return Qr}),n.d(t,"FieldsOnCorrectTypeRule",function(){return br}),n.d(t,"FragmentsOnCompositeTypesRule",function(){return yr}),n.d(t,"KnownArgumentNamesRule",function(){return Pr}),n.d(t,"KnownDirectivesRule",function(){return Ar}),n.d(t,"KnownFragmentNamesRule",function(){return _r}),n.d(t,"KnownTypeNamesRule",function(){return mr}),n.d(t,"LoneAnonymousOperationRule",function(){return ur}),n.d(t,"NoFragmentCyclesRule",function(){return Ir}),n.d(t,"NoUndefinedVariablesRule",function(){return Cr}),n.d(t,"NoUnusedFragmentsRule",function(){return Er}),n.d(t,"NoUnusedVariablesRule",function(){return Nr}),n.d(t,"OverlappingFieldsCanBeMergedRule",function(){return jr}),n.d(t,"PossibleFragmentSpreadsRule",function(){return wr}),n.d(t,"ProvidedNonNullArgumentsRule",function(){return qr}),n.d(t,"ScalarLeafsRule",function(){return vr}),n.d(t,"SingleFieldSubscriptionsRule",function(){return cr}),n.d(t,"UniqueArgumentNamesRule",function(){return Rr}),n.d(t,"UniqueDirectivesPerLocationRule",function(){return kr}),n.d(t,"UniqueFragmentNamesRule",function(){return Sr}),n.d(t,"UniqueInputFieldNamesRule",function(){return Xr}),n.d(t,"UniqueOperationNamesRule",function(){return sr}),n.d(t,"UniqueVariableNamesRule",function(){return Tr}),n.d(t,"ValuesOfCorrectTypeRule",function(){return Dr}),n.d(t,"VariablesAreInputTypesRule",function(){return gr}),n.d(t,"VariablesDefaultValueAllowedRule",function(){return Lr}),n.d(t,"VariablesInAllowedPositionRule",function(){return Br}),n.d(t,"GraphQLError",function(){return bt}),n.d(t,"formatError",function(){return Ht}),n.d(t,"printError",function(){return mt}),n.d(t,"getIntrospectionQuery",function(){return $i}),n.d(t,"introspectionQuery",function(){return Zi}),n.d(t,"getOperationAST",function(){return eo}),n.d(t,"introspectionFromSchema",function(){return to}),n.d(t,"buildClientSchema",function(){return no}),n.d(t,"buildASTSchema",function(){return ro}),n.d(t,"buildSchema",function(){return so}),n.d(t,"getDescription",function(){return ao}),n.d(t,"extendSchema",function(){return uo}),n.d(t,"lexicographicSortSchema",function(){return lo}),n.d(t,"printSchema",function(){return mo}),n.d(t,"printIntrospectionSchema",function(){return yo}),n.d(t,"printType",function(){return So}),n.d(t,"typeFromAST",function(){return ir}),n.d(t,"valueFromAST",function(){return pi}),n.d(t,"valueFromASTUntyped",function(){return u}),n.d(t,"astFromValue",function(){return Oe}),n.d(t,"TypeInfo",function(){return or}),n.d(t,"coerceValue",function(){return ri}),n.d(t,"isValidJSValue",function(){return Ao}),n.d(t,"isValidLiteralValue",function(){return ko}),n.d(t,"concatAST",function(){return Po}),n.d(t,"separateOperations",function(){return Ro}),n.d(t,"isEqualType",function(){return wt}),n.d(t,"isTypeSubTypeOf",function(){return It}),n.d(t,"doTypesOverlap",function(){return Tt}),n.d(t,"assertValidName",function(){return _t}),n.d(t,"findBreakingChanges",function(){return Uo}),n.d(t,"findDangerousChanges",function(){return Mo}),n.d(t,"BreakingChangeType",function(){return xo}),n.d(t,"DangerousChangeType",function(){return Do}),n.d(t,"findDeprecatedUsages",function(){return Ko})},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r);var o={aws_project_region:"eu-west-2",aws_cognito_identity_pool_id:"eu-west-2:5ad8c79a-2cdc-4da4-a94c-1c42becdf301",aws_cognito_region:"eu-west-2",aws_user_pools_id:"eu-west-2_MUFO3Qdac",aws_user_pools_web_client_id:"1ou6jkhe2u8j7sj14rek4a6mcq",oauth:{domain:"football-championship-dev.auth.eu-west-2.amazoncognito.com",scope:["phone","email","openid","profile","aws.cognito.signin.user.admin"],redirectSignIn:"https://aguacongas.github.io/football-championship/",redirectSignOut:"https://aguacongas.github.io/football-championship/",responseType:"code"},federationTarget:"COGNITO_USER_POOLS",aws_appsync_graphqlEndpoint:"https://pod5c66d6ze73b62evt7xqpn4q.appsync-api.eu-west-2.amazonaws.com/graphql",aws_appsync_region:"eu-west-2",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"};window.amplifyWrapper={configure:e=>{e=e||o,i.a.configure(e)},hub:{listen:e=>{function t(){r.Auth.currentAuthenticatedUser().then(t=>{t.signInUserSession.idToken.payload.groups=t.signInUserSession.idToken.payload["cognito:groups"],e.invokeMethodAsync("SetUser",t).then(e=>{})}).catch(()=>e.invokeMethodAsync("SetUser",null).then(e=>console.log("Not signed in")))}r.Hub.listen("auth",({payload:{event:e}})=>{switch(e){case"signIn":t()}}),!location||location.search&&location.search.startsWith("?code=")||t()}},auth:{federatedSignIn:e=>{e?r.Auth.federatedSignIn({provider:e}):r.Auth.federatedSignIn()},signout:e=>{r.Auth.signOut().then(t=>e.invokeMethodAsync("SetUser",null,null).then(e=>{console.log(t)})).catch(e=>console.log(e))}},graphql:{operation:async(e,t)=>await r.API.graphql(Object(r.graphqlOperation)(e,t)),subsription:(e,t,n)=>{r.API.graphql(e).subscribe({next:e=>n.invokeMethodAsync(t,e).then(t=>console.log(e)).catch(e=>console.log(e))})}}}}]);